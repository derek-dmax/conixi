{"remainingRequest":"C:\\Apps\\Velson\\modern\\node_modules\\babel-loader\\lib\\index.js!C:\\Apps\\Velson\\modern\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Apps\\Velson\\modern\\src\\authUtils.js","dependencies":[{"path":"C:\\Apps\\Velson\\modern\\src\\authUtils.js","mtime":1669220570294},{"path":"C:\\Apps\\Velson\\modern\\babel.config.js","mtime":1669220570149},{"path":"C:\\Apps\\Velson\\modern\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669221121540},{"path":"C:\\Apps\\Velson\\modern\\node_modules\\babel-loader\\lib\\index.js","mtime":1669221121449},{"path":"C:\\Apps\\Velson\\modern\\node_modules\\eslint-loader\\index.js","mtime":1669221132004}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9BcHBzL1ZlbHNvbi9tb2Rlcm4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlL2NvbXBhdC9hcHAnOwovLyBBZGQgdGhlIEZpcmViYXNlIHByb2R1Y3RzIHRoYXQgeW91IHdhbnQgdG8gdXNlCmltcG9ydCAiZmlyZWJhc2UvY29tcGF0L2F1dGgiOwppbXBvcnQgImZpcmViYXNlL2NvbXBhdC9maXJlc3RvcmUiOwpjbGFzcyBGaXJlYmFzZUF1dGhCYWNrZW5kIHsKICBjb25zdHJ1Y3RvcihmaXJlYmFzZUNvbmZpZykgewogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyZWdpc3RlclVzZXIiLCAodXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCkgPT4gewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgIGZpcmViYXNlLmF1dGgoKS5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBsZXQgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51cGRhdGVQcm9maWxlKHsKICAgICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXJuYW1lCiAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUodXNlcik7CiAgICAgICAgfSwgZXJyb3IgPT4gewogICAgICAgICAgcmVqZWN0KHRoaXMuX2hhbmRsZUVycm9yKGVycm9yKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImxvZ2luVXNlciIsIChlbWFpbCwgcGFzc3dvcmQpID0+IHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKS50aGVuKCgpID0+IHsKICAgICAgICAgIHZhciB1c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyOwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXV0aFVzZXIiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICAgICAgICByZXNvbHZlKHVzZXIpOwogICAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICAgIHJlamVjdCh0aGlzLl9oYW5kbGVFcnJvcihlcnJvcikpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJmb3JnZXRQYXNzd29yZCIsIGVtYWlsID0+IHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChlbWFpbCwgewogICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyAiL2xvZ2luIgogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICByZWplY3QodGhpcy5faGFuZGxlRXJyb3IoZXJyb3IpKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAibG9nb3V0IiwgKCkgPT4gewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbigoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHJlamVjdCh0aGlzLl9oYW5kbGVFcnJvcihlcnJvcikpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzZXRMb2dnZWVkSW5Vc2VyIiwgdXNlciA9PiB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImF1dGhVc2VyIiwgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEF1dGhlbnRpY2F0ZWRVc2VyIiwgKCkgPT4gewogICAgICBpZiAoIXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2F1dGhVc2VyJykpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhdXRoVXNlcicpKTsKICAgIH0pOwogICAgaWYgKGZpcmViYXNlQ29uZmlnKSB7CiAgICAgIC8vIEluaXRpYWxpemUgRmlyZWJhc2UKICAgICAgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQodXNlciA9PiB7CiAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgIC8vIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImF1dGhVc2VyIiwgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVXNlcicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQoKICAvKioNCiAgICogUmVnaXN0ZXJzIHRoZSB1c2VyIHdpdGggZ2l2ZW4gZGV0YWlscw0KICAgKi8KCiAgLyoqDQogICAqIEhhbmRsZSB0aGUgZXJyb3INCiAgICogQHBhcmFtIHsqfSBlcnJvciANCiAgICovCiAgX2hhbmRsZUVycm9yKGVycm9yKSB7CiAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgIHJldHVybiBlcnJvck1lc3NhZ2U7CiAgfQp9CmxldCBfZmlyZUJhc2VCYWNrZW5kID0gbnVsbDsKCi8qKg0KICogSW5pdGlsaXplIHRoZSBiYWNrZW5kDQogKiBAcGFyYW0geyp9IGNvbmZpZyANCiAqLwpjb25zdCBpbml0RmlyZWJhc2VCYWNrZW5kID0gY29uZmlnID0+IHsKICBpZiAoIV9maXJlQmFzZUJhY2tlbmQpIHsKICAgIF9maXJlQmFzZUJhY2tlbmQgPSBuZXcgRmlyZWJhc2VBdXRoQmFja2VuZChjb25maWcpOwogIH0KICByZXR1cm4gX2ZpcmVCYXNlQmFja2VuZDsKfTsKCi8qKg0KICogUmV0dXJucyB0aGUgZmlyZWJhc2UgYmFja2VuZA0KICovCmNvbnN0IGdldEZpcmViYXNlQmFja2VuZCA9ICgpID0+IHsKICByZXR1cm4gX2ZpcmVCYXNlQmFja2VuZDsKfTsKZXhwb3J0IHsgaW5pdEZpcmViYXNlQmFja2VuZCwgZ2V0RmlyZWJhc2VCYWNrZW5kIH07"},{"version":3,"names":["firebase","FirebaseAuthBackend","constructor","firebaseConfig","username","email","password","Promise","resolve","reject","auth","createUserWithEmailAndPassword","then","res","user","currentUser","updateProfile","displayName","error","_handleError","signInWithEmailAndPassword","sessionStorage","setItem","JSON","stringify","sendPasswordResetEmail","url","window","location","protocol","host","catch","signOut","getItem","parse","initializeApp","onAuthStateChanged","removeItem","errorMessage","message","_fireBaseBackend","initFirebaseBackend","config","getFirebaseBackend"],"sources":["C:/Apps/Velson/modern/src/authUtils.js"],"sourcesContent":["import firebase from 'firebase/compat/app';\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nclass FirebaseAuthBackend {\r\n    constructor(firebaseConfig) {\r\n        if (firebaseConfig) {\r\n            // Initialize Firebase\r\n            firebase.initializeApp(firebaseConfig);\r\n            firebase.auth().onAuthStateChanged((user) => {\r\n                if (user) {\r\n                    // sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n                } else {\r\n                    sessionStorage.removeItem('authUser');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers the user with given details\r\n     */\r\n    registerUser = (username, email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            // eslint-disable-next-line no-unused-vars\r\n            firebase.auth().createUserWithEmailAndPassword(email, password).then((res) => {\r\n                let user = firebase.auth().currentUser.updateProfile({\r\n                     displayName: username\r\n                   });\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Login user with given details\r\n     */\r\n    loginUser = (email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signInWithEmailAndPassword(email, password).then(() => {\r\n                var user = firebase.auth().currentUser;\r\n                sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * forget Password user with given details\r\n     */\r\n    forgetPassword = (email) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().sendPasswordResetEmail(email, { url: window.location.protocol + \"//\" + window.location.host + \"/login\" }).then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Logout the user\r\n     */\r\n    logout = () => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signOut().then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    setLoggeedInUser = (user) => {\r\n        sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n    }\r\n\r\n    /**\r\n     * Returns the authenticated user\r\n     */\r\n    getAuthenticatedUser = () => {\r\n        if (!sessionStorage.getItem('authUser'))\r\n            return null;\r\n        return JSON.parse(sessionStorage.getItem('authUser'));\r\n    }\r\n\r\n    /**\r\n     * Handle the error\r\n     * @param {*} error \r\n     */\r\n    _handleError(error) {\r\n        var errorMessage = error.message;\r\n        return errorMessage;\r\n    }\r\n}\r\n\r\nlet _fireBaseBackend = null;\r\n\r\n/**\r\n * Initilize the backend\r\n * @param {*} config \r\n */\r\nconst initFirebaseBackend = (config) => {\r\n    if (!_fireBaseBackend) {\r\n        _fireBaseBackend = new FirebaseAuthBackend(config);\r\n    }\r\n    return _fireBaseBackend;\r\n}\r\n\r\n/**\r\n * Returns the firebase backend\r\n */\r\nconst getFirebaseBackend = () => {\r\n    return _fireBaseBackend;\r\n}\r\n\r\nexport { initFirebaseBackend, getFirebaseBackend };"],"mappings":"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"}]}