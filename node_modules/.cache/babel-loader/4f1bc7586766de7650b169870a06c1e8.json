{"remainingRequest":"C:\\Apps\\Velson\\conixi\\node_modules\\babel-loader\\lib\\index.js!C:\\Apps\\Velson\\conixi\\node_modules\\@vueform\\multiselect\\dist\\multiselect.js","dependencies":[{"path":"C:\\Apps\\Velson\\conixi\\node_modules\\@vueform\\multiselect\\dist\\multiselect.js","mtime":1669221089603},{"path":"C:\\Apps\\Velson\\conixi\\babel.config.js","mtime":1669220570149},{"path":"C:\\Apps\\Velson\\conixi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669221121540},{"path":"C:\\Apps\\Velson\\conixi\\node_modules\\babel-loader\\lib\\index.js","mtime":1669221121449}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IHsgdG9SZWZzLCBnZXRDdXJyZW50SW5zdGFuY2UsIHJlZiwgY29tcHV0ZWQsIHdhdGNoLCBuZXh0VGljaywgb25Nb3VudGVkLCBvcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jaywgbWVyZ2VQcm9wcywgY3JlYXRlQ29tbWVudFZOb2RlLCB3aXRoTW9kaWZpZXJzLCBub3JtYWxpemVDbGFzcywgRnJhZ21lbnQsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHdpdGhLZXlzLCBjcmVhdGVUZXh0Vk5vZGUsIHRvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIH0gZnJvbSAndnVlJzsKZnVuY3Rpb24gaXNOdWxsaXNoKHZhbCkgewogIHJldHVybiBbbnVsbCwgdW5kZWZpbmVkXS5pbmRleE9mKHZhbCkgIT09IC0xOwp9CmZ1bmN0aW9uIHVzZURhdGEocHJvcHMsIGNvbnRleHQsIGRlcCkgewogIGNvbnN0IHsKICAgIG9iamVjdCwKICAgIHZhbHVlUHJvcCwKICAgIG1vZGUKICB9ID0gdG9SZWZzKHByb3BzKTsKICBjb25zdCAkdGhpcyA9IGdldEN1cnJlbnRJbnN0YW5jZSgpLnByb3h5OwoKICAvLyA9PT09PT09PT09PT0gREVQRU5ERU5DSUVTID09PT09PT09PT09PQoKICBjb25zdCBpdiA9IGRlcC5pdjsKCiAgLy8gPT09PT09PT09PT09PT09IE1FVEhPRFMgPT09PT09PT09PT09PT0KCiAgY29uc3QgdXBkYXRlID0gdmFsID0+IHsKICAgIC8vIFNldHRpbmcgb2JqZWN0KHMpIGFzIGludGVybmFsIHZhbHVlCiAgICBpdi52YWx1ZSA9IG1ha2VJbnRlcm5hbCh2YWwpOwoKICAgIC8vIFNldHRpbmcgb2JqZWN0KHMpIG9yIHBsYWluIHZhbHVlIGFzIGV4dGVybmFsIAogICAgLy8gdmFsdWUgYmFzZWQgb24gYG9wdGlvbmAgc2V0dGluZwogICAgY29uc3QgZXh0ZXJuYWxWYWwgPSBtYWtlRXh0ZXJuYWwodmFsKTsKICAgIGNvbnRleHQuZW1pdCgnY2hhbmdlJywgZXh0ZXJuYWxWYWwsICR0aGlzKTsKICAgIGNvbnRleHQuZW1pdCgnaW5wdXQnLCBleHRlcm5hbFZhbCk7CiAgICBjb250ZXh0LmVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZXh0ZXJuYWxWYWwpOwogIH07CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IG1ha2VFeHRlcm5hbCA9IHZhbCA9PiB7CiAgICAvLyBJZiBleHRlcm5hbCB2YWx1ZSBzaG91bGQgYmUgb2JqZWN0CiAgICAvLyBubyB0cmFuc2Zvcm1hdGlvbiBpcyByZXF1aXJlZAogICAgaWYgKG9iamVjdC52YWx1ZSkgewogICAgICByZXR1cm4gdmFsOwogICAgfQoKICAgIC8vIE5vIG5lZWQgdG8gdHJhbnNmb3JtIGlmIGVtcHR5IHZhbHVlCiAgICBpZiAoaXNOdWxsaXNoKHZhbCkpIHsKICAgICAgcmV0dXJuIHZhbDsKICAgIH0KCiAgICAvLyBJZiBleHRlcm5hbCBzaG91bGQgYmUgcGxhaW4gdHJhbnNmb3JtCiAgICAvLyB2YWx1ZSBvYmplY3QgdG8gcGxhaW4gdmFsdWVzCiAgICByZXR1cm4gIUFycmF5LmlzQXJyYXkodmFsKSA/IHZhbFt2YWx1ZVByb3AudmFsdWVdIDogdmFsLm1hcCh2ID0+IHZbdmFsdWVQcm9wLnZhbHVlXSk7CiAgfTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3QgbWFrZUludGVybmFsID0gdmFsID0+IHsKICAgIGlmIChpc051bGxpc2godmFsKSkgewogICAgICByZXR1cm4gbW9kZS52YWx1ZSA9PT0gJ3NpbmdsZScgPyB7fSA6IFtdOwogICAgfQogICAgcmV0dXJuIHZhbDsKICB9OwogIHJldHVybiB7CiAgICB1cGRhdGUKICB9Owp9CmZ1bmN0aW9uIHVzZVZhbHVlKHByb3BzLCBjb250ZXh0KSB7CiAgY29uc3QgewogICAgdmFsdWUsCiAgICBtb2RlbFZhbHVlLAogICAgbW9kZSwKICAgIHZhbHVlUHJvcAogIH0gPSB0b1JlZnMocHJvcHMpOwoKICAvLyA9PT09PT09PT09PT09PT09IERBVEEgPT09PT09PT09PT09PT09PQoKICAvLyBpbnRlcm5hbFZhbHVlCiAgY29uc3QgaXYgPSByZWYobW9kZS52YWx1ZSAhPT0gJ3NpbmdsZScgPyBbXSA6IHt9KTsKCiAgLy8gPT09PT09PT09PT09PT0gQ09NUFVURUQgPT09PT09PT09PT09PT0KCiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAvLyBleHRlcm5hbFZhbHVlCiAgY29uc3QgZXYgPSBtb2RlbFZhbHVlICYmIG1vZGVsVmFsdWUudmFsdWUgIT09IHVuZGVmaW5lZCA/IG1vZGVsVmFsdWUgOiB2YWx1ZTsKICBjb25zdCBwbGFpblZhbHVlID0gY29tcHV0ZWQoKCkgPT4gewogICAgcmV0dXJuIG1vZGUudmFsdWUgPT09ICdzaW5nbGUnID8gaXYudmFsdWVbdmFsdWVQcm9wLnZhbHVlXSA6IGl2LnZhbHVlLm1hcCh2ID0+IHZbdmFsdWVQcm9wLnZhbHVlXSk7CiAgfSk7CiAgY29uc3QgdGV4dFZhbHVlID0gY29tcHV0ZWQoKCkgPT4gewogICAgcmV0dXJuIG1vZGUudmFsdWUgIT09ICdzaW5nbGUnID8gaXYudmFsdWUubWFwKHYgPT4gdlt2YWx1ZVByb3AudmFsdWVdKS5qb2luKCcsJykgOiBpdi52YWx1ZVt2YWx1ZVByb3AudmFsdWVdOwogIH0pOwogIHJldHVybiB7CiAgICBpdiwKICAgIGludGVybmFsVmFsdWU6IGl2LAogICAgZXYsCiAgICBleHRlcm5hbFZhbHVlOiBldiwKICAgIHRleHRWYWx1ZSwKICAgIHBsYWluVmFsdWUKICB9Owp9CmZ1bmN0aW9uIHVzZVNlYXJjaChwcm9wcywgY29udGV4dCwgZGVwKSB7CiAgY29uc3QgewogICAgcmVnZXgKICB9ID0gdG9SZWZzKHByb3BzKTsKICBjb25zdCAkdGhpcyA9IGdldEN1cnJlbnRJbnN0YW5jZSgpLnByb3h5OwoKICAvLyA9PT09PT09PT09PT0gREVQRU5ERU5DSUVTID09PT09PT09PT09PQoKICBjb25zdCBpc09wZW4gPSBkZXAuaXNPcGVuOwogIGNvbnN0IG9wZW4gPSBkZXAub3BlbjsKCiAgLy8gPT09PT09PT09PT09PT09PSBEQVRBID09PT09PT09PT09PT09PT0KCiAgY29uc3Qgc2VhcmNoID0gcmVmKG51bGwpOwogIGNvbnN0IGlucHV0ID0gcmVmKG51bGwpOwoKICAvLyA9PT09PT09PT09PT09PT0gTUVUSE9EUyA9PT09PT09PT09PT09PQoKICBjb25zdCBjbGVhclNlYXJjaCA9ICgpID0+IHsKICAgIHNlYXJjaC52YWx1ZSA9ICcnOwogIH07CiAgY29uc3QgaGFuZGxlU2VhcmNoSW5wdXQgPSBlID0+IHsKICAgIHNlYXJjaC52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOwogIH07CiAgY29uc3QgaGFuZGxlS2V5cHJlc3MgPSBlID0+IHsKICAgIGlmIChyZWdleCAmJiByZWdleC52YWx1ZSkgewogICAgICBsZXQgcmVnZXhwID0gcmVnZXgudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgcmVnZXhwID09PSAnc3RyaW5nJykgewogICAgICAgIHJlZ2V4cCA9IG5ldyBSZWdFeHAocmVnZXhwKTsKICAgICAgfQogICAgICBpZiAoIWUua2V5Lm1hdGNoKHJlZ2V4cCkpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0KICB9OwogIGNvbnN0IGhhbmRsZVBhc3RlID0gZSA9PiB7CiAgICBpZiAocmVnZXggJiYgcmVnZXgudmFsdWUpIHsKICAgICAgbGV0IGNsaXBib2FyZERhdGEgPSBlLmNsaXBib2FyZERhdGEgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi93aW5kb3cuY2xpcGJvYXJkRGF0YTsKICAgICAgbGV0IHBhc3RlZERhdGEgPSBjbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTsKICAgICAgbGV0IHJlZ2V4cCA9IHJlZ2V4LnZhbHVlOwogICAgICBpZiAodHlwZW9mIHJlZ2V4cCA9PT0gJ3N0cmluZycpIHsKICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4cCk7CiAgICAgIH0KICAgICAgaWYgKCFwYXN0ZWREYXRhLnNwbGl0KCcnKS5ldmVyeShjID0+ICEhYy5tYXRjaChyZWdleHApKSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgfQogICAgY29udGV4dC5lbWl0KCdwYXN0ZScsIGUsICR0aGlzKTsKICB9OwoKICAvLyA9PT09PT09PT09PT09PSBXQVRDSEVSUyA9PT09PT09PT09PT09PQoKICB3YXRjaChzZWFyY2gsIHZhbCA9PiB7CiAgICBpZiAoIWlzT3Blbi52YWx1ZSAmJiB2YWwpIHsKICAgICAgb3BlbigpOwogICAgfQogICAgY29udGV4dC5lbWl0KCdzZWFyY2gtY2hhbmdlJywgdmFsLCAkdGhpcyk7CiAgfSk7CiAgcmV0dXJuIHsKICAgIHNlYXJjaCwKICAgIGlucHV0LAogICAgY2xlYXJTZWFyY2gsCiAgICBoYW5kbGVTZWFyY2hJbnB1dCwKICAgIGhhbmRsZUtleXByZXNzLAogICAgaGFuZGxlUGFzdGUKICB9Owp9CmZ1bmN0aW9uIHVzZVBvaW50ZXIkMShwcm9wcywgY29udGV4dCwgZGVwKSB7CiAgY29uc3QgewogICAgZ3JvdXBTZWxlY3QsCiAgICBtb2RlLAogICAgZ3JvdXBzLAogICAgZGlzYWJsZWRQcm9wCiAgfSA9IHRvUmVmcyhwcm9wcyk7CgogIC8vID09PT09PT09PT09PT09PT0gREFUQSA9PT09PT09PT09PT09PT09CgogIGNvbnN0IHBvaW50ZXIgPSByZWYobnVsbCk7CgogIC8vID09PT09PT09PT09PT09PSBNRVRIT0RTID09PT09PT09PT09PT09CgogIGNvbnN0IHNldFBvaW50ZXIgPSBvcHRpb24gPT4gewogICAgaWYgKG9wdGlvbiA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbiAhPT0gbnVsbCAmJiBvcHRpb25bZGlzYWJsZWRQcm9wLnZhbHVlXSkgewogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoZ3JvdXBzLnZhbHVlICYmIG9wdGlvbiAmJiBvcHRpb24uZ3JvdXAgJiYgKG1vZGUudmFsdWUgPT09ICdzaW5nbGUnIHx8ICFncm91cFNlbGVjdC52YWx1ZSkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgcG9pbnRlci52YWx1ZSA9IG9wdGlvbjsKICB9OwogIGNvbnN0IGNsZWFyUG9pbnRlciA9ICgpID0+IHsKICAgIHNldFBvaW50ZXIobnVsbCk7CiAgfTsKICByZXR1cm4gewogICAgcG9pbnRlciwKICAgIHNldFBvaW50ZXIsCiAgICBjbGVhclBvaW50ZXIKICB9Owp9CmZ1bmN0aW9uIG5vcm1hbGl6ZShzdHIsIHN0cmljdCA9IHRydWUpIHsKICByZXR1cm4gc3RyaWN0ID8gU3RyaW5nKHN0cikudG9Mb3dlckNhc2UoKS50cmltKCkgOiBTdHJpbmcoc3RyKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1xwe0RpYWNyaXRpY30vZ3UsICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTsKfQpmdW5jdGlvbiBpc09iamVjdCh2YXJpYWJsZSkgewogIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpID09PSAnW29iamVjdCBPYmplY3RdJzsKfQpmdW5jdGlvbiBhcnJheXNFcXVhbChhcnJheTEsIGFycmF5MikgewogIGNvbnN0IGFycmF5MlNvcnRlZCA9IGFycmF5Mi5zbGljZSgpLnNvcnQoKTsKICByZXR1cm4gYXJyYXkxLmxlbmd0aCA9PT0gYXJyYXkyLmxlbmd0aCAmJiBhcnJheTEuc2xpY2UoKS5zb3J0KCkuZXZlcnkoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgcmV0dXJuIHZhbHVlID09PSBhcnJheTJTb3J0ZWRbaW5kZXhdOwogIH0pOwp9CmZ1bmN0aW9uIHVzZU9wdGlvbnMocHJvcHMsIGNvbnRleHQsIGRlcCkgewogIGNvbnN0IHsKICAgIG9wdGlvbnMsCiAgICBtb2RlLAogICAgdHJhY2tCeTogdHJhY2tCeV8sCiAgICBsaW1pdCwKICAgIGhpZGVTZWxlY3RlZCwKICAgIGNyZWF0ZVRhZywKICAgIGNyZWF0ZU9wdGlvbjogY3JlYXRlT3B0aW9uXywKICAgIGxhYmVsLAogICAgYXBwZW5kTmV3VGFnLAogICAgYXBwZW5kTmV3T3B0aW9uOiBhcHBlbmROZXdPcHRpb25fLAogICAgbXVsdGlwbGVMYWJlbCwKICAgIG9iamVjdCwKICAgIGxvYWRpbmcsCiAgICBkZWxheSwKICAgIHJlc29sdmVPbkxvYWQsCiAgICBtaW5DaGFycywKICAgIGZpbHRlclJlc3VsdHMsCiAgICBjbGVhck9uU2VhcmNoLAogICAgY2xlYXJPblNlbGVjdCwKICAgIHZhbHVlUHJvcCwKICAgIGNhbkRlc2VsZWN0LAogICAgbWF4LAogICAgc3RyaWN0LAogICAgY2xvc2VPblNlbGVjdCwKICAgIGdyb3VwczogZ3JvdXBwZWQsCiAgICByZXZlcnNlLAogICAgaW5maW5pdGUsCiAgICBncm91cE9wdGlvbnMsCiAgICBncm91cEhpZGVFbXB0eSwKICAgIGdyb3VwU2VsZWN0LAogICAgb25DcmVhdGUsCiAgICBkaXNhYmxlZFByb3AsCiAgICBzZWFyY2hTdGFydAogIH0gPSB0b1JlZnMocHJvcHMpOwogIGNvbnN0ICR0aGlzID0gZ2V0Q3VycmVudEluc3RhbmNlKCkucHJveHk7CgogIC8vID09PT09PT09PT09PSBERVBFTkRFTkNJRVMgPT09PT09PT09PT09CgogIGNvbnN0IGl2ID0gZGVwLml2OwogIGNvbnN0IGV2ID0gZGVwLmV2OwogIGNvbnN0IHNlYXJjaCA9IGRlcC5zZWFyY2g7CiAgY29uc3QgY2xlYXJTZWFyY2ggPSBkZXAuY2xlYXJTZWFyY2g7CiAgY29uc3QgdXBkYXRlID0gZGVwLnVwZGF0ZTsKICBjb25zdCBwb2ludGVyID0gZGVwLnBvaW50ZXI7CiAgY29uc3QgY2xlYXJQb2ludGVyID0gZGVwLmNsZWFyUG9pbnRlcjsKICBjb25zdCBmb2N1cyA9IGRlcC5mb2N1czsKICBjb25zdCBkZWFjdGl2YXRlID0gZGVwLmRlYWN0aXZhdGU7CiAgY29uc3QgY2xvc2UgPSBkZXAuY2xvc2U7CgogIC8vID09PT09PT09PT09PT09PT0gREFUQSA9PT09PT09PT09PT09PT09CgogIC8vIG5vIGV4cG9ydAogIC8vIGFwcGVuZGVkT3B0aW9ucwogIGNvbnN0IGFwID0gcmVmKFtdKTsKCiAgLy8gbm8gZXhwb3J0CiAgLy8gcmVzb2x2ZWRPcHRpb25zCiAgY29uc3Qgcm8gPSByZWYoW10pOwogIGNvbnN0IHJlc29sdmluZyA9IHJlZihmYWxzZSk7CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IHNlYXJjaFdhdGNoZXIgPSByZWYobnVsbCk7CiAgY29uc3Qgb2Zmc2V0ID0gcmVmKGluZmluaXRlLnZhbHVlICYmIGxpbWl0LnZhbHVlID09PSAtMSA/IDEwIDogbGltaXQudmFsdWUpOwoKICAvLyA9PT09PT09PT09PT09PSBDT01QVVRFRCA9PT09PT09PT09PT09PQoKICAvLyBubyBleHBvcnQKICBjb25zdCBjcmVhdGVPcHRpb24gPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gY3JlYXRlVGFnLnZhbHVlIHx8IGNyZWF0ZU9wdGlvbl8udmFsdWUgfHwgZmFsc2U7CiAgfSk7CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IGFwcGVuZE5ld09wdGlvbiA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGlmIChhcHBlbmROZXdUYWcudmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gYXBwZW5kTmV3VGFnLnZhbHVlOwogICAgfSBlbHNlIGlmIChhcHBlbmROZXdPcHRpb25fLnZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIGFwcGVuZE5ld09wdGlvbl8udmFsdWU7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9KTsKCiAgLy8gbm8gZXhwb3J0CiAgLy8gZXh0ZW5kZWRPcHRpb25zCiAgY29uc3QgZW8gPSBjb21wdXRlZCgoKSA9PiB7CiAgICBpZiAoZ3JvdXBwZWQudmFsdWUpIHsKICAgICAgbGV0IGdyb3VwcyA9IHJvLnZhbHVlIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovW107CiAgICAgIGxldCBlbyA9IFtdOwogICAgICBncm91cHMuZm9yRWFjaChncm91cCA9PiB7CiAgICAgICAgb3B0aW9uc1RvQXJyYXkoZ3JvdXBbZ3JvdXBPcHRpb25zLnZhbHVlXSkuZm9yRWFjaChvcHRpb24gPT4gewogICAgICAgICAgZW8ucHVzaChPYmplY3QuYXNzaWduKHt9LCBvcHRpb24sIGdyb3VwW2Rpc2FibGVkUHJvcC52YWx1ZV0gPyB7CiAgICAgICAgICAgIFtkaXNhYmxlZFByb3AudmFsdWVdOiB0cnVlCiAgICAgICAgICB9IDoge30pKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBlbzsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBlbyA9IG9wdGlvbnNUb0FycmF5KHJvLnZhbHVlIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovW10pOwogICAgICBpZiAoYXAudmFsdWUubGVuZ3RoKSB7CiAgICAgICAgZW8gPSBlby5jb25jYXQoYXAudmFsdWUpOwogICAgICB9CiAgICAgIHJldHVybiBlbzsKICAgIH0KICB9KTsKICBjb25zdCBmZyA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGlmICghZ3JvdXBwZWQudmFsdWUpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfQogICAgcmV0dXJuIGZpbHRlckdyb3Vwcygocm8udmFsdWUgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9bXSkubWFwKChncm91cCwgaW5kZXgpID0+IHsKICAgICAgY29uc3QgYXJyYXlPcHRpb25zID0gb3B0aW9uc1RvQXJyYXkoZ3JvdXBbZ3JvdXBPcHRpb25zLnZhbHVlXSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4uZ3JvdXAsCiAgICAgICAgaW5kZXgsCiAgICAgICAgZ3JvdXA6IHRydWUsCiAgICAgICAgW2dyb3VwT3B0aW9ucy52YWx1ZV06IGZpbHRlck9wdGlvbnMoYXJyYXlPcHRpb25zLCBmYWxzZSkubWFwKG8gPT4gT2JqZWN0LmFzc2lnbih7fSwgbywgZ3JvdXBbZGlzYWJsZWRQcm9wLnZhbHVlXSA/IHsKICAgICAgICAgIFtkaXNhYmxlZFByb3AudmFsdWVdOiB0cnVlCiAgICAgICAgfSA6IHt9KSksCiAgICAgICAgX19WSVNJQkxFX186IGZpbHRlck9wdGlvbnMoYXJyYXlPcHRpb25zKS5tYXAobyA9PiBPYmplY3QuYXNzaWduKHt9LCBvLCBncm91cFtkaXNhYmxlZFByb3AudmFsdWVdID8gewogICAgICAgICAgW2Rpc2FibGVkUHJvcC52YWx1ZV06IHRydWUKICAgICAgICB9IDoge30pKQogICAgICB9OwogICAgICAvLyBEaWZmZXJlbmNlIGJldHdlZW4gX19WSVNJQkxFX18gYW5kIHtncm91cE9wdGlvbnN9OiB2aXNpYmxlIGRvZXMgbm90IGNvbnRhaW4gc2VsZWN0ZWQgb3B0aW9ucyB3aGVuIGhpZGVTZWxlY3RlZD10cnVlCiAgICB9KSk7CiAgfSk7CgogIC8vIHByZUZpbHRlcmVkT3B0aW9ucwogIGNvbnN0IHBmbyA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGxldCBvcHRpb25zID0gZW8udmFsdWU7CiAgICBpZiAocmV2ZXJzZS52YWx1ZSkgewogICAgICBvcHRpb25zID0gb3B0aW9ucy5yZXZlcnNlKCk7CiAgICB9CiAgICBpZiAoY3JlYXRlZE9wdGlvbi52YWx1ZS5sZW5ndGgpIHsKICAgICAgb3B0aW9ucyA9IGNyZWF0ZWRPcHRpb24udmFsdWUuY29uY2F0KG9wdGlvbnMpOwogICAgfQogICAgcmV0dXJuIGZpbHRlck9wdGlvbnMob3B0aW9ucyk7CiAgfSk7CgogIC8vIGZpbHRlcmVkT3B0aW9ucwogIGNvbnN0IGZvID0gY29tcHV0ZWQoKCkgPT4gewogICAgbGV0IG9wdGlvbnMgPSBwZm8udmFsdWU7CiAgICBpZiAob2Zmc2V0LnZhbHVlID4gMCkgewogICAgICBvcHRpb25zID0gb3B0aW9ucy5zbGljZSgwLCBvZmZzZXQudmFsdWUpOwogICAgfQogICAgcmV0dXJuIG9wdGlvbnM7CiAgfSk7CiAgY29uc3QgaGFzU2VsZWN0ZWQgPSBjb21wdXRlZCgoKSA9PiB7CiAgICBzd2l0Y2ggKG1vZGUudmFsdWUpIHsKICAgICAgY2FzZSAnc2luZ2xlJzoKICAgICAgICByZXR1cm4gIWlzTnVsbGlzaChpdi52YWx1ZVt2YWx1ZVByb3AudmFsdWVdKTsKICAgICAgY2FzZSAnbXVsdGlwbGUnOgogICAgICBjYXNlICd0YWdzJzoKICAgICAgICByZXR1cm4gIWlzTnVsbGlzaChpdi52YWx1ZSkgJiYgaXYudmFsdWUubGVuZ3RoID4gMDsKICAgIH0KICB9KTsKICBjb25zdCBtdWx0aXBsZUxhYmVsVGV4dCA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiBtdWx0aXBsZUxhYmVsICE9PSB1bmRlZmluZWQgJiYgbXVsdGlwbGVMYWJlbC52YWx1ZSAhPT0gdW5kZWZpbmVkID8gbXVsdGlwbGVMYWJlbC52YWx1ZShpdi52YWx1ZSwgJHRoaXMpIDogaXYudmFsdWUgJiYgaXYudmFsdWUubGVuZ3RoID4gMSA/IGAke2l2LnZhbHVlLmxlbmd0aH0gb3B0aW9ucyBzZWxlY3RlZGAgOiBgMSBvcHRpb24gc2VsZWN0ZWRgOwogIH0pOwogIGNvbnN0IG5vT3B0aW9ucyA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiAhZW8udmFsdWUubGVuZ3RoICYmICFyZXNvbHZpbmcudmFsdWUgJiYgIWNyZWF0ZWRPcHRpb24udmFsdWUubGVuZ3RoOwogIH0pOwogIGNvbnN0IG5vUmVzdWx0cyA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiBlby52YWx1ZS5sZW5ndGggPiAwICYmIGZvLnZhbHVlLmxlbmd0aCA9PSAwICYmIChzZWFyY2gudmFsdWUgJiYgZ3JvdXBwZWQudmFsdWUgfHwgIWdyb3VwcGVkLnZhbHVlKTsKICB9KTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3QgY3JlYXRlZE9wdGlvbiA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGlmIChjcmVhdGVPcHRpb24udmFsdWUgPT09IGZhbHNlIHx8ICFzZWFyY2gudmFsdWUpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfQogICAgcmV0dXJuIGdldE9wdGlvbkJ5VHJhY2tCeShzZWFyY2gudmFsdWUpICE9PSAtMSA/IFtdIDogW3sKICAgICAgW3ZhbHVlUHJvcC52YWx1ZV06IHNlYXJjaC52YWx1ZSwKICAgICAgW2xhYmVsLnZhbHVlXTogc2VhcmNoLnZhbHVlLAogICAgICBbdHJhY2tCeS52YWx1ZV06IHNlYXJjaC52YWx1ZSwKICAgICAgX19DUkVBVEVfXzogdHJ1ZQogICAgfV07CiAgfSk7CiAgY29uc3QgdHJhY2tCeSA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiB0cmFja0J5Xy52YWx1ZSB8fCBsYWJlbC52YWx1ZTsKICB9KTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3QgbnVsbFZhbHVlID0gY29tcHV0ZWQoKCkgPT4gewogICAgc3dpdGNoIChtb2RlLnZhbHVlKSB7CiAgICAgIGNhc2UgJ3NpbmdsZSc6CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIGNhc2UgJ211bHRpcGxlJzoKICAgICAgY2FzZSAndGFncyc6CiAgICAgICAgcmV0dXJuIFtdOwogICAgfQogIH0pOwogIGNvbnN0IGJ1c3kgPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gbG9hZGluZy52YWx1ZSB8fCByZXNvbHZpbmcudmFsdWU7CiAgfSk7CgogIC8vID09PT09PT09PT09PT09PSBNRVRIT0RTID09PT09PT09PT09PT09CgogIC8qKgogICAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fHN0cmluZ3xudW1iZXJ9IG9wdGlvbiAKICAgKi8KICBjb25zdCBzZWxlY3QgPSBvcHRpb24gPT4gewogICAgaWYgKHR5cGVvZiBvcHRpb24gIT09ICdvYmplY3QnKSB7CiAgICAgIG9wdGlvbiA9IGdldE9wdGlvbihvcHRpb24pOwogICAgfQogICAgc3dpdGNoIChtb2RlLnZhbHVlKSB7CiAgICAgIGNhc2UgJ3NpbmdsZSc6CiAgICAgICAgdXBkYXRlKG9wdGlvbik7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ211bHRpcGxlJzoKICAgICAgY2FzZSAndGFncyc6CiAgICAgICAgdXBkYXRlKGl2LnZhbHVlLmNvbmNhdChvcHRpb24pKTsKICAgICAgICBicmVhazsKICAgIH0KICAgIGNvbnRleHQuZW1pdCgnc2VsZWN0JywgZmluYWxWYWx1ZShvcHRpb24pLCBvcHRpb24sICR0aGlzKTsKICB9OwogIGNvbnN0IGRlc2VsZWN0ID0gb3B0aW9uID0+IHsKICAgIGlmICh0eXBlb2Ygb3B0aW9uICE9PSAnb2JqZWN0JykgewogICAgICBvcHRpb24gPSBnZXRPcHRpb24ob3B0aW9uKTsKICAgIH0KICAgIHN3aXRjaCAobW9kZS52YWx1ZSkgewogICAgICBjYXNlICdzaW5nbGUnOgogICAgICAgIGNsZWFyKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3RhZ3MnOgogICAgICBjYXNlICdtdWx0aXBsZSc6CiAgICAgICAgdXBkYXRlKEFycmF5LmlzQXJyYXkob3B0aW9uKSA/IGl2LnZhbHVlLmZpbHRlcih2ID0+IG9wdGlvbi5tYXAobyA9PiBvW3ZhbHVlUHJvcC52YWx1ZV0pLmluZGV4T2Yodlt2YWx1ZVByb3AudmFsdWVdKSA9PT0gLTEpIDogaXYudmFsdWUuZmlsdGVyKHYgPT4gdlt2YWx1ZVByb3AudmFsdWVdICE9IG9wdGlvblt2YWx1ZVByb3AudmFsdWVdKSk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgICBjb250ZXh0LmVtaXQoJ2Rlc2VsZWN0JywgZmluYWxWYWx1ZShvcHRpb24pLCBvcHRpb24sICR0aGlzKTsKICB9OwoKICAvLyBubyBleHBvcnQKICBjb25zdCBmaW5hbFZhbHVlID0gb3B0aW9uID0+IHsKICAgIHJldHVybiBvYmplY3QudmFsdWUgPyBvcHRpb24gOiBvcHRpb25bdmFsdWVQcm9wLnZhbHVlXTsKICB9OwogIGNvbnN0IHJlbW92ZSA9IG9wdGlvbiA9PiB7CiAgICBkZXNlbGVjdChvcHRpb24pOwogIH07CiAgY29uc3QgaGFuZGxlVGFnUmVtb3ZlID0gKG9wdGlvbiwgZSkgPT4gewogICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgcmVtb3ZlKG9wdGlvbik7CiAgfTsKICBjb25zdCBjbGVhciA9ICgpID0+IHsKICAgIGNvbnRleHQuZW1pdCgnY2xlYXInLCAkdGhpcyk7CiAgICB1cGRhdGUobnVsbFZhbHVlLnZhbHVlKTsKICB9OwogIGNvbnN0IGlzU2VsZWN0ZWQgPSBvcHRpb24gPT4gewogICAgaWYgKG9wdGlvbi5ncm91cCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBtb2RlLnZhbHVlID09PSAnc2luZ2xlJyA/IGZhbHNlIDogYXJlQWxsU2VsZWN0ZWQob3B0aW9uW2dyb3VwT3B0aW9ucy52YWx1ZV0pICYmIG9wdGlvbltncm91cE9wdGlvbnMudmFsdWVdLmxlbmd0aDsKICAgIH0KICAgIHN3aXRjaCAobW9kZS52YWx1ZSkgewogICAgICBjYXNlICdzaW5nbGUnOgogICAgICAgIHJldHVybiAhaXNOdWxsaXNoKGl2LnZhbHVlKSAmJiBpdi52YWx1ZVt2YWx1ZVByb3AudmFsdWVdID09IG9wdGlvblt2YWx1ZVByb3AudmFsdWVdOwogICAgICBjYXNlICd0YWdzJzoKICAgICAgY2FzZSAnbXVsdGlwbGUnOgogICAgICAgIHJldHVybiAhaXNOdWxsaXNoKGl2LnZhbHVlKSAmJiBpdi52YWx1ZS5tYXAobyA9PiBvW3ZhbHVlUHJvcC52YWx1ZV0pLmluZGV4T2Yob3B0aW9uW3ZhbHVlUHJvcC52YWx1ZV0pICE9PSAtMTsKICAgIH0KICB9OwogIGNvbnN0IGlzRGlzYWJsZWQgPSBvcHRpb24gPT4gewogICAgcmV0dXJuIG9wdGlvbltkaXNhYmxlZFByb3AudmFsdWVdID09PSB0cnVlOwogIH07CiAgY29uc3QgaXNNYXggPSAoKSA9PiB7CiAgICBpZiAobWF4ID09PSB1bmRlZmluZWQgfHwgbWF4LnZhbHVlID09PSAtMSB8fCAhaGFzU2VsZWN0ZWQudmFsdWUgJiYgbWF4LnZhbHVlID4gMCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gaXYudmFsdWUubGVuZ3RoID49IG1heC52YWx1ZTsKICB9OwogIGNvbnN0IGhhbmRsZU9wdGlvbkNsaWNrID0gb3B0aW9uID0+IHsKICAgIGlmIChpc0Rpc2FibGVkKG9wdGlvbikpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKG9uQ3JlYXRlICYmIG9uQ3JlYXRlLnZhbHVlICYmICFpc1NlbGVjdGVkKG9wdGlvbikgJiYgb3B0aW9uLl9fQ1JFQVRFX18pIHsKICAgICAgb3B0aW9uID0gewogICAgICAgIC4uLm9wdGlvbgogICAgICB9OwogICAgICBkZWxldGUgb3B0aW9uLl9fQ1JFQVRFX187CiAgICAgIG9wdGlvbiA9IG9uQ3JlYXRlLnZhbHVlKG9wdGlvbiwgJHRoaXMpOwogICAgICBpZiAob3B0aW9uIGluc3RhbmNlb2YgUHJvbWlzZSkgewogICAgICAgIHJlc29sdmluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgb3B0aW9uLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgIHJlc29sdmluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgaGFuZGxlT3B0aW9uU2VsZWN0KHJlc3VsdCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CiAgICBoYW5kbGVPcHRpb25TZWxlY3Qob3B0aW9uKTsKICB9OwogIGNvbnN0IGhhbmRsZU9wdGlvblNlbGVjdCA9IG9wdGlvbiA9PiB7CiAgICBpZiAob3B0aW9uLl9fQ1JFQVRFX18pIHsKICAgICAgb3B0aW9uID0gewogICAgICAgIC4uLm9wdGlvbgogICAgICB9OwogICAgICBkZWxldGUgb3B0aW9uLl9fQ1JFQVRFX187CiAgICB9CiAgICBzd2l0Y2ggKG1vZGUudmFsdWUpIHsKICAgICAgY2FzZSAnc2luZ2xlJzoKICAgICAgICBpZiAob3B0aW9uICYmIGlzU2VsZWN0ZWQob3B0aW9uKSkgewogICAgICAgICAgaWYgKGNhbkRlc2VsZWN0LnZhbHVlKSB7CiAgICAgICAgICAgIGRlc2VsZWN0KG9wdGlvbik7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb24pIHsKICAgICAgICAgIGhhbmRsZU9wdGlvbkFwcGVuZChvcHRpb24pOwogICAgICAgIH0KCiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgICAgICBpZiAoY2xlYXJPblNlbGVjdC52YWx1ZSkgewogICAgICAgICAgY2xlYXJTZWFyY2goKTsKICAgICAgICB9CiAgICAgICAgaWYgKGNsb3NlT25TZWxlY3QudmFsdWUpIHsKICAgICAgICAgIGNsZWFyUG9pbnRlcigpOwogICAgICAgICAgY2xvc2UoKTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbikgewogICAgICAgICAgc2VsZWN0KG9wdGlvbik7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdtdWx0aXBsZSc6CiAgICAgICAgaWYgKG9wdGlvbiAmJiBpc1NlbGVjdGVkKG9wdGlvbikpIHsKICAgICAgICAgIGRlc2VsZWN0KG9wdGlvbik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChpc01heCgpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb24pIHsKICAgICAgICAgIGhhbmRsZU9wdGlvbkFwcGVuZChvcHRpb24pOwogICAgICAgICAgc2VsZWN0KG9wdGlvbik7CiAgICAgICAgfQogICAgICAgIGlmIChjbGVhck9uU2VsZWN0LnZhbHVlKSB7CiAgICAgICAgICBjbGVhclNlYXJjaCgpOwogICAgICAgIH0KICAgICAgICBpZiAoaGlkZVNlbGVjdGVkLnZhbHVlKSB7CiAgICAgICAgICBjbGVhclBvaW50ZXIoKTsKICAgICAgICB9CiAgICAgICAgaWYgKGNsb3NlT25TZWxlY3QudmFsdWUpIHsKICAgICAgICAgIGNsb3NlKCk7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICd0YWdzJzoKICAgICAgICBpZiAob3B0aW9uICYmIGlzU2VsZWN0ZWQob3B0aW9uKSkgewogICAgICAgICAgZGVzZWxlY3Qob3B0aW9uKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGlzTWF4KCkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbikgewogICAgICAgICAgaGFuZGxlT3B0aW9uQXBwZW5kKG9wdGlvbik7CiAgICAgICAgfQogICAgICAgIGlmIChjbGVhck9uU2VsZWN0LnZhbHVlKSB7CiAgICAgICAgICBjbGVhclNlYXJjaCgpOwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9uKSB7CiAgICAgICAgICBzZWxlY3Qob3B0aW9uKTsKICAgICAgICB9CiAgICAgICAgaWYgKGhpZGVTZWxlY3RlZC52YWx1ZSkgewogICAgICAgICAgY2xlYXJQb2ludGVyKCk7CiAgICAgICAgfQogICAgICAgIGlmIChjbG9zZU9uU2VsZWN0LnZhbHVlKSB7CiAgICAgICAgICBjbG9zZSgpOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgIH0KICAgIGlmICghY2xvc2VPblNlbGVjdC52YWx1ZSkgewogICAgICBmb2N1cygpOwogICAgfQogIH07CiAgY29uc3QgaGFuZGxlR3JvdXBDbGljayA9IGdyb3VwID0+IHsKICAgIGlmIChpc0Rpc2FibGVkKGdyb3VwKSB8fCBtb2RlLnZhbHVlID09PSAnc2luZ2xlJyB8fCAhZ3JvdXBTZWxlY3QudmFsdWUpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgc3dpdGNoIChtb2RlLnZhbHVlKSB7CiAgICAgIGNhc2UgJ211bHRpcGxlJzoKICAgICAgY2FzZSAndGFncyc6CiAgICAgICAgaWYgKGFyZUFsbEVuYWJsZWRTZWxlY3RlZChncm91cFtncm91cE9wdGlvbnMudmFsdWVdKSkgewogICAgICAgICAgZGVzZWxlY3QoZ3JvdXBbZ3JvdXBPcHRpb25zLnZhbHVlXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlbGVjdChncm91cFtncm91cE9wdGlvbnMudmFsdWVdLmZpbHRlcihvID0+IGl2LnZhbHVlLm1hcCh2ID0+IHZbdmFsdWVQcm9wLnZhbHVlXSkuaW5kZXhPZihvW3ZhbHVlUHJvcC52YWx1ZV0pID09PSAtMSkuZmlsdGVyKG8gPT4gIW9bZGlzYWJsZWRQcm9wLnZhbHVlXSkuZmlsdGVyKChvLCBrKSA9PiBpdi52YWx1ZS5sZW5ndGggKyAxICsgayA8PSBtYXgudmFsdWUgfHwgbWF4LnZhbHVlID09PSAtMSkpOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgIH0KICAgIGlmIChjbG9zZU9uU2VsZWN0LnZhbHVlKSB7CiAgICAgIGRlYWN0aXZhdGUoKTsKICAgIH0KICB9OwogIGNvbnN0IGhhbmRsZU9wdGlvbkFwcGVuZCA9IG9wdGlvbiA9PiB7CiAgICBpZiAoZ2V0T3B0aW9uKG9wdGlvblt2YWx1ZVByb3AudmFsdWVdKSA9PT0gdW5kZWZpbmVkICYmIGNyZWF0ZU9wdGlvbi52YWx1ZSkgewogICAgICBjb250ZXh0LmVtaXQoJ3RhZycsIG9wdGlvblt2YWx1ZVByb3AudmFsdWVdLCAkdGhpcyk7CiAgICAgIGNvbnRleHQuZW1pdCgnb3B0aW9uJywgb3B0aW9uW3ZhbHVlUHJvcC52YWx1ZV0sICR0aGlzKTsKICAgICAgaWYgKGFwcGVuZE5ld09wdGlvbi52YWx1ZSkgewogICAgICAgIGFwcGVuZE9wdGlvbihvcHRpb24pOwogICAgICB9CiAgICAgIGNsZWFyU2VhcmNoKCk7CiAgICB9CiAgfTsKICBjb25zdCBzZWxlY3RBbGwgPSAoKSA9PiB7CiAgICBpZiAobW9kZS52YWx1ZSA9PT0gJ3NpbmdsZScpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgc2VsZWN0KGZvLnZhbHVlKTsKICB9OwoKICAvLyBubyBleHBvcnQKICBjb25zdCBhcmVBbGxFbmFibGVkU2VsZWN0ZWQgPSBvcHRpb25zID0+IHsKICAgIHJldHVybiBvcHRpb25zLmZpbmQobyA9PiAhaXNTZWxlY3RlZChvKSAmJiAhb1tkaXNhYmxlZFByb3AudmFsdWVdKSA9PT0gdW5kZWZpbmVkOwogIH07CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IGFyZUFsbFNlbGVjdGVkID0gb3B0aW9ucyA9PiB7CiAgICByZXR1cm4gb3B0aW9ucy5maW5kKG8gPT4gIWlzU2VsZWN0ZWQobykpID09PSB1bmRlZmluZWQ7CiAgfTsKICBjb25zdCBnZXRPcHRpb24gPSB2YWwgPT4gewogICAgcmV0dXJuIGVvLnZhbHVlW2VvLnZhbHVlLm1hcChvID0+IFN0cmluZyhvW3ZhbHVlUHJvcC52YWx1ZV0pKS5pbmRleE9mKFN0cmluZyh2YWwpKV07CiAgfTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3QgZ2V0T3B0aW9uQnlUcmFja0J5ID0gKHZhbCwgbm9ybSA9IHRydWUpID0+IHsKICAgIHJldHVybiBlby52YWx1ZS5tYXAobyA9PiBwYXJzZUludChvW3RyYWNrQnkudmFsdWVdKSA9PSBvW3RyYWNrQnkudmFsdWVdID8gcGFyc2VJbnQob1t0cmFja0J5LnZhbHVlXSkgOiBvW3RyYWNrQnkudmFsdWVdKS5pbmRleE9mKHBhcnNlSW50KHZhbCkgPT0gdmFsID8gcGFyc2VJbnQodmFsKSA6IHZhbCk7CiAgfTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3Qgc2hvdWxkSGlkZU9wdGlvbiA9IG9wdGlvbiA9PiB7CiAgICByZXR1cm4gWyd0YWdzJywgJ211bHRpcGxlJ10uaW5kZXhPZihtb2RlLnZhbHVlKSAhPT0gLTEgJiYgaGlkZVNlbGVjdGVkLnZhbHVlICYmIGlzU2VsZWN0ZWQob3B0aW9uKTsKICB9OwoKICAvLyBubyBleHBvcnQKICBjb25zdCBhcHBlbmRPcHRpb24gPSBvcHRpb24gPT4gewogICAgYXAudmFsdWUucHVzaChvcHRpb24pOwogIH07CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IGZpbHRlckdyb3VwcyA9IGdyb3VwcyA9PiB7CiAgICAvLyBJZiB0aGUgc2VhcmNoIGhhcyB2YWx1ZSB3ZSBuZWVkIHRvIGZpbHRlciBhbW9uZyAKICAgIC8vIGhlIG9uZXMgdGhhdCBhcmUgdmlzaWJsZSB0byB0aGUgdXNlciB0byBhdm9pZAogICAgLy8gZGlzcGxheWluZyBncm91cHMgd2hpY2ggdGVjaG5pY2FsbHkgaGF2ZSBvcHRpb25zCiAgICAvLyBiYXNlZCBvbiBzZWFyY2ggYnV0IHRoYXQgb3B0aW9uIGlzIGFscmVhZHkgc2VsZWN0ZWQuCiAgICByZXR1cm4gZ3JvdXBIaWRlRW1wdHkudmFsdWUgPyBncm91cHMuZmlsdGVyKGcgPT4gc2VhcmNoLnZhbHVlID8gZy5fX1ZJU0lCTEVfXy5sZW5ndGggOiBnW2dyb3VwT3B0aW9ucy52YWx1ZV0ubGVuZ3RoKSA6IGdyb3Vwcy5maWx0ZXIoZyA9PiBzZWFyY2gudmFsdWUgPyBnLl9fVklTSUJMRV9fLmxlbmd0aCA6IHRydWUpOwogIH07CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IGZpbHRlck9wdGlvbnMgPSAob3B0aW9ucywgZXhjbHVkZUhpZGVTZWxlY3RlZCA9IHRydWUpID0+IHsKICAgIGxldCBmbyA9IG9wdGlvbnM7CiAgICBpZiAoc2VhcmNoLnZhbHVlICYmIGZpbHRlclJlc3VsdHMudmFsdWUpIHsKICAgICAgZm8gPSBmby5maWx0ZXIob3B0aW9uID0+IHsKICAgICAgICByZXR1cm4gc2VhcmNoU3RhcnQudmFsdWUgPyBub3JtYWxpemUob3B0aW9uW3RyYWNrQnkudmFsdWVdLCBzdHJpY3QudmFsdWUpLnN0YXJ0c1dpdGgobm9ybWFsaXplKHNlYXJjaC52YWx1ZSwgc3RyaWN0LnZhbHVlKSkgOiBub3JtYWxpemUob3B0aW9uW3RyYWNrQnkudmFsdWVdLCBzdHJpY3QudmFsdWUpLmluZGV4T2Yobm9ybWFsaXplKHNlYXJjaC52YWx1ZSwgc3RyaWN0LnZhbHVlKSkgIT09IC0xOwogICAgICB9KTsKICAgIH0KICAgIGlmIChoaWRlU2VsZWN0ZWQudmFsdWUgJiYgZXhjbHVkZUhpZGVTZWxlY3RlZCkgewogICAgICBmbyA9IGZvLmZpbHRlcihvcHRpb24gPT4gIXNob3VsZEhpZGVPcHRpb24ob3B0aW9uKSk7CiAgICB9CiAgICByZXR1cm4gZm87CiAgfTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3Qgb3B0aW9uc1RvQXJyYXkgPSBvcHRpb25zID0+IHsKICAgIGxldCB1byA9IG9wdGlvbnM7CgogICAgLy8gVHJhbnNmb3JtaW5nIGFuIG9iamVjdCB0byBhbiBhcnJheSBvZiBvYmplY3RzCiAgICBpZiAoaXNPYmplY3QodW8pKSB7CiAgICAgIHVvID0gT2JqZWN0LmtleXModW8pLm1hcChrZXkgPT4gewogICAgICAgIGxldCB2YWwgPSB1b1trZXldOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBbdmFsdWVQcm9wLnZhbHVlXToga2V5LAogICAgICAgICAgW3RyYWNrQnkudmFsdWVdOiB2YWwsCiAgICAgICAgICBbbGFiZWwudmFsdWVdOiB2YWwKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KCiAgICAvLyBUcmFuc2Zvcm1pbmcgYW4gcGxhaW4gYXJyYXlzIHRvIGFuIGFycmF5IG9mIG9iamVjdHMKICAgIHVvID0gdW8ubWFwKHZhbCA9PiB7CiAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyA/IHZhbCA6IHsKICAgICAgICBbdmFsdWVQcm9wLnZhbHVlXTogdmFsLAogICAgICAgIFt0cmFja0J5LnZhbHVlXTogdmFsLAogICAgICAgIFtsYWJlbC52YWx1ZV06IHZhbAogICAgICB9OwogICAgfSk7CiAgICByZXR1cm4gdW87CiAgfTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3QgaW5pdEludGVybmFsVmFsdWUgPSAoKSA9PiB7CiAgICBpZiAoIWlzTnVsbGlzaChldi52YWx1ZSkpIHsKICAgICAgaXYudmFsdWUgPSBtYWtlSW50ZXJuYWwoZXYudmFsdWUpOwogICAgfQogIH07CiAgY29uc3QgcmVzb2x2ZU9wdGlvbnMgPSBjYWxsYmFjayA9PiB7CiAgICByZXNvbHZpbmcudmFsdWUgPSB0cnVlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgb3B0aW9ucy52YWx1ZShzZWFyY2gudmFsdWUsICR0aGlzKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICByby52YWx1ZSA9IHJlc3BvbnNlIHx8IFtdOwogICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UpOwogICAgICAgIH0KICAgICAgICByZXNvbHZpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICByby52YWx1ZSA9IFtdOwogICAgICAgIHJlc29sdmluZy52YWx1ZSA9IGZhbHNlOwogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgLy8gbm8gZXhwb3J0CiAgY29uc3QgcmVmcmVzaExhYmVscyA9ICgpID0+IHsKICAgIGlmICghaGFzU2VsZWN0ZWQudmFsdWUpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKG1vZGUudmFsdWUgPT09ICdzaW5nbGUnKSB7CiAgICAgIGxldCBvcHRpb24gPSBnZXRPcHRpb24oaXYudmFsdWVbdmFsdWVQcm9wLnZhbHVlXSk7CgogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgICBpZiAob3B0aW9uICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBsZXQgbmV3TGFiZWwgPSBvcHRpb25bbGFiZWwudmFsdWVdOwogICAgICAgIGl2LnZhbHVlW2xhYmVsLnZhbHVlXSA9IG5ld0xhYmVsOwogICAgICAgIGlmIChvYmplY3QudmFsdWUpIHsKICAgICAgICAgIGV2LnZhbHVlW2xhYmVsLnZhbHVlXSA9IG5ld0xhYmVsOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaXYudmFsdWUuZm9yRWFjaCgodmFsLCBpKSA9PiB7CiAgICAgICAgbGV0IG9wdGlvbiA9IGdldE9wdGlvbihpdi52YWx1ZVtpXVt2YWx1ZVByb3AudmFsdWVdKTsKCiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgICAgICBpZiAob3B0aW9uICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGxldCBuZXdMYWJlbCA9IG9wdGlvbltsYWJlbC52YWx1ZV07CiAgICAgICAgICBpdi52YWx1ZVtpXVtsYWJlbC52YWx1ZV0gPSBuZXdMYWJlbDsKICAgICAgICAgIGlmIChvYmplY3QudmFsdWUpIHsKICAgICAgICAgICAgZXYudmFsdWVbaV1bbGFiZWwudmFsdWVdID0gbmV3TGFiZWw7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9OwogIGNvbnN0IHJlZnJlc2hPcHRpb25zID0gY2FsbGJhY2sgPT4gewogICAgcmVzb2x2ZU9wdGlvbnMoY2FsbGJhY2spOwogIH07CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IG1ha2VJbnRlcm5hbCA9IHZhbCA9PiB7CiAgICBpZiAoaXNOdWxsaXNoKHZhbCkpIHsKICAgICAgcmV0dXJuIG1vZGUudmFsdWUgPT09ICdzaW5nbGUnID8ge30gOiBbXTsKICAgIH0KICAgIGlmIChvYmplY3QudmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbDsKICAgIH0KCiAgICAvLyBJZiBleHRlcm5hbCBzaG91bGQgYmUgcGxhaW4gdHJhbnNmb3JtCiAgICAvLyB2YWx1ZSBvYmplY3QgdG8gcGxhaW4gdmFsdWVzCiAgICByZXR1cm4gbW9kZS52YWx1ZSA9PT0gJ3NpbmdsZScgPyBnZXRPcHRpb24odmFsKSB8fCB7fSA6IHZhbC5maWx0ZXIodiA9PiAhIWdldE9wdGlvbih2KSkubWFwKHYgPT4gZ2V0T3B0aW9uKHYpKTsKICB9OwoKICAvLyBubyBleHBvcnQKICBjb25zdCBpbml0U2VhcmNoV2F0Y2hlciA9ICgpID0+IHsKICAgIHNlYXJjaFdhdGNoZXIudmFsdWUgPSB3YXRjaChzZWFyY2gsIHF1ZXJ5ID0+IHsKICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA8IG1pbkNoYXJzLnZhbHVlIHx8ICFxdWVyeSAmJiBtaW5DaGFycy52YWx1ZSAhPT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICByZXNvbHZpbmcudmFsdWUgPSB0cnVlOwogICAgICBpZiAoY2xlYXJPblNlYXJjaC52YWx1ZSkgewogICAgICAgIHJvLnZhbHVlID0gW107CiAgICAgIH0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKHF1ZXJ5ICE9IHNlYXJjaC52YWx1ZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBvcHRpb25zLnZhbHVlKHNlYXJjaC52YWx1ZSwgJHRoaXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHF1ZXJ5ID09IHNlYXJjaC52YWx1ZSB8fCAhc2VhcmNoLnZhbHVlKSB7CiAgICAgICAgICAgIHJvLnZhbHVlID0gcmVzcG9uc2U7CiAgICAgICAgICAgIHBvaW50ZXIudmFsdWUgPSBmby52YWx1ZS5maWx0ZXIobyA9PiBvW2Rpc2FibGVkUHJvcC52YWx1ZV0gIT09IHRydWUpWzBdIHx8IG51bGw7CiAgICAgICAgICAgIHJlc29sdmluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKCAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL2UgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICB9KTsKICAgICAgfSwgZGVsYXkudmFsdWUpOwogICAgfSwgewogICAgICBmbHVzaDogJ3N5bmMnCiAgICB9KTsKICB9OwoKICAvLyA9PT09PT09PT09PT09PT09IEhPT0tTID09PT09PT09PT09PT09PQoKICBpZiAobW9kZS52YWx1ZSAhPT0gJ3NpbmdsZScgJiYgIWlzTnVsbGlzaChldi52YWx1ZSkgJiYgIUFycmF5LmlzQXJyYXkoZXYudmFsdWUpKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoYHYtbW9kZWwgbXVzdCBiZSBhbiBhcnJheSB3aGVuIHVzaW5nICIke21vZGUudmFsdWV9IiBtb2RlYCk7CiAgfQogIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLnZhbHVlID09ICdmdW5jdGlvbicpIHsKICAgIGlmIChyZXNvbHZlT25Mb2FkLnZhbHVlKSB7CiAgICAgIHJlc29sdmVPcHRpb25zKGluaXRJbnRlcm5hbFZhbHVlKTsKICAgIH0gZWxzZSBpZiAob2JqZWN0LnZhbHVlID09IHRydWUpIHsKICAgICAgaW5pdEludGVybmFsVmFsdWUoKTsKICAgIH0KICB9IGVsc2UgewogICAgcm8udmFsdWUgPSBvcHRpb25zLnZhbHVlOwogICAgaW5pdEludGVybmFsVmFsdWUoKTsKICB9CgogIC8vID09PT09PT09PT09PT09IFdBVENIRVJTID09PT09PT09PT09PT09CgogIGlmIChkZWxheS52YWx1ZSA+IC0xKSB7CiAgICBpbml0U2VhcmNoV2F0Y2hlcigpOwogIH0KICB3YXRjaChkZWxheSwgKHZhbHVlLCBvbGQpID0+IHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICBpZiAoc2VhcmNoV2F0Y2hlci52YWx1ZSkgewogICAgICBzZWFyY2hXYXRjaGVyLnZhbHVlKCk7CiAgICB9CiAgICBpZiAodmFsdWUgPj0gMCkgewogICAgICBpbml0U2VhcmNoV2F0Y2hlcigpOwogICAgfQogIH0pOwogIHdhdGNoKGV2LCBuZXdWYWx1ZSA9PiB7CiAgICBpZiAoaXNOdWxsaXNoKG5ld1ZhbHVlKSkgewogICAgICBpdi52YWx1ZSA9IG1ha2VJbnRlcm5hbChuZXdWYWx1ZSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHN3aXRjaCAobW9kZS52YWx1ZSkgewogICAgICBjYXNlICdzaW5nbGUnOgogICAgICAgIGlmIChvYmplY3QudmFsdWUgPyBuZXdWYWx1ZVt2YWx1ZVByb3AudmFsdWVdICE9IGl2LnZhbHVlW3ZhbHVlUHJvcC52YWx1ZV0gOiBuZXdWYWx1ZSAhPSBpdi52YWx1ZVt2YWx1ZVByb3AudmFsdWVdKSB7CiAgICAgICAgICBpdi52YWx1ZSA9IG1ha2VJbnRlcm5hbChuZXdWYWx1ZSk7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdtdWx0aXBsZSc6CiAgICAgIGNhc2UgJ3RhZ3MnOgogICAgICAgIGlmICghYXJyYXlzRXF1YWwob2JqZWN0LnZhbHVlID8gbmV3VmFsdWUubWFwKG8gPT4gb1t2YWx1ZVByb3AudmFsdWVdKSA6IG5ld1ZhbHVlLCBpdi52YWx1ZS5tYXAobyA9PiBvW3ZhbHVlUHJvcC52YWx1ZV0pKSkgewogICAgICAgICAgaXYudmFsdWUgPSBtYWtlSW50ZXJuYWwobmV3VmFsdWUpOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgIH0KICB9LCB7CiAgICBkZWVwOiB0cnVlCiAgfSk7CiAgd2F0Y2gob3B0aW9ucywgKG4sIG8pID0+IHsKICAgIGlmICh0eXBlb2YgcHJvcHMub3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBpZiAocmVzb2x2ZU9uTG9hZC52YWx1ZSAmJiAoIW8gfHwgbiAmJiBuLnRvU3RyaW5nKCkgIT09IG8udG9TdHJpbmcoKSkpIHsKICAgICAgICByZXNvbHZlT3B0aW9ucygpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByby52YWx1ZSA9IHByb3BzLm9wdGlvbnM7CiAgICAgIGlmICghT2JqZWN0LmtleXMoaXYudmFsdWUpLmxlbmd0aCkgewogICAgICAgIGluaXRJbnRlcm5hbFZhbHVlKCk7CiAgICAgIH0KICAgICAgcmVmcmVzaExhYmVscygpOwogICAgfQogIH0pOwogIHdhdGNoKGxhYmVsLCByZWZyZXNoTGFiZWxzKTsKICByZXR1cm4gewogICAgcGZvLAogICAgZm8sCiAgICBmaWx0ZXJlZE9wdGlvbnM6IGZvLAogICAgaGFzU2VsZWN0ZWQsCiAgICBtdWx0aXBsZUxhYmVsVGV4dCwKICAgIGVvLAogICAgZXh0ZW5kZWRPcHRpb25zOiBlbywKICAgIGZnLAogICAgZmlsdGVyZWRHcm91cHM6IGZnLAogICAgbm9PcHRpb25zLAogICAgbm9SZXN1bHRzLAogICAgcmVzb2x2aW5nLAogICAgYnVzeSwKICAgIG9mZnNldCwKICAgIHNlbGVjdCwKICAgIGRlc2VsZWN0LAogICAgcmVtb3ZlLAogICAgc2VsZWN0QWxsLAogICAgY2xlYXIsCiAgICBpc1NlbGVjdGVkLAogICAgaXNEaXNhYmxlZCwKICAgIGlzTWF4LAogICAgZ2V0T3B0aW9uLAogICAgaGFuZGxlT3B0aW9uQ2xpY2ssCiAgICBoYW5kbGVHcm91cENsaWNrLAogICAgaGFuZGxlVGFnUmVtb3ZlLAogICAgcmVmcmVzaE9wdGlvbnMsCiAgICByZXNvbHZlT3B0aW9ucywKICAgIHJlZnJlc2hMYWJlbHMKICB9Owp9CmZ1bmN0aW9uIHVzZVBvaW50ZXIocHJvcHMsIGNvbnRleHQsIGRlcCkgewogIGNvbnN0IHsKICAgIHZhbHVlUHJvcCwKICAgIHNob3dPcHRpb25zLAogICAgc2VhcmNoYWJsZSwKICAgIGdyb3VwTGFiZWwsCiAgICBncm91cHM6IGdyb3VwcGVkLAogICAgbW9kZSwKICAgIGdyb3VwU2VsZWN0LAogICAgZGlzYWJsZWRQcm9wCiAgfSA9IHRvUmVmcyhwcm9wcyk7CgogIC8vID09PT09PT09PT09PSBERVBFTkRFTkNJRVMgPT09PT09PT09PT09CgogIGNvbnN0IGZvID0gZGVwLmZvOwogIGNvbnN0IGZnID0gZGVwLmZnOwogIGNvbnN0IGhhbmRsZU9wdGlvbkNsaWNrID0gZGVwLmhhbmRsZU9wdGlvbkNsaWNrOwogIGNvbnN0IGhhbmRsZUdyb3VwQ2xpY2sgPSBkZXAuaGFuZGxlR3JvdXBDbGljazsKICBjb25zdCBzZWFyY2ggPSBkZXAuc2VhcmNoOwogIGNvbnN0IHBvaW50ZXIgPSBkZXAucG9pbnRlcjsKICBjb25zdCBzZXRQb2ludGVyID0gZGVwLnNldFBvaW50ZXI7CiAgY29uc3QgY2xlYXJQb2ludGVyID0gZGVwLmNsZWFyUG9pbnRlcjsKICBjb25zdCBtdWx0aXNlbGVjdCA9IGRlcC5tdWx0aXNlbGVjdDsKICBjb25zdCBpc09wZW4gPSBkZXAuaXNPcGVuOwoKICAvLyA9PT09PT09PT09PT09PSBDT01QVVRFRCA9PT09PT09PT09PT09PQoKICAvLyBubyBleHBvcnQKICBjb25zdCBvcHRpb25zID0gY29tcHV0ZWQoKCkgPT4gewogICAgcmV0dXJuIGZvLnZhbHVlLmZpbHRlcihvID0+ICFvW2Rpc2FibGVkUHJvcC52YWx1ZV0pOwogIH0pOwogIGNvbnN0IGdyb3VwcyA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiBmZy52YWx1ZS5maWx0ZXIobyA9PiAhb1tkaXNhYmxlZFByb3AudmFsdWVdKTsKICB9KTsKICBjb25zdCBjYW5Qb2ludEdyb3VwcyA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiBtb2RlLnZhbHVlICE9PSAnc2luZ2xlJyAmJiBncm91cFNlbGVjdC52YWx1ZTsKICB9KTsKICBjb25zdCBpc1BvaW50ZXJHcm91cCA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiBwb2ludGVyLnZhbHVlICYmIHBvaW50ZXIudmFsdWUuZ3JvdXA7CiAgfSk7CiAgY29uc3QgY3VycmVudEdyb3VwID0gY29tcHV0ZWQoKCkgPT4gewogICAgcmV0dXJuIGdldFBhcmVudEdyb3VwKHBvaW50ZXIudmFsdWUpOwogIH0pOwogIGNvbnN0IHByZXZHcm91cCA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGNvbnN0IGdyb3VwID0gaXNQb2ludGVyR3JvdXAudmFsdWUgPyBwb2ludGVyLnZhbHVlIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9nZXRQYXJlbnRHcm91cChwb2ludGVyLnZhbHVlKTsKICAgIGNvbnN0IGdyb3VwSW5kZXggPSBncm91cHMudmFsdWUubWFwKGcgPT4gZ1tncm91cExhYmVsLnZhbHVlXSkuaW5kZXhPZihncm91cFtncm91cExhYmVsLnZhbHVlXSk7CiAgICBsZXQgcHJldkdyb3VwID0gZ3JvdXBzLnZhbHVlW2dyb3VwSW5kZXggLSAxXTsKICAgIGlmIChwcmV2R3JvdXAgPT09IHVuZGVmaW5lZCkgewogICAgICBwcmV2R3JvdXAgPSBsYXN0R3JvdXAudmFsdWU7CiAgICB9CiAgICByZXR1cm4gcHJldkdyb3VwOwogIH0pOwogIGNvbnN0IG5leHRHcm91cCA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGxldCBuZXh0SW5kZXggPSBncm91cHMudmFsdWUubWFwKGcgPT4gZy5sYWJlbCkuaW5kZXhPZihpc1BvaW50ZXJHcm91cC52YWx1ZSA/IHBvaW50ZXIudmFsdWVbZ3JvdXBMYWJlbC52YWx1ZV0gOiBnZXRQYXJlbnRHcm91cChwb2ludGVyLnZhbHVlKVtncm91cExhYmVsLnZhbHVlXSkgKyAxOwogICAgaWYgKGdyb3Vwcy52YWx1ZS5sZW5ndGggPD0gbmV4dEluZGV4KSB7CiAgICAgIG5leHRJbmRleCA9IDA7CiAgICB9CiAgICByZXR1cm4gZ3JvdXBzLnZhbHVlW25leHRJbmRleF07CiAgfSk7CiAgY29uc3QgbGFzdEdyb3VwID0gY29tcHV0ZWQoKCkgPT4gewogICAgcmV0dXJuIFsuLi5ncm91cHMudmFsdWVdLnNsaWNlKC0xKVswXTsKICB9KTsKICBjb25zdCBjdXJyZW50R3JvdXBGaXJzdEVuYWJsZWRPcHRpb24gPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gcG9pbnRlci52YWx1ZS5fX1ZJU0lCTEVfXy5maWx0ZXIobyA9PiAhb1tkaXNhYmxlZFByb3AudmFsdWVdKVswXTsKICB9KTsKICBjb25zdCBjdXJyZW50R3JvdXBQcmV2RW5hYmxlZE9wdGlvbiA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGNvbnN0IG9wdGlvbnMgPSBjdXJyZW50R3JvdXAudmFsdWUuX19WSVNJQkxFX18uZmlsdGVyKG8gPT4gIW9bZGlzYWJsZWRQcm9wLnZhbHVlXSk7CiAgICByZXR1cm4gb3B0aW9uc1tvcHRpb25zLm1hcChvID0+IG9bdmFsdWVQcm9wLnZhbHVlXSkuaW5kZXhPZihwb2ludGVyLnZhbHVlW3ZhbHVlUHJvcC52YWx1ZV0pIC0gMV07CiAgfSk7CiAgY29uc3QgY3VycmVudEdyb3VwTmV4dEVuYWJsZWRPcHRpb24gPSBjb21wdXRlZCgoKSA9PiB7CiAgICBjb25zdCBvcHRpb25zID0gZ2V0UGFyZW50R3JvdXAocG9pbnRlci52YWx1ZSkuX19WSVNJQkxFX18uZmlsdGVyKG8gPT4gIW9bZGlzYWJsZWRQcm9wLnZhbHVlXSk7CiAgICByZXR1cm4gb3B0aW9uc1tvcHRpb25zLm1hcChvID0+IG9bdmFsdWVQcm9wLnZhbHVlXSkuaW5kZXhPZihwb2ludGVyLnZhbHVlW3ZhbHVlUHJvcC52YWx1ZV0pICsgMV07CiAgfSk7CiAgY29uc3QgcHJldkdyb3VwTGFzdEVuYWJsZWRPcHRpb24gPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gWy4uLnByZXZHcm91cC52YWx1ZS5fX1ZJU0lCTEVfXy5maWx0ZXIobyA9PiAhb1tkaXNhYmxlZFByb3AudmFsdWVdKV0uc2xpY2UoLTEpWzBdOwogIH0pOwogIGNvbnN0IGxhc3RHcm91cExhc3RFbmFibGVkT3B0aW9uID0gY29tcHV0ZWQoKCkgPT4gewogICAgcmV0dXJuIFsuLi5sYXN0R3JvdXAudmFsdWUuX19WSVNJQkxFX18uZmlsdGVyKG8gPT4gIW9bZGlzYWJsZWRQcm9wLnZhbHVlXSldLnNsaWNlKC0xKVswXTsKICB9KTsKCiAgLy8gPT09PT09PT09PT09PT09IE1FVEhPRFMgPT09PT09PT09PT09PT0KCiAgY29uc3QgaXNQb2ludGVkID0gb3B0aW9uID0+IHsKICAgIHJldHVybiAhIXBvaW50ZXIudmFsdWUgJiYgKCFvcHRpb24uZ3JvdXAgJiYgcG9pbnRlci52YWx1ZVt2YWx1ZVByb3AudmFsdWVdID09IG9wdGlvblt2YWx1ZVByb3AudmFsdWVdIHx8IG9wdGlvbi5ncm91cCAhPT0gdW5kZWZpbmVkICYmIHBvaW50ZXIudmFsdWVbZ3JvdXBMYWJlbC52YWx1ZV0gPT0gb3B0aW9uW2dyb3VwTGFiZWwudmFsdWVdKSA/IHRydWUgOiB1bmRlZmluZWQ7CiAgfTsKICBjb25zdCBzZXRQb2ludGVyRmlyc3QgPSAoKSA9PiB7CiAgICBzZXRQb2ludGVyKG9wdGlvbnMudmFsdWVbMF0gfHwgbnVsbCk7CiAgfTsKICBjb25zdCBzZWxlY3RQb2ludGVyID0gKCkgPT4gewogICAgaWYgKCFwb2ludGVyLnZhbHVlIHx8IHBvaW50ZXIudmFsdWVbZGlzYWJsZWRQcm9wLnZhbHVlXSA9PT0gdHJ1ZSkgewogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoaXNQb2ludGVyR3JvdXAudmFsdWUpIHsKICAgICAgaGFuZGxlR3JvdXBDbGljayhwb2ludGVyLnZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIGhhbmRsZU9wdGlvbkNsaWNrKHBvaW50ZXIudmFsdWUpOwogICAgfQogIH07CiAgY29uc3QgZm9yd2FyZFBvaW50ZXIgPSAoKSA9PiB7CiAgICBpZiAocG9pbnRlci52YWx1ZSA9PT0gbnVsbCkgewogICAgICBzZXRQb2ludGVyKChncm91cHBlZC52YWx1ZSAmJiBjYW5Qb2ludEdyb3Vwcy52YWx1ZSA/IGdyb3Vwcy52YWx1ZVswXSA6IG9wdGlvbnMudmFsdWVbMF0pIHx8IG51bGwpOwogICAgfSBlbHNlIGlmIChncm91cHBlZC52YWx1ZSAmJiBjYW5Qb2ludEdyb3Vwcy52YWx1ZSkgewogICAgICBsZXQgbmV4dFBvaW50ZXIgPSBpc1BvaW50ZXJHcm91cC52YWx1ZSA/IGN1cnJlbnRHcm91cEZpcnN0RW5hYmxlZE9wdGlvbi52YWx1ZSA6IGN1cnJlbnRHcm91cE5leHRFbmFibGVkT3B0aW9uLnZhbHVlOwogICAgICBpZiAobmV4dFBvaW50ZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAgIG5leHRQb2ludGVyID0gbmV4dEdyb3VwLnZhbHVlOwogICAgICB9CiAgICAgIHNldFBvaW50ZXIobmV4dFBvaW50ZXIgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9udWxsKTsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBuZXh0ID0gb3B0aW9ucy52YWx1ZS5tYXAobyA9PiBvW3ZhbHVlUHJvcC52YWx1ZV0pLmluZGV4T2YocG9pbnRlci52YWx1ZVt2YWx1ZVByb3AudmFsdWVdKSArIDE7CiAgICAgIGlmIChvcHRpb25zLnZhbHVlLmxlbmd0aCA8PSBuZXh0KSB7CiAgICAgICAgbmV4dCA9IDA7CiAgICAgIH0KICAgICAgc2V0UG9pbnRlcihvcHRpb25zLnZhbHVlW25leHRdIHx8IG51bGwpOwogICAgfQogICAgbmV4dFRpY2soKCkgPT4gewogICAgICBhZGp1c3RXcmFwcGVyU2Nyb2xsVG9Qb2ludGVyKCk7CiAgICB9KTsKICB9OwogIGNvbnN0IGJhY2t3YXJkUG9pbnRlciA9ICgpID0+IHsKICAgIGlmIChwb2ludGVyLnZhbHVlID09PSBudWxsKSB7CiAgICAgIGxldCBwcmV2UG9pbnRlciA9IG9wdGlvbnMudmFsdWVbb3B0aW9ucy52YWx1ZS5sZW5ndGggLSAxXTsKICAgICAgaWYgKGdyb3VwcGVkLnZhbHVlICYmIGNhblBvaW50R3JvdXBzLnZhbHVlKSB7CiAgICAgICAgcHJldlBvaW50ZXIgPSBsYXN0R3JvdXBMYXN0RW5hYmxlZE9wdGlvbi52YWx1ZTsKICAgICAgICBpZiAocHJldlBvaW50ZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcHJldlBvaW50ZXIgPSBsYXN0R3JvdXAudmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHNldFBvaW50ZXIocHJldlBvaW50ZXIgfHwgbnVsbCk7CiAgICB9IGVsc2UgaWYgKGdyb3VwcGVkLnZhbHVlICYmIGNhblBvaW50R3JvdXBzLnZhbHVlKSB7CiAgICAgIGxldCBwcmV2UG9pbnRlciA9IGlzUG9pbnRlckdyb3VwLnZhbHVlID8gcHJldkdyb3VwTGFzdEVuYWJsZWRPcHRpb24udmFsdWUgOiBjdXJyZW50R3JvdXBQcmV2RW5hYmxlZE9wdGlvbi52YWx1ZTsKICAgICAgaWYgKHByZXZQb2ludGVyID09PSB1bmRlZmluZWQpIHsKICAgICAgICBwcmV2UG9pbnRlciA9IGlzUG9pbnRlckdyb3VwLnZhbHVlID8gcHJldkdyb3VwLnZhbHVlIDogY3VycmVudEdyb3VwLnZhbHVlOwogICAgICB9CiAgICAgIHNldFBvaW50ZXIocHJldlBvaW50ZXIgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9udWxsKTsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBwcmV2SW5kZXggPSBvcHRpb25zLnZhbHVlLm1hcChvID0+IG9bdmFsdWVQcm9wLnZhbHVlXSkuaW5kZXhPZihwb2ludGVyLnZhbHVlW3ZhbHVlUHJvcC52YWx1ZV0pIC0gMTsKICAgICAgaWYgKHByZXZJbmRleCA8IDApIHsKICAgICAgICBwcmV2SW5kZXggPSBvcHRpb25zLnZhbHVlLmxlbmd0aCAtIDE7CiAgICAgIH0KICAgICAgc2V0UG9pbnRlcihvcHRpb25zLnZhbHVlW3ByZXZJbmRleF0gfHwgbnVsbCk7CiAgICB9CiAgICBuZXh0VGljaygoKSA9PiB7CiAgICAgIGFkanVzdFdyYXBwZXJTY3JvbGxUb1BvaW50ZXIoKTsKICAgIH0pOwogIH07CiAgY29uc3QgZ2V0UGFyZW50R3JvdXAgPSBvcHRpb24gPT4gewogICAgcmV0dXJuIGdyb3Vwcy52YWx1ZS5maW5kKGdyb3VwID0+IHsKICAgICAgcmV0dXJuIGdyb3VwLl9fVklTSUJMRV9fLm1hcChvID0+IG9bdmFsdWVQcm9wLnZhbHVlXSkuaW5kZXhPZihvcHRpb25bdmFsdWVQcm9wLnZhbHVlXSkgIT09IC0xOwogICAgfSk7CiAgfTsKCiAgLy8gbm8gZXhwb3J0CiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICBjb25zdCBhZGp1c3RXcmFwcGVyU2Nyb2xsVG9Qb2ludGVyID0gKCkgPT4gewogICAgbGV0IHBvaW50ZWRPcHRpb24gPSBtdWx0aXNlbGVjdC52YWx1ZS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wb2ludGVkXWApOwogICAgaWYgKCFwb2ludGVkT3B0aW9uKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGxldCB3cmFwcGVyID0gcG9pbnRlZE9wdGlvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CiAgICBpZiAoZ3JvdXBwZWQudmFsdWUpIHsKICAgICAgd3JhcHBlciA9IGlzUG9pbnRlckdyb3VwLnZhbHVlID8gcG9pbnRlZE9wdGlvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCA6IHBvaW50ZWRPcHRpb24ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKICAgIH0KICAgIGlmIChwb2ludGVkT3B0aW9uLm9mZnNldFRvcCArIHBvaW50ZWRPcHRpb24ub2Zmc2V0SGVpZ2h0ID4gd3JhcHBlci5jbGllbnRIZWlnaHQgKyB3cmFwcGVyLnNjcm9sbFRvcCkgewogICAgICB3cmFwcGVyLnNjcm9sbFRvcCA9IHBvaW50ZWRPcHRpb24ub2Zmc2V0VG9wICsgcG9pbnRlZE9wdGlvbi5vZmZzZXRIZWlnaHQgLSB3cmFwcGVyLmNsaWVudEhlaWdodDsKICAgIH0KICAgIGlmIChwb2ludGVkT3B0aW9uLm9mZnNldFRvcCA8IHdyYXBwZXIuc2Nyb2xsVG9wKSB7CiAgICAgIHdyYXBwZXIuc2Nyb2xsVG9wID0gcG9pbnRlZE9wdGlvbi5vZmZzZXRUb3A7CiAgICB9CiAgfTsKCiAgLy8gPT09PT09PT09PT09PT0gV0FUQ0hFUlMgPT09PT09PT09PT09PT0KCiAgd2F0Y2goc2VhcmNoLCB2YWwgPT4gewogICAgaWYgKHNlYXJjaGFibGUudmFsdWUpIHsKICAgICAgaWYgKHZhbC5sZW5ndGggJiYgc2hvd09wdGlvbnMudmFsdWUpIHsKICAgICAgICBzZXRQb2ludGVyRmlyc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjbGVhclBvaW50ZXIoKTsKICAgICAgfQogICAgfQogIH0pOwogIHdhdGNoKGlzT3BlbiwgdmFsID0+IHsKICAgIGlmICh2YWwpIHsKICAgICAgbGV0IGZpcnN0U2VsZWN0ZWQgPSBtdWx0aXNlbGVjdC52YWx1ZS5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1zZWxlY3RlZF1gKVswXTsKICAgICAgaWYgKCFmaXJzdFNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCB3cmFwcGVyID0gZmlyc3RTZWxlY3RlZC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CiAgICAgIG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIGlmICh3cmFwcGVyLnNjcm9sbFRvcCA+IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgd3JhcHBlci5zY3JvbGxUb3AgPSBmaXJzdFNlbGVjdGVkLm9mZnNldFRvcDsKICAgICAgfSk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIHBvaW50ZXIsCiAgICBjYW5Qb2ludEdyb3VwcywKICAgIGlzUG9pbnRlZCwKICAgIHNldFBvaW50ZXJGaXJzdCwKICAgIHNlbGVjdFBvaW50ZXIsCiAgICBmb3J3YXJkUG9pbnRlciwKICAgIGJhY2t3YXJkUG9pbnRlcgogIH07Cn0KZnVuY3Rpb24gdXNlRHJvcGRvd24ocHJvcHMsIGNvbnRleHQsIGRlcCkgewogIGNvbnN0IHsKICAgIGRpc2FibGVkCiAgfSA9IHRvUmVmcyhwcm9wcyk7CiAgY29uc3QgJHRoaXMgPSBnZXRDdXJyZW50SW5zdGFuY2UoKS5wcm94eTsKCiAgLy8gPT09PT09PT09PT09PT09PSBEQVRBID09PT09PT09PT09PT09PT0KCiAgY29uc3QgaXNPcGVuID0gcmVmKGZhbHNlKTsKCiAgLy8gPT09PT09PT09PT09PT09IE1FVEhPRFMgPT09PT09PT09PT09PT0KCiAgY29uc3Qgb3BlbiA9ICgpID0+IHsKICAgIGlmIChpc09wZW4udmFsdWUgfHwgZGlzYWJsZWQudmFsdWUpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaXNPcGVuLnZhbHVlID0gdHJ1ZTsKICAgIGNvbnRleHQuZW1pdCgnb3BlbicsICR0aGlzKTsKICB9OwogIGNvbnN0IGNsb3NlID0gKCkgPT4gewogICAgaWYgKCFpc09wZW4udmFsdWUpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaXNPcGVuLnZhbHVlID0gZmFsc2U7CiAgICBjb250ZXh0LmVtaXQoJ2Nsb3NlJywgJHRoaXMpOwogIH07CiAgcmV0dXJuIHsKICAgIGlzT3BlbiwKICAgIG9wZW4sCiAgICBjbG9zZQogIH07Cn0KZnVuY3Rpb24gdXNlTXVsdGlzZWxlY3QocHJvcHMsIGNvbnRleHQsIGRlcCkgewogIGNvbnN0IHsKICAgIHNlYXJjaGFibGUsCiAgICBkaXNhYmxlZAogIH0gPSB0b1JlZnMocHJvcHMpOwoKICAvLyA9PT09PT09PT09PT0gREVQRU5ERU5DSUVTID09PT09PT09PT09PQoKICBjb25zdCBpbnB1dCA9IGRlcC5pbnB1dDsKICBjb25zdCBvcGVuID0gZGVwLm9wZW47CiAgY29uc3QgY2xvc2UgPSBkZXAuY2xvc2U7CiAgY29uc3QgY2xlYXJTZWFyY2ggPSBkZXAuY2xlYXJTZWFyY2g7CiAgY29uc3QgaXNPcGVuID0gZGVwLmlzT3BlbjsKCiAgLy8gPT09PT09PT09PT09PT09PSBEQVRBID09PT09PT09PT09PT09PT0KCiAgY29uc3QgbXVsdGlzZWxlY3QgPSByZWYobnVsbCk7CiAgY29uc3QgdGFncyA9IHJlZihudWxsKTsKICBjb25zdCBpc0FjdGl2ZSA9IHJlZihmYWxzZSk7CiAgY29uc3QgbW91c2VDbGlja2VkID0gcmVmKGZhbHNlKTsKCiAgLy8gPT09PT09PT09PT09PT0gQ09NUFVURUQgPT09PT09PT09PT09PT0KCiAgY29uc3QgdGFiaW5kZXggPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gc2VhcmNoYWJsZS52YWx1ZSB8fCBkaXNhYmxlZC52YWx1ZSA/IC0xIDogMDsKICB9KTsKCiAgLy8gPT09PT09PT09PT09PT09IE1FVEhPRFMgPT09PT09PT09PT09PT0KCiAgY29uc3QgYmx1ciA9ICgpID0+IHsKICAgIGlmIChzZWFyY2hhYmxlLnZhbHVlKSB7CiAgICAgIGlucHV0LnZhbHVlLmJsdXIoKTsKICAgIH0KICAgIG11bHRpc2VsZWN0LnZhbHVlLmJsdXIoKTsKICB9OwogIGNvbnN0IGZvY3VzID0gKCkgPT4gewogICAgaWYgKHNlYXJjaGFibGUudmFsdWUgJiYgIWRpc2FibGVkLnZhbHVlKSB7CiAgICAgIGlucHV0LnZhbHVlLmZvY3VzKCk7CiAgICB9CiAgfTsKICBjb25zdCBhY3RpdmF0ZSA9IChzaG91bGRPcGVuID0gdHJ1ZSkgPT4gewogICAgaWYgKGRpc2FibGVkLnZhbHVlKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTsKICAgIGlmIChzaG91bGRPcGVuKSB7CiAgICAgIG9wZW4oKTsKICAgIH0KICB9OwogIGNvbnN0IGRlYWN0aXZhdGUgPSAoKSA9PiB7CiAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlOwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGlmICghaXNBY3RpdmUudmFsdWUpIHsKICAgICAgICBjbG9zZSgpOwogICAgICAgIGNsZWFyU2VhcmNoKCk7CiAgICAgIH0KICAgIH0sIDEpOwogIH07CiAgY29uc3QgaGFuZGxlRm9jdXNJbiA9ICgpID0+IHsKICAgIGFjdGl2YXRlKG1vdXNlQ2xpY2tlZC52YWx1ZSk7CiAgfTsKICBjb25zdCBoYW5kbGVGb2N1c091dCA9ICgpID0+IHsKICAgIGRlYWN0aXZhdGUoKTsKICB9OwogIGNvbnN0IGhhbmRsZUNhcmV0Q2xpY2sgPSAoKSA9PiB7CiAgICBkZWFjdGl2YXRlKCk7CiAgICBibHVyKCk7CiAgfTsKCiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICBjb25zdCBoYW5kbGVNb3VzZWRvd24gPSBlID0+IHsKICAgIG1vdXNlQ2xpY2tlZC52YWx1ZSA9IHRydWU7CiAgICBpZiAoaXNPcGVuLnZhbHVlICYmIChlLnRhcmdldC5pc0VxdWFsTm9kZShtdWx0aXNlbGVjdC52YWx1ZSkgfHwgZS50YXJnZXQuaXNFcXVhbE5vZGUodGFncy52YWx1ZSkpKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGRlYWN0aXZhdGUoKTsKICAgICAgfSwgMCk7CiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaXNFcXVhbE5vZGUobXVsdGlzZWxlY3QudmFsdWUpICYmICFpc09wZW4udmFsdWUpIHsKICAgICAgYWN0aXZhdGUoKTsKICAgIH0KICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBtb3VzZUNsaWNrZWQudmFsdWUgPSBmYWxzZTsKICAgIH0sIDApOwogIH07CiAgcmV0dXJuIHsKICAgIG11bHRpc2VsZWN0LAogICAgdGFncywKICAgIHRhYmluZGV4LAogICAgaXNBY3RpdmUsCiAgICBtb3VzZUNsaWNrZWQsCiAgICBibHVyLAogICAgZm9jdXMsCiAgICBhY3RpdmF0ZSwKICAgIGRlYWN0aXZhdGUsCiAgICBoYW5kbGVGb2N1c0luLAogICAgaGFuZGxlRm9jdXNPdXQsCiAgICBoYW5kbGVDYXJldENsaWNrLAogICAgaGFuZGxlTW91c2Vkb3duCiAgfTsKfQpmdW5jdGlvbiB1c2VLZXlib2FyZChwcm9wcywgY29udGV4dCwgZGVwKSB7CiAgY29uc3QgewogICAgbW9kZSwKICAgIGFkZFRhZ09uLAogICAgb3BlbkRpcmVjdGlvbiwKICAgIHNlYXJjaGFibGUsCiAgICBzaG93T3B0aW9ucywKICAgIHZhbHVlUHJvcCwKICAgIGdyb3VwczogZ3JvdXBwZWQsCiAgICBhZGRPcHRpb25PbjogYWRkT3B0aW9uT25fLAogICAgY3JlYXRlVGFnLAogICAgY3JlYXRlT3B0aW9uOiBjcmVhdGVPcHRpb25fLAogICAgcmV2ZXJzZQogIH0gPSB0b1JlZnMocHJvcHMpOwogIGNvbnN0ICR0aGlzID0gZ2V0Q3VycmVudEluc3RhbmNlKCkucHJveHk7CgogIC8vID09PT09PT09PT09PSBERVBFTkRFTkNJRVMgPT09PT09PT09PT09CgogIGNvbnN0IGl2ID0gZGVwLml2OwogIGNvbnN0IHVwZGF0ZSA9IGRlcC51cGRhdGU7CiAgY29uc3Qgc2VhcmNoID0gZGVwLnNlYXJjaDsKICBjb25zdCBzZXRQb2ludGVyID0gZGVwLnNldFBvaW50ZXI7CiAgY29uc3Qgc2VsZWN0UG9pbnRlciA9IGRlcC5zZWxlY3RQb2ludGVyOwogIGNvbnN0IGJhY2t3YXJkUG9pbnRlciA9IGRlcC5iYWNrd2FyZFBvaW50ZXI7CiAgY29uc3QgZm9yd2FyZFBvaW50ZXIgPSBkZXAuZm9yd2FyZFBvaW50ZXI7CiAgY29uc3QgbXVsdGlzZWxlY3QgPSBkZXAubXVsdGlzZWxlY3Q7CiAgY29uc3QgdGFncyA9IGRlcC50YWdzOwogIGNvbnN0IGlzT3BlbiA9IGRlcC5pc09wZW47CiAgY29uc3Qgb3BlbiA9IGRlcC5vcGVuOwogIGNvbnN0IGJsdXIgPSBkZXAuYmx1cjsKICBjb25zdCBmbyA9IGRlcC5mbzsKCiAgLy8gPT09PT09PT09PT09PT0gQ09NUFVURUQgPT09PT09PT09PT09PT0KCiAgLy8gbm8gZXhwb3J0CiAgY29uc3QgY3JlYXRlT3B0aW9uID0gY29tcHV0ZWQoKCkgPT4gewogICAgcmV0dXJuIGNyZWF0ZVRhZy52YWx1ZSB8fCBjcmVhdGVPcHRpb25fLnZhbHVlIHx8IGZhbHNlOwogIH0pOwoKICAvLyBubyBleHBvcnQKICBjb25zdCBhZGRPcHRpb25PbiA9IGNvbXB1dGVkKCgpID0+IHsKICAgIGlmIChhZGRUYWdPbi52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBhZGRUYWdPbi52YWx1ZTsKICAgIH0gZWxzZSBpZiAoYWRkT3B0aW9uT25fLnZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIGFkZE9wdGlvbk9uXy52YWx1ZTsKICAgIH0KICAgIHJldHVybiBbJ2VudGVyJ107CiAgfSk7CgogIC8vID09PT09PT09PT09PT09PSBNRVRIT0RTID09PT09PT09PT09PT09CgogIC8vIG5vIGV4cG9ydAogIGNvbnN0IHByZXBhcmVQb2ludGVyID0gKCkgPT4gewogICAgLy8gV2hlbiBvcHRpb25zIGFyZSBoaWRkZW4gYW5kIGNyZWF0aW5nIHRhZ3MgaXMgYWxsb3dlZAogICAgLy8gbm8gcG9pbnRlciB3aWxsIGJlIHNldCAoYmVjYXVzZSBvcHRpb25zIGFyZSBoaWRkZW4pLgogICAgLy8gSW4gc3VjaCBjYXNlIHdlIG5lZWQgdG8gc2V0IHRoZSBwb2ludGVyIG1hbnVhbGx5IHRvIHRoZSAKICAgIC8vIGZpcnN0IG9wdGlvbiwgd2hpY2ggZXF1YWxzIHRvIHRoZSBvcHRpb24gY3JlYXRlZCBmcm9tCiAgICAvLyB0aGUgc2VhcmNoIHZhbHVlLgogICAgaWYgKG1vZGUudmFsdWUgPT09ICd0YWdzJyAmJiAhc2hvd09wdGlvbnMudmFsdWUgJiYgY3JlYXRlT3B0aW9uLnZhbHVlICYmIHNlYXJjaGFibGUudmFsdWUgJiYgIWdyb3VwcGVkLnZhbHVlKSB7CiAgICAgIHNldFBvaW50ZXIoZm8udmFsdWVbZm8udmFsdWUubWFwKG8gPT4gb1t2YWx1ZVByb3AudmFsdWVdKS5pbmRleE9mKHNlYXJjaC52YWx1ZSldKTsKICAgIH0KICB9OwogIGNvbnN0IGhhbmRsZUtleWRvd24gPSBlID0+IHsKICAgIGNvbnRleHQuZW1pdCgna2V5ZG93bicsIGUsICR0aGlzKTsKICAgIGxldCB0YWdMaXN0OwogICAgbGV0IGFjdGl2ZUluZGV4OwogICAgaWYgKFsnQXJyb3dMZWZ0JywgJ0Fycm93UmlnaHQnLCAnRW50ZXInXS5pbmRleE9mKGUua2V5KSAhPT0gLTEgJiYgbW9kZS52YWx1ZSA9PT0gJ3RhZ3MnKSB7CiAgICAgIHRhZ0xpc3QgPSBbLi4ubXVsdGlzZWxlY3QudmFsdWUucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtdGFnc10gPiAqYCldLmZpbHRlcihlID0+IGUgIT09IHRhZ3MudmFsdWUpOwogICAgICBhY3RpdmVJbmRleCA9IHRhZ0xpc3QuZmluZEluZGV4KGUgPT4gZSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7CiAgICB9CiAgICBzd2l0Y2ggKGUua2V5KSB7CiAgICAgIGNhc2UgJ0JhY2tzcGFjZSc6CiAgICAgICAgaWYgKG1vZGUudmFsdWUgPT09ICdzaW5nbGUnKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChzZWFyY2hhYmxlLnZhbHVlICYmIFtudWxsLCAnJ10uaW5kZXhPZihzZWFyY2gudmFsdWUpID09PSAtMSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXYudmFsdWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHVwZGF0ZShbLi4uaXYudmFsdWVdLnNsaWNlKDAsIC0xKSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ0VudGVyJzoKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ICE9PSAtMSAmJiBhY3RpdmVJbmRleCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB1cGRhdGUoWy4uLml2LnZhbHVlXS5maWx0ZXIoKHYsIGspID0+IGsgIT09IGFjdGl2ZUluZGV4KSk7CiAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggPT09IHRhZ0xpc3QubGVuZ3RoIC0gMSkgewogICAgICAgICAgICBpZiAodGFnTGlzdC5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgdGFnTGlzdFt0YWdMaXN0Lmxlbmd0aCAtIDJdLmZvY3VzKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VhcmNoYWJsZS52YWx1ZSkgewogICAgICAgICAgICAgIHRhZ3MudmFsdWUucXVlcnlTZWxlY3RvcignaW5wdXQnKS5mb2N1cygpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG11bHRpc2VsZWN0LnZhbHVlLmZvY3VzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGFkZE9wdGlvbk9uLnZhbHVlLmluZGV4T2YoJ2VudGVyJykgPT09IC0xICYmIGNyZWF0ZU9wdGlvbi52YWx1ZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBwcmVwYXJlUG9pbnRlcigpOwogICAgICAgIHNlbGVjdFBvaW50ZXIoKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnICc6CiAgICAgICAgaWYgKCFjcmVhdGVPcHRpb24udmFsdWUgJiYgIXNlYXJjaGFibGUudmFsdWUpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHByZXBhcmVQb2ludGVyKCk7CiAgICAgICAgICBzZWxlY3RQb2ludGVyKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICghY3JlYXRlT3B0aW9uLnZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmIChhZGRPcHRpb25Pbi52YWx1ZS5pbmRleE9mKCdzcGFjZScpID09PSAtMSAmJiBjcmVhdGVPcHRpb24udmFsdWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHByZXBhcmVQb2ludGVyKCk7CiAgICAgICAgc2VsZWN0UG9pbnRlcigpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdUYWInOgogICAgICBjYXNlICc7JzoKICAgICAgY2FzZSAnLCc6CiAgICAgICAgaWYgKGFkZE9wdGlvbk9uLnZhbHVlLmluZGV4T2YoZS5rZXkudG9Mb3dlckNhc2UoKSkgPT09IC0xIHx8ICFjcmVhdGVPcHRpb24udmFsdWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgcHJlcGFyZVBvaW50ZXIoKTsKICAgICAgICBzZWxlY3RQb2ludGVyKCk7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdFc2NhcGUnOgogICAgICAgIGJsdXIoKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnQXJyb3dVcCc6CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmICghc2hvd09wdGlvbnMudmFsdWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICAgICAgaWYgKCFpc09wZW4udmFsdWUpIHsKICAgICAgICAgIG9wZW4oKTsKICAgICAgICB9CiAgICAgICAgYmFja3dhcmRQb2ludGVyKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ0Fycm93RG93bic6CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmICghc2hvd09wdGlvbnMudmFsdWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICAgICAgaWYgKCFpc09wZW4udmFsdWUpIHsKICAgICAgICAgIG9wZW4oKTsKICAgICAgICB9CiAgICAgICAgZm9yd2FyZFBvaW50ZXIoKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnQXJyb3dMZWZ0JzoKICAgICAgICBpZiAoc2VhcmNoYWJsZS52YWx1ZSAmJiB0YWdzLnZhbHVlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jykuc2VsZWN0aW9uU3RhcnQgfHwgZS5zaGlmdEtleSB8fCBtb2RlLnZhbHVlICE9PSAndGFncycgfHwgIWl2LnZhbHVlIHx8ICFpdi52YWx1ZS5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmIChhY3RpdmVJbmRleCA9PT0gLTEpIHsKICAgICAgICAgIHRhZ0xpc3RbdGFnTGlzdC5sZW5ndGggLSAxXS5mb2N1cygpOwogICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW5kZXggPiAwKSB7CiAgICAgICAgICB0YWdMaXN0W2FjdGl2ZUluZGV4IC0gMV0uZm9jdXMoKTsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOgogICAgICAgIGlmIChhY3RpdmVJbmRleCA9PT0gLTEgfHwgZS5zaGlmdEtleSB8fCBtb2RlLnZhbHVlICE9PSAndGFncycgfHwgIWl2LnZhbHVlIHx8ICFpdi52YWx1ZS5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgICAgIGlmICh0YWdMaXN0Lmxlbmd0aCA+IGFjdGl2ZUluZGV4ICsgMSkgewogICAgICAgICAgdGFnTGlzdFthY3RpdmVJbmRleCArIDFdLmZvY3VzKCk7CiAgICAgICAgfSBlbHNlIGlmIChzZWFyY2hhYmxlLnZhbHVlKSB7CiAgICAgICAgICB0YWdzLnZhbHVlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuZm9jdXMoKTsKICAgICAgICB9IGVsc2UgaWYgKCFzZWFyY2hhYmxlLnZhbHVlKSB7CiAgICAgICAgICBtdWx0aXNlbGVjdC52YWx1ZS5mb2N1cygpOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgIH0KICB9OwogIGNvbnN0IGhhbmRsZUtleXVwID0gZSA9PiB7CiAgICBjb250ZXh0LmVtaXQoJ2tleXVwJywgZSwgJHRoaXMpOwogIH07CiAgcmV0dXJuIHsKICAgIGhhbmRsZUtleWRvd24sCiAgICBoYW5kbGVLZXl1cCwKICAgIHByZXBhcmVQb2ludGVyCiAgfTsKfQpmdW5jdGlvbiB1c2VDbGFzc2VzKHByb3BzLCBjb250ZXh0LCBkZXBlbmRlbmNpZXMpIHsKICBjb25zdCB7CiAgICBjbGFzc2VzOiBjbGFzc2VzXywKICAgIGRpc2FibGVkLAogICAgb3BlbkRpcmVjdGlvbiwKICAgIHNob3dPcHRpb25zCiAgfSA9IHRvUmVmcyhwcm9wcyk7CgogIC8vID09PT09PT09PT09PSBERVBFTkRFTkNJRVMgPT09PT09PT09PT09CgogIGNvbnN0IGlzT3BlbiA9IGRlcGVuZGVuY2llcy5pc09wZW47CiAgY29uc3QgaXNQb2ludGVkID0gZGVwZW5kZW5jaWVzLmlzUG9pbnRlZDsKICBjb25zdCBpc1NlbGVjdGVkID0gZGVwZW5kZW5jaWVzLmlzU2VsZWN0ZWQ7CiAgY29uc3QgaXNEaXNhYmxlZCA9IGRlcGVuZGVuY2llcy5pc0Rpc2FibGVkOwogIGNvbnN0IGlzQWN0aXZlID0gZGVwZW5kZW5jaWVzLmlzQWN0aXZlOwogIGNvbnN0IGNhblBvaW50R3JvdXBzID0gZGVwZW5kZW5jaWVzLmNhblBvaW50R3JvdXBzOwogIGNvbnN0IHJlc29sdmluZyA9IGRlcGVuZGVuY2llcy5yZXNvbHZpbmc7CiAgY29uc3QgZm8gPSBkZXBlbmRlbmNpZXMuZm87CiAgY29uc3QgY2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+ICh7CiAgICBjb250YWluZXI6ICdtdWx0aXNlbGVjdCcsCiAgICBjb250YWluZXJEaXNhYmxlZDogJ2lzLWRpc2FibGVkJywKICAgIGNvbnRhaW5lck9wZW46ICdpcy1vcGVuJywKICAgIGNvbnRhaW5lck9wZW5Ub3A6ICdpcy1vcGVuLXRvcCcsCiAgICBjb250YWluZXJBY3RpdmU6ICdpcy1hY3RpdmUnLAogICAgc2luZ2xlTGFiZWw6ICdtdWx0aXNlbGVjdC1zaW5nbGUtbGFiZWwnLAogICAgc2luZ2xlTGFiZWxUZXh0OiAnbXVsdGlzZWxlY3Qtc2luZ2xlLWxhYmVsLXRleHQnLAogICAgbXVsdGlwbGVMYWJlbDogJ211bHRpc2VsZWN0LW11bHRpcGxlLWxhYmVsJywKICAgIHNlYXJjaDogJ211bHRpc2VsZWN0LXNlYXJjaCcsCiAgICB0YWdzOiAnbXVsdGlzZWxlY3QtdGFncycsCiAgICB0YWc6ICdtdWx0aXNlbGVjdC10YWcnLAogICAgdGFnRGlzYWJsZWQ6ICdpcy1kaXNhYmxlZCcsCiAgICB0YWdSZW1vdmU6ICdtdWx0aXNlbGVjdC10YWctcmVtb3ZlJywKICAgIHRhZ1JlbW92ZUljb246ICdtdWx0aXNlbGVjdC10YWctcmVtb3ZlLWljb24nLAogICAgdGFnc1NlYXJjaFdyYXBwZXI6ICdtdWx0aXNlbGVjdC10YWdzLXNlYXJjaC13cmFwcGVyJywKICAgIHRhZ3NTZWFyY2g6ICdtdWx0aXNlbGVjdC10YWdzLXNlYXJjaCcsCiAgICB0YWdzU2VhcmNoQ29weTogJ211bHRpc2VsZWN0LXRhZ3Mtc2VhcmNoLWNvcHknLAogICAgcGxhY2Vob2xkZXI6ICdtdWx0aXNlbGVjdC1wbGFjZWhvbGRlcicsCiAgICBjYXJldDogJ211bHRpc2VsZWN0LWNhcmV0JywKICAgIGNhcmV0T3BlbjogJ2lzLW9wZW4nLAogICAgY2xlYXI6ICdtdWx0aXNlbGVjdC1jbGVhcicsCiAgICBjbGVhckljb246ICdtdWx0aXNlbGVjdC1jbGVhci1pY29uJywKICAgIHNwaW5uZXI6ICdtdWx0aXNlbGVjdC1zcGlubmVyJywKICAgIGluaWZpbml0ZTogJ211bHRpc2VsZWN0LWluaWZpdGUnLAogICAgaW5pZmluaXRlU3Bpbm5lcjogJ211bHRpc2VsZWN0LWluaWZpdGUtc3Bpbm5lcicsCiAgICBkcm9wZG93bjogJ211bHRpc2VsZWN0LWRyb3Bkb3duJywKICAgIGRyb3Bkb3duVG9wOiAnaXMtdG9wJywKICAgIGRyb3Bkb3duSGlkZGVuOiAnaXMtaGlkZGVuJywKICAgIG9wdGlvbnM6ICdtdWx0aXNlbGVjdC1vcHRpb25zJywKICAgIG9wdGlvbnNUb3A6ICdpcy10b3AnLAogICAgZ3JvdXA6ICdtdWx0aXNlbGVjdC1ncm91cCcsCiAgICBncm91cExhYmVsOiAnbXVsdGlzZWxlY3QtZ3JvdXAtbGFiZWwnLAogICAgZ3JvdXBMYWJlbFBvaW50YWJsZTogJ2lzLXBvaW50YWJsZScsCiAgICBncm91cExhYmVsUG9pbnRlZDogJ2lzLXBvaW50ZWQnLAogICAgZ3JvdXBMYWJlbFNlbGVjdGVkOiAnaXMtc2VsZWN0ZWQnLAogICAgZ3JvdXBMYWJlbERpc2FibGVkOiAnaXMtZGlzYWJsZWQnLAogICAgZ3JvdXBMYWJlbFNlbGVjdGVkUG9pbnRlZDogJ2lzLXNlbGVjdGVkIGlzLXBvaW50ZWQnLAogICAgZ3JvdXBMYWJlbFNlbGVjdGVkRGlzYWJsZWQ6ICdpcy1zZWxlY3RlZCBpcy1kaXNhYmxlZCcsCiAgICBncm91cE9wdGlvbnM6ICdtdWx0aXNlbGVjdC1ncm91cC1vcHRpb25zJywKICAgIG9wdGlvbjogJ211bHRpc2VsZWN0LW9wdGlvbicsCiAgICBvcHRpb25Qb2ludGVkOiAnaXMtcG9pbnRlZCcsCiAgICBvcHRpb25TZWxlY3RlZDogJ2lzLXNlbGVjdGVkJywKICAgIG9wdGlvbkRpc2FibGVkOiAnaXMtZGlzYWJsZWQnLAogICAgb3B0aW9uU2VsZWN0ZWRQb2ludGVkOiAnaXMtc2VsZWN0ZWQgaXMtcG9pbnRlZCcsCiAgICBvcHRpb25TZWxlY3RlZERpc2FibGVkOiAnaXMtc2VsZWN0ZWQgaXMtZGlzYWJsZWQnLAogICAgbm9PcHRpb25zOiAnbXVsdGlzZWxlY3Qtbm8tb3B0aW9ucycsCiAgICBub1Jlc3VsdHM6ICdtdWx0aXNlbGVjdC1uby1yZXN1bHRzJywKICAgIGZha2VJbnB1dDogJ211bHRpc2VsZWN0LWZha2UtaW5wdXQnLAogICAgc3BhY2VyOiAnbXVsdGlzZWxlY3Qtc3BhY2VyJywKICAgIC4uLmNsYXNzZXNfLnZhbHVlCiAgfSkpOwoKICAvLyA9PT09PT09PT09PT09PSBDT01QVVRFRCA9PT09PT09PT09PT09PQoKICBjb25zdCBzaG93RHJvcGRvd24gPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gISEoaXNPcGVuLnZhbHVlICYmIHNob3dPcHRpb25zLnZhbHVlICYmICghcmVzb2x2aW5nLnZhbHVlIHx8IHJlc29sdmluZy52YWx1ZSAmJiBmby52YWx1ZS5sZW5ndGgpKTsKICB9KTsKICBjb25zdCBjbGFzc0xpc3QgPSBjb21wdXRlZCgoKSA9PiB7CiAgICBjb25zdCBjID0gY2xhc3Nlcy52YWx1ZTsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW5lcjogW2MuY29udGFpbmVyXS5jb25jYXQoZGlzYWJsZWQudmFsdWUgPyBjLmNvbnRhaW5lckRpc2FibGVkIDogW10pLmNvbmNhdChzaG93RHJvcGRvd24udmFsdWUgJiYgb3BlbkRpcmVjdGlvbi52YWx1ZSA9PT0gJ3RvcCcgPyBjLmNvbnRhaW5lck9wZW5Ub3AgOiBbXSkuY29uY2F0KHNob3dEcm9wZG93bi52YWx1ZSAmJiBvcGVuRGlyZWN0aW9uLnZhbHVlICE9PSAndG9wJyA/IGMuY29udGFpbmVyT3BlbiA6IFtdKS5jb25jYXQoaXNBY3RpdmUudmFsdWUgPyBjLmNvbnRhaW5lckFjdGl2ZSA6IFtdKSwKICAgICAgc3BhY2VyOiBjLnNwYWNlciwKICAgICAgc2luZ2xlTGFiZWw6IGMuc2luZ2xlTGFiZWwsCiAgICAgIHNpbmdsZUxhYmVsVGV4dDogYy5zaW5nbGVMYWJlbFRleHQsCiAgICAgIG11bHRpcGxlTGFiZWw6IGMubXVsdGlwbGVMYWJlbCwKICAgICAgc2VhcmNoOiBjLnNlYXJjaCwKICAgICAgdGFnczogYy50YWdzLAogICAgICB0YWc6IFtjLnRhZ10uY29uY2F0KGRpc2FibGVkLnZhbHVlID8gYy50YWdEaXNhYmxlZCA6IFtdKSwKICAgICAgdGFnUmVtb3ZlOiBjLnRhZ1JlbW92ZSwKICAgICAgdGFnUmVtb3ZlSWNvbjogYy50YWdSZW1vdmVJY29uLAogICAgICB0YWdzU2VhcmNoV3JhcHBlcjogYy50YWdzU2VhcmNoV3JhcHBlciwKICAgICAgdGFnc1NlYXJjaDogYy50YWdzU2VhcmNoLAogICAgICB0YWdzU2VhcmNoQ29weTogYy50YWdzU2VhcmNoQ29weSwKICAgICAgcGxhY2Vob2xkZXI6IGMucGxhY2Vob2xkZXIsCiAgICAgIGNhcmV0OiBbYy5jYXJldF0uY29uY2F0KGlzT3Blbi52YWx1ZSA/IGMuY2FyZXRPcGVuIDogW10pLAogICAgICBjbGVhcjogYy5jbGVhciwKICAgICAgY2xlYXJJY29uOiBjLmNsZWFySWNvbiwKICAgICAgc3Bpbm5lcjogYy5zcGlubmVyLAogICAgICBpbmlmaW5pdGU6IGMuaW5pZmluaXRlLAogICAgICBpbmlmaW5pdGVTcGlubmVyOiBjLmluaWZpbml0ZVNwaW5uZXIsCiAgICAgIGRyb3Bkb3duOiBbYy5kcm9wZG93bl0uY29uY2F0KG9wZW5EaXJlY3Rpb24udmFsdWUgPT09ICd0b3AnID8gYy5kcm9wZG93blRvcCA6IFtdKS5jb25jYXQoIWlzT3Blbi52YWx1ZSB8fCAhc2hvd09wdGlvbnMudmFsdWUgfHwgIXNob3dEcm9wZG93bi52YWx1ZSA/IGMuZHJvcGRvd25IaWRkZW4gOiBbXSksCiAgICAgIG9wdGlvbnM6IFtjLm9wdGlvbnNdLmNvbmNhdChvcGVuRGlyZWN0aW9uLnZhbHVlID09PSAndG9wJyA/IGMub3B0aW9uc1RvcCA6IFtdKSwKICAgICAgZ3JvdXA6IGMuZ3JvdXAsCiAgICAgIGdyb3VwTGFiZWw6IGcgPT4gewogICAgICAgIGxldCBncm91cExhYmVsID0gW2MuZ3JvdXBMYWJlbF07CiAgICAgICAgaWYgKGlzUG9pbnRlZChnKSkgewogICAgICAgICAgZ3JvdXBMYWJlbC5wdXNoKGlzU2VsZWN0ZWQoZykgPyBjLmdyb3VwTGFiZWxTZWxlY3RlZFBvaW50ZWQgOiBjLmdyb3VwTGFiZWxQb2ludGVkKTsKICAgICAgICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQoZykgJiYgY2FuUG9pbnRHcm91cHMudmFsdWUpIHsKICAgICAgICAgIGdyb3VwTGFiZWwucHVzaChpc0Rpc2FibGVkKGcpID8gYy5ncm91cExhYmVsU2VsZWN0ZWREaXNhYmxlZCA6IGMuZ3JvdXBMYWJlbFNlbGVjdGVkKTsKICAgICAgICB9IGVsc2UgaWYgKGlzRGlzYWJsZWQoZykpIHsKICAgICAgICAgIGdyb3VwTGFiZWwucHVzaChjLmdyb3VwTGFiZWxEaXNhYmxlZCk7CiAgICAgICAgfQogICAgICAgIGlmIChjYW5Qb2ludEdyb3Vwcy52YWx1ZSkgewogICAgICAgICAgZ3JvdXBMYWJlbC5wdXNoKGMuZ3JvdXBMYWJlbFBvaW50YWJsZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBncm91cExhYmVsOwogICAgICB9LAogICAgICBncm91cE9wdGlvbnM6IGMuZ3JvdXBPcHRpb25zLAogICAgICBvcHRpb246IChvLCBnKSA9PiB7CiAgICAgICAgbGV0IG9wdGlvbiA9IFtjLm9wdGlvbl07CiAgICAgICAgaWYgKGlzUG9pbnRlZChvKSkgewogICAgICAgICAgb3B0aW9uLnB1c2goaXNTZWxlY3RlZChvKSA/IGMub3B0aW9uU2VsZWN0ZWRQb2ludGVkIDogYy5vcHRpb25Qb2ludGVkKTsKICAgICAgICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQobykpIHsKICAgICAgICAgIG9wdGlvbi5wdXNoKGlzRGlzYWJsZWQobykgPyBjLm9wdGlvblNlbGVjdGVkRGlzYWJsZWQgOiBjLm9wdGlvblNlbGVjdGVkKTsKICAgICAgICB9IGVsc2UgaWYgKGlzRGlzYWJsZWQobykgfHwgZyAmJiBpc0Rpc2FibGVkKGcpKSB7CiAgICAgICAgICBvcHRpb24ucHVzaChjLm9wdGlvbkRpc2FibGVkKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9wdGlvbjsKICAgICAgfSwKICAgICAgbm9PcHRpb25zOiBjLm5vT3B0aW9ucywKICAgICAgbm9SZXN1bHRzOiBjLm5vUmVzdWx0cywKICAgICAgZmFrZUlucHV0OiBjLmZha2VJbnB1dAogICAgfTsKICB9KTsKICByZXR1cm4gewogICAgY2xhc3NMaXN0LAogICAgc2hvd0Ryb3Bkb3duCiAgfTsKfQpmdW5jdGlvbiB1c2VTY3JvbGwkMShwcm9wcywgY29udGV4dCwgZGVwKSB7CiAgY29uc3QgewogICAgbGltaXQsCiAgICBpbmZpbml0ZQogIH0gPSB0b1JlZnMocHJvcHMpOwoKICAvLyA9PT09PT09PT09PT0gREVQRU5ERU5DSUVTID09PT09PT09PT09PQoKICBjb25zdCBpc09wZW4gPSBkZXAuaXNPcGVuOwogIGNvbnN0IG9mZnNldCA9IGRlcC5vZmZzZXQ7CiAgY29uc3Qgc2VhcmNoID0gZGVwLnNlYXJjaDsKICBjb25zdCBwZm8gPSBkZXAucGZvOwogIGNvbnN0IGVvID0gZGVwLmVvOwoKICAvLyA9PT09PT09PT09PT09PT09IERBVEEgPT09PT09PT09PT09PT09PQoKICAvLyBubyBleHBvcnQKICBjb25zdCBvYnNlcnZlciA9IHJlZihudWxsKTsKICBjb25zdCBpbmZpbml0ZUxvYWRlciA9IHJlZihudWxsKTsKCiAgLy8gPT09PT09PT09PT09PT0gQ09NUFVURUQgPT09PT09PT09PT09PT0KCiAgY29uc3QgaGFzTW9yZSA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiBvZmZzZXQudmFsdWUgPCBwZm8udmFsdWUubGVuZ3RoOwogIH0pOwoKICAvLyA9PT09PT09PT09PT09PT0gTUVUSE9EUyA9PT09PT09PT09PT09PQoKICAvLyBubyBleHBvcnQKICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogIGNvbnN0IGhhbmRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gZW50cmllcyA9PiB7CiAgICBjb25zdCB7CiAgICAgIGlzSW50ZXJzZWN0aW5nLAogICAgICB0YXJnZXQKICAgIH0gPSBlbnRyaWVzWzBdOwogICAgaWYgKGlzSW50ZXJzZWN0aW5nKSB7CiAgICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5vZmZzZXRQYXJlbnQ7CiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHBhcmVudC5zY3JvbGxUb3A7CiAgICAgIG9mZnNldC52YWx1ZSArPSBsaW1pdC52YWx1ZSA9PSAtMSA/IDEwIDogbGltaXQudmFsdWU7CiAgICAgIG5leHRUaWNrKCgpID0+IHsKICAgICAgICBwYXJlbnQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wOwogICAgICB9KTsKICAgIH0KICB9OwogIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgaWYgKGlzT3Blbi52YWx1ZSAmJiBvZmZzZXQudmFsdWUgPCBwZm8udmFsdWUubGVuZ3RoKSB7CiAgICAgIG9ic2VydmVyLnZhbHVlLm9ic2VydmUoaW5maW5pdGVMb2FkZXIudmFsdWUpOwogICAgfSBlbHNlIGlmICghaXNPcGVuLnZhbHVlICYmIG9ic2VydmVyLnZhbHVlKSB7CiAgICAgIG9ic2VydmVyLnZhbHVlLmRpc2Nvbm5lY3QoKTsKICAgIH0KICB9OwoKICAvLyA9PT09PT09PT09PT09PSBXQVRDSEVSUyA9PT09PT09PT09PT09PQoKICB3YXRjaChpc09wZW4sICgpID0+IHsKICAgIGlmICghaW5maW5pdGUudmFsdWUpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgb2JzZXJ2ZSgpOwogIH0pOwogIHdhdGNoKHNlYXJjaCwgKCkgPT4gewogICAgaWYgKCFpbmZpbml0ZS52YWx1ZSkgewogICAgICByZXR1cm47CiAgICB9CiAgICBvZmZzZXQudmFsdWUgPSBsaW1pdC52YWx1ZTsKICAgIG9ic2VydmUoKTsKICB9LCB7CiAgICBmbHVzaDogJ3Bvc3QnCiAgfSk7CiAgd2F0Y2goZW8sICgpID0+IHsKICAgIGlmICghaW5maW5pdGUudmFsdWUpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgb2JzZXJ2ZSgpOwogIH0sIHsKICAgIGltbWVkaWF0ZTogZmFsc2UsCiAgICBmbHVzaDogJ3Bvc3QnCiAgfSk7CgogIC8vID09PT09PT09PT09PT09PT0gSE9PS1MgPT09PT09PT09PT09PT09CgogIG9uTW91bnRlZCgoKSA9PiB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgaWYgKHdpbmRvdyAmJiB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHsKICAgICAgb2JzZXJ2ZXIudmFsdWUgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpOwogICAgfQogIH0pOwogIHJldHVybiB7CiAgICBoYXNNb3JlLAogICAgaW5maW5pdGVMb2FkZXIKICB9Owp9CmZ1bmN0aW9uIHVzZVNjcm9sbChwcm9wcywgY29udGV4dCwgZGVwKSB7CiAgY29uc3QgewogICAgcGxhY2Vob2xkZXIsCiAgICBpZCwKICAgIHZhbHVlUHJvcCwKICAgIGxhYmVsOiBsYWJlbFByb3AsCiAgICBtb2RlLAogICAgZ3JvdXBMYWJlbAogIH0gPSB0b1JlZnMocHJvcHMpOwoKICAvLyA9PT09PT09PT09PT0gREVQRU5ERU5DSUVTID09PT09PT09PT09PQoKICBjb25zdCBwb2ludGVyID0gZGVwLnBvaW50ZXI7CiAgZGVwLml2OwogIGRlcC5oYXNTZWxlY3RlZDsKICBkZXAubXVsdGlwbGVMYWJlbFRleHQ7CiAgZGVwLmlzT3BlbjsKCiAgLy8gPT09PT09PT09PT09PT09PSBEQVRBID09PT09PT09PT09PT09PT0KCiAgY29uc3QgbGFiZWwgPSByZWYobnVsbCk7CgogIC8vID09PT09PT09PT09PT09IENPTVBVVEVEID09PT09PT09PT09PT09CgogIGNvbnN0IGFyaWFPd25zID0gY29tcHV0ZWQoKCkgPT4gewogICAgbGV0IHRleHRzID0gW107CiAgICBpZiAoaWQgJiYgaWQudmFsdWUpIHsKICAgICAgdGV4dHMucHVzaChpZC52YWx1ZSk7CiAgICB9CiAgICB0ZXh0cy5wdXNoKCdtdWx0aXNlbGVjdC1vcHRpb25zJyk7CiAgICByZXR1cm4gdGV4dHMuam9pbignLScpOwogIH0pOwogIGNvbnN0IGFyaWFBY3RpdmVEZXNjZW5kYW50ID0gY29tcHV0ZWQoKCkgPT4gewogICAgbGV0IHRleHRzID0gW107CiAgICBpZiAoaWQgJiYgaWQudmFsdWUpIHsKICAgICAgdGV4dHMucHVzaChpZC52YWx1ZSk7CiAgICB9CiAgICBpZiAocG9pbnRlci52YWx1ZSkgewogICAgICB0ZXh0cy5wdXNoKHBvaW50ZXIudmFsdWUuZ3JvdXAgPyAnbXVsdGlzZWxlY3QtZ3JvdXAnIDogJ211bHRpc2VsZWN0LW9wdGlvbicpOwogICAgICB0ZXh0cy5wdXNoKHBvaW50ZXIudmFsdWUuZ3JvdXAgPyBwb2ludGVyLnZhbHVlLmluZGV4IDogcG9pbnRlci52YWx1ZVt2YWx1ZVByb3AudmFsdWVdKTsKICAgICAgcmV0dXJuIHRleHRzLmpvaW4oJy0nKTsKICAgIH0KICB9KTsKICBjb25zdCBhcmlhUGxhY2Vob2xkZXIgPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gcGxhY2Vob2xkZXIudmFsdWU7CiAgfSk7CiAgY29uc3QgYXJpYU11bHRpc2VsZWN0YWJsZSA9IGNvbXB1dGVkKCgpID0+IHsKICAgIHJldHVybiBtb2RlLnZhbHVlICE9PSAnc2luZ2xlJzsKICB9KTsKCiAgLy8gPT09PT09PT09PT09PT09IE1FVEhPRFMgPT09PT09PT09PT09PT0KCiAgY29uc3QgYXJpYU9wdGlvbklkID0gb3B0aW9uID0+IHsKICAgIGxldCB0ZXh0cyA9IFtdOwogICAgaWYgKGlkICYmIGlkLnZhbHVlKSB7CiAgICAgIHRleHRzLnB1c2goaWQudmFsdWUpOwogICAgfQogICAgdGV4dHMucHVzaCgnbXVsdGlzZWxlY3Qtb3B0aW9uJyk7CiAgICB0ZXh0cy5wdXNoKG9wdGlvblt2YWx1ZVByb3AudmFsdWVdKTsKICAgIHJldHVybiB0ZXh0cy5qb2luKCctJyk7CiAgfTsKICBjb25zdCBhcmlhR3JvdXBJZCA9IG9wdGlvbiA9PiB7CiAgICBsZXQgdGV4dHMgPSBbXTsKICAgIGlmIChpZCAmJiBpZC52YWx1ZSkgewogICAgICB0ZXh0cy5wdXNoKGlkLnZhbHVlKTsKICAgIH0KICAgIHRleHRzLnB1c2goJ211bHRpc2VsZWN0LWdyb3VwJyk7CiAgICB0ZXh0cy5wdXNoKG9wdGlvbi5pbmRleCk7CiAgICByZXR1cm4gdGV4dHMuam9pbignLScpOwogIH07CiAgY29uc3QgYXJpYU9wdGlvbkxhYmVsID0gb3B0aW9uID0+IHsKICAgIGxldCB0ZXh0cyA9IFtdOwogICAgdGV4dHMucHVzaChvcHRpb25bbGFiZWxQcm9wLnZhbHVlXSk7CiAgICByZXR1cm4gdGV4dHMuam9pbignICcpOwogIH07CiAgY29uc3QgYXJpYUdyb3VwTGFiZWwgPSBncm91cCA9PiB7CiAgICBsZXQgdGV4dHMgPSBbXTsKICAgIHRleHRzLnB1c2goZ3JvdXBbZ3JvdXBMYWJlbC52YWx1ZV0pOwogICAgcmV0dXJuIHRleHRzLmpvaW4oJyAnKTsKICB9OwogIGNvbnN0IGFyaWFUYWdMYWJlbCA9IGxhYmVsID0+IHsKICAgIHJldHVybiBgJHtsYWJlbH0g4p2OYDsKICB9OwoKICAvLyA9PT09PT09PT09PT09PT0gSE9PS1MgPT09PT09PT09PT09PT09PQoKICBvbk1vdW50ZWQoKCkgPT4gewogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIGlmIChpZCAmJiBpZC52YWx1ZSAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKSB7CiAgICAgIGxldCBmb3JUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZm9yPSIke2lkLnZhbHVlfSJdYCk7CiAgICAgIGxhYmVsLnZhbHVlID0gZm9yVGFnID8gZm9yVGFnLmlubmVyVGV4dCA6IG51bGw7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIGFyaWFPd25zLAogICAgYXJpYVBsYWNlaG9sZGVyLAogICAgYXJpYU11bHRpc2VsZWN0YWJsZSwKICAgIGFyaWFBY3RpdmVEZXNjZW5kYW50LAogICAgYXJpYU9wdGlvbklkLAogICAgYXJpYU9wdGlvbkxhYmVsLAogICAgYXJpYUdyb3VwSWQsCiAgICBhcmlhR3JvdXBMYWJlbCwKICAgIGFyaWFUYWdMYWJlbAogIH07Cn0KZnVuY3Rpb24gcmVzb2x2ZURlcHMocHJvcHMsIGNvbnRleHQsIGZlYXR1cmVzLCBkZXBzID0ge30pIHsKICBmZWF0dXJlcy5mb3JFYWNoKGNvbXBvc2FibGUgPT4gewogICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgIGlmIChjb21wb3NhYmxlKSB7CiAgICAgIGRlcHMgPSB7CiAgICAgICAgLi4uZGVwcywKICAgICAgICAuLi5jb21wb3NhYmxlKHByb3BzLCBjb250ZXh0LCBkZXBzKQogICAgICB9OwogICAgfQogIH0pOwogIHJldHVybiBkZXBzOwp9CnZhciBzY3JpcHQgPSB7CiAgbmFtZTogJ011bHRpc2VsZWN0JywKICBlbWl0czogWydwYXN0ZScsICdvcGVuJywgJ2Nsb3NlJywgJ3NlbGVjdCcsICdkZXNlbGVjdCcsICdpbnB1dCcsICdzZWFyY2gtY2hhbmdlJywgJ3RhZycsICdvcHRpb24nLCAndXBkYXRlOm1vZGVsVmFsdWUnLCAnY2hhbmdlJywgJ2NsZWFyJywgJ2tleWRvd24nLCAna2V5dXAnXSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgbW9kZWxWYWx1ZTogewogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IFtBcnJheSwgT2JqZWN0LCBGdW5jdGlvbl0sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICBuYW1lOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ211bHRpc2VsZWN0JwogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2xhYmVsJwogICAgfSwKICAgIHRyYWNrQnk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIHZhbHVlUHJvcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ3ZhbHVlJwogICAgfSwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ3NpbmdsZScgLy8gc2luZ2xlfG11bHRpcGxlfHRhZ3MKICAgIH0sCgogICAgc2VhcmNoYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbGltaXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IC0xCiAgICB9LAogICAgaGlkZVNlbGVjdGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGNyZWF0ZVRhZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGNyZWF0ZU9wdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGFwcGVuZE5ld1RhZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGFwcGVuZE5ld09wdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGFkZFRhZ09uOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGFkZE9wdGlvbk9uOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGNhcmV0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG5vT3B0aW9uc1RleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICdUaGUgbGlzdCBpcyBlbXB0eScKICAgIH0sCiAgICBub1Jlc3VsdHNUZXh0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnTm8gcmVzdWx0cyBmb3VuZCcKICAgIH0sCiAgICBtdWx0aXBsZUxhYmVsOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICBvYmplY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRlbGF5OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAtMQogICAgfSwKICAgIG1pbkNoYXJzOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgcmVzb2x2ZU9uTG9hZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBmaWx0ZXJSZXN1bHRzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGNsZWFyT25TZWFyY2g6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGNsZWFyT25TZWxlY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY2FuRGVzZWxlY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY2FuQ2xlYXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbWF4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAtMQogICAgfSwKICAgIHNob3dPcHRpb25zOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHJlcXVpcmVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBvcGVuRGlyZWN0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnYm90dG9tJwogICAgfSwKICAgIG5hdGl2ZVN1cHBvcnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGNsYXNzZXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSkKICAgIH0sCiAgICBzdHJpY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY2xvc2VPblNlbGVjdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBhdXRvY29tcGxldGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICBncm91cHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGdyb3VwTGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICdsYWJlbCcKICAgIH0sCiAgICBncm91cE9wdGlvbnM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICdvcHRpb25zJwogICAgfSwKICAgIGdyb3VwSGlkZUVtcHR5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBncm91cFNlbGVjdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBpbnB1dFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICd0ZXh0JwogICAgfSwKICAgIGF0dHJzOiB7CiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiAoe30pCiAgICB9LAogICAgb25DcmVhdGU6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIGRpc2FibGVkUHJvcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2Rpc2FibGVkJwogICAgfSwKICAgIHNlYXJjaFN0YXJ0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZXZlcnNlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZWdleDogewogICAgICB0eXBlOiBbT2JqZWN0LCBTdHJpbmcsIFJlZ0V4cF0sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAogICAgcnRsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpbmZpbml0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgYXJpYTogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQogICAgfQogIH0sCiAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHsKICAgIHJldHVybiByZXNvbHZlRGVwcyhwcm9wcywgY29udGV4dCwgW3VzZVZhbHVlLCB1c2VQb2ludGVyJDEsIHVzZURyb3Bkb3duLCB1c2VTZWFyY2gsIHVzZURhdGEsIHVzZU11bHRpc2VsZWN0LCB1c2VPcHRpb25zLCB1c2VTY3JvbGwkMSwgdXNlUG9pbnRlciwgdXNlS2V5Ym9hcmQsIHVzZUNsYXNzZXMsIHVzZVNjcm9sbF0pOwogIH0KfTsKY29uc3QgX2hvaXN0ZWRfMSA9IFsidGFiaW5kZXgiLCAiaWQiLCAiZGlyIiwgImFyaWEtb3ducyIsICJhcmlhLXBsYWNlaG9sZGVyIiwgImFyaWEtZXhwYW5kZWQiLCAiYXJpYS1hY3RpdmVkZXNjZW5kYW50IiwgImFyaWEtbXVsdGlzZWxlY3RhYmxlIiwgInJvbGUiXTsKY29uc3QgX2hvaXN0ZWRfMiA9IFsidHlwZSIsICJtb2RlbFZhbHVlIiwgInZhbHVlIiwgImF1dG9jb21wbGV0ZSIsICJpZCIsICJhcmlhLW93bnMiLCAiYXJpYS1wbGFjZWhvbGRlciIsICJhcmlhLWV4cGFuZGVkIiwgImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsICJhcmlhLW11bHRpc2VsZWN0YWJsZSJdOwpjb25zdCBfaG9pc3RlZF8zID0gWyJvbktleXVwIiwgImFyaWEtbGFiZWwiXTsKY29uc3QgX2hvaXN0ZWRfNCA9IFsib25DbGljayJdOwpjb25zdCBfaG9pc3RlZF81ID0gWyJ0eXBlIiwgIm1vZGVsVmFsdWUiLCAidmFsdWUiLCAiaWQiLCAiYXV0b2NvbXBsZXRlIiwgImFyaWEtb3ducyIsICJhcmlhLXBsYWNlaG9sZGVyIiwgImFyaWEtZXhwYW5kZWQiLCAiYXJpYS1hY3RpdmVkZXNjZW5kYW50IiwgImFyaWEtbXVsdGlzZWxlY3RhYmxlIl07CmNvbnN0IF9ob2lzdGVkXzYgPSBbImlubmVySFRNTCJdOwpjb25zdCBfaG9pc3RlZF83ID0gWyJpbm5lckhUTUwiXTsKY29uc3QgX2hvaXN0ZWRfOCA9IFsiaWQiXTsKY29uc3QgX2hvaXN0ZWRfOSA9IFsiaWQiLCAiYXJpYS1sYWJlbCIsICJhcmlhLXNlbGVjdGVkIl07CmNvbnN0IF9ob2lzdGVkXzEwID0gWyJkYXRhLXBvaW50ZWQiLCAib25Nb3VzZWVudGVyIiwgIm9uQ2xpY2siXTsKY29uc3QgX2hvaXN0ZWRfMTEgPSBbImlubmVySFRNTCJdOwpjb25zdCBfaG9pc3RlZF8xMiA9IFsiYXJpYS1sYWJlbCJdOwpjb25zdCBfaG9pc3RlZF8xMyA9IFsiZGF0YS1wb2ludGVkIiwgImRhdGEtc2VsZWN0ZWQiLCAib25Nb3VzZWVudGVyIiwgIm9uQ2xpY2siLCAiaWQiLCAiYXJpYS1zZWxlY3RlZCIsICJhcmlhLWxhYmVsIl07CmNvbnN0IF9ob2lzdGVkXzE0ID0gWyJpbm5lckhUTUwiXTsKY29uc3QgX2hvaXN0ZWRfMTUgPSBbImRhdGEtcG9pbnRlZCIsICJkYXRhLXNlbGVjdGVkIiwgIm9uTW91c2VlbnRlciIsICJvbkNsaWNrIiwgImlkIiwgImFyaWEtc2VsZWN0ZWQiLCAiYXJpYS1sYWJlbCJdOwpjb25zdCBfaG9pc3RlZF8xNiA9IFsiaW5uZXJIVE1MIl07CmNvbnN0IF9ob2lzdGVkXzE3ID0gWyJpbm5lckhUTUwiXTsKY29uc3QgX2hvaXN0ZWRfMTggPSBbImlubmVySFRNTCJdOwpjb25zdCBfaG9pc3RlZF8xOSA9IFsidmFsdWUiXTsKY29uc3QgX2hvaXN0ZWRfMjAgPSBbIm5hbWUiLCAidmFsdWUiXTsKY29uc3QgX2hvaXN0ZWRfMjEgPSBbIm5hbWUiLCAidmFsdWUiXTsKZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBtZXJnZVByb3BzKHsKICAgIHJlZjogIm11bHRpc2VsZWN0IiwKICAgIHRhYmluZGV4OiBfY3R4LnRhYmluZGV4LAogICAgY2xhc3M6IF9jdHguY2xhc3NMaXN0LmNvbnRhaW5lciwKICAgIGlkOiAkcHJvcHMuc2VhcmNoYWJsZSA/IHVuZGVmaW5lZCA6ICRwcm9wcy5pZCwKICAgIGRpcjogJHByb3BzLnJ0bCA/ICdydGwnIDogdW5kZWZpbmVkLAogICAgb25Gb2N1c2luOiBfY2FjaGVbOV0gfHwgKF9jYWNoZVs5XSA9ICguLi5hcmdzKSA9PiBfY3R4LmhhbmRsZUZvY3VzSW4gJiYgX2N0eC5oYW5kbGVGb2N1c0luKC4uLmFyZ3MpKSwKICAgIG9uRm9jdXNvdXQ6IF9jYWNoZVsxMF0gfHwgKF9jYWNoZVsxMF0gPSAoLi4uYXJncykgPT4gX2N0eC5oYW5kbGVGb2N1c091dCAmJiBfY3R4LmhhbmRsZUZvY3VzT3V0KC4uLmFyZ3MpKSwKICAgIG9uS2V5ZG93bjogX2NhY2hlWzExXSB8fCAoX2NhY2hlWzExXSA9ICguLi5hcmdzKSA9PiBfY3R4LmhhbmRsZUtleWRvd24gJiYgX2N0eC5oYW5kbGVLZXlkb3duKC4uLmFyZ3MpKSwKICAgIG9uS2V5dXA6IF9jYWNoZVsxMl0gfHwgKF9jYWNoZVsxMl0gPSAoLi4uYXJncykgPT4gX2N0eC5oYW5kbGVLZXl1cCAmJiBfY3R4LmhhbmRsZUtleXVwKC4uLmFyZ3MpKSwKICAgIG9uTW91c2Vkb3duOiBfY2FjaGVbMTNdIHx8IChfY2FjaGVbMTNdID0gKC4uLmFyZ3MpID0+IF9jdHguaGFuZGxlTW91c2Vkb3duICYmIF9jdHguaGFuZGxlTW91c2Vkb3duKC4uLmFyZ3MpKSwKICAgICJhcmlhLW93bnMiOiAhJHByb3BzLnNlYXJjaGFibGUgPyBfY3R4LmFyaWFPd25zIDogdW5kZWZpbmVkLAogICAgImFyaWEtcGxhY2Vob2xkZXIiOiAhJHByb3BzLnNlYXJjaGFibGUgPyBfY3R4LmFyaWFQbGFjZWhvbGRlciA6IHVuZGVmaW5lZCwKICAgICJhcmlhLWV4cGFuZGVkIjogISRwcm9wcy5zZWFyY2hhYmxlID8gX2N0eC5pc09wZW4gOiB1bmRlZmluZWQsCiAgICAiYXJpYS1hY3RpdmVkZXNjZW5kYW50IjogISRwcm9wcy5zZWFyY2hhYmxlID8gX2N0eC5hcmlhQWN0aXZlRGVzY2VuZGFudCA6IHVuZGVmaW5lZCwKICAgICJhcmlhLW11bHRpc2VsZWN0YWJsZSI6ICEkcHJvcHMuc2VhcmNoYWJsZSA/IF9jdHguYXJpYU11bHRpc2VsZWN0YWJsZSA6IHVuZGVmaW5lZCwKICAgIHJvbGU6ICEkcHJvcHMuc2VhcmNoYWJsZSA/ICdsaXN0Ym94JyA6IHVuZGVmaW5lZAogIH0sICEkcHJvcHMuc2VhcmNoYWJsZSA/ICRwcm9wcy5hcmlhIDoge30pLCBbY3JlYXRlQ29tbWVudFZOb2RlKCIgU2VhcmNoICIpLCAkcHJvcHMubW9kZSAhPT0gJ3RhZ3MnICYmICRwcm9wcy5zZWFyY2hhYmxlICYmICEkcHJvcHMuZGlzYWJsZWQgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygiaW5wdXQiLCBtZXJnZVByb3BzKHsKICAgIGtleTogMCwKICAgIHR5cGU6ICRwcm9wcy5pbnB1dFR5cGUsCiAgICBtb2RlbFZhbHVlOiBfY3R4LnNlYXJjaCwKICAgIHZhbHVlOiBfY3R4LnNlYXJjaCwKICAgIGNsYXNzOiBfY3R4LmNsYXNzTGlzdC5zZWFyY2gsCiAgICBhdXRvY29tcGxldGU6ICRwcm9wcy5hdXRvY29tcGxldGUsCiAgICBpZDogJHByb3BzLnNlYXJjaGFibGUgPyAkcHJvcHMuaWQgOiB1bmRlZmluZWQsCiAgICBvbklucHV0OiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICguLi5hcmdzKSA9PiBfY3R4LmhhbmRsZVNlYXJjaElucHV0ICYmIF9jdHguaGFuZGxlU2VhcmNoSW5wdXQoLi4uYXJncykpLAogICAgb25LZXlwcmVzczogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoLi4uYXJncykgPT4gX2N0eC5oYW5kbGVLZXlwcmVzcyAmJiBfY3R4LmhhbmRsZUtleXByZXNzKC4uLmFyZ3MpKSwKICAgIG9uUGFzdGU6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gd2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gX2N0eC5oYW5kbGVQYXN0ZSAmJiBfY3R4LmhhbmRsZVBhc3RlKC4uLmFyZ3MpLCBbInN0b3AiXSkpLAogICAgcmVmOiAiaW5wdXQiLAogICAgImFyaWEtb3ducyI6IF9jdHguYXJpYU93bnMsCiAgICAiYXJpYS1wbGFjZWhvbGRlciI6IF9jdHguYXJpYVBsYWNlaG9sZGVyLAogICAgImFyaWEtZXhwYW5kZWQiOiBfY3R4LmlzT3BlbiwKICAgICJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiOiBfY3R4LmFyaWFBY3RpdmVEZXNjZW5kYW50LAogICAgImFyaWEtbXVsdGlzZWxlY3RhYmxlIjogX2N0eC5hcmlhTXVsdGlzZWxlY3RhYmxlLAogICAgcm9sZTogImxpc3Rib3giCiAgfSwgewogICAgLi4uJHByb3BzLmF0dHJzLAogICAgLi4uJHByb3BzLmFyaWEKICB9KSwgbnVsbCwgMTYgLyogRlVMTF9QUk9QUyAqLywgX2hvaXN0ZWRfMikpIDogY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIFRhZ3MgKHdpdGggc2VhcmNoKSAiKSwgJHByb3BzLm1vZGUgPT0gJ3RhZ3MnID8gKG9wZW5CbG9jaygpLCBjcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgIGtleTogMSwKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC50YWdzKSwKICAgICJkYXRhLXRhZ3MiOiAiIgogIH0sIFsob3BlbkJsb2NrKHRydWUpLCBjcmVhdGVFbGVtZW50QmxvY2soRnJhZ21lbnQsIG51bGwsIHJlbmRlckxpc3QoX2N0eC5pdiwgKG9wdGlvbiwgaSwga2V5KSA9PiB7CiAgICByZXR1cm4gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgInRhZyIsIHsKICAgICAgb3B0aW9uOiBvcHRpb24sCiAgICAgIGhhbmRsZVRhZ1JlbW92ZTogX2N0eC5oYW5kbGVUYWdSZW1vdmUsCiAgICAgIGRpc2FibGVkOiAkcHJvcHMuZGlzYWJsZWQKICAgIH0sICgpID0+IFsob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIHsKICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0LnRhZyksCiAgICAgIHRhYmluZGV4OiAiLTEiLAogICAgICBvbktleXVwOiB3aXRoS2V5cygkZXZlbnQgPT4gX2N0eC5oYW5kbGVUYWdSZW1vdmUob3B0aW9uLCAkZXZlbnQpLCBbImVudGVyIl0pLAogICAgICBrZXk6IGtleSwKICAgICAgImFyaWEtbGFiZWwiOiBfY3R4LmFyaWFUYWdMYWJlbChvcHRpb25bJHByb3BzLmxhYmVsXSkKICAgIH0sIFtjcmVhdGVUZXh0Vk5vZGUodG9EaXNwbGF5U3RyaW5nKG9wdGlvblskcHJvcHMubGFiZWxdKSArICIgIiwgMSAvKiBURVhUICovKSwgISRwcm9wcy5kaXNhYmxlZCA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgewogICAgICBrZXk6IDAsCiAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC50YWdSZW1vdmUpLAogICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gX2N0eC5oYW5kbGVUYWdSZW1vdmUob3B0aW9uLCAkZXZlbnQpCiAgICB9LCBbY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoX2N0eC5jbGFzc0xpc3QudGFnUmVtb3ZlSWNvbikKICAgIH0sIG51bGwsIDIgLyogQ0xBU1MgKi8pXSwgMTAgLyogQ0xBU1MsIFBST1BTICovLCBfaG9pc3RlZF80KSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0sIDQyIC8qIENMQVNTLCBQUk9QUywgSFlEUkFURV9FVkVOVFMgKi8sIF9ob2lzdGVkXzMpKV0pOwogIH0pLCAyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqLykpLCBjcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC50YWdzU2VhcmNoV3JhcHBlciksCiAgICByZWY6ICJ0YWdzIgogIH0sIFtjcmVhdGVDb21tZW50Vk5vZGUoIiBVc2VkIGZvciBtZWFzdXJpbmcgc2VhcmNoIHdpZHRoICIpLCBjcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoX2N0eC5jbGFzc0xpc3QudGFnc1NlYXJjaENvcHkpCiAgfSwgdG9EaXNwbGF5U3RyaW5nKF9jdHguc2VhcmNoKSwgMyAvKiBURVhULCBDTEFTUyAqLyksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIEFjdHVhbCBzZWFyY2ggaW5wdXQgIiksICRwcm9wcy5zZWFyY2hhYmxlICYmICEkcHJvcHMuZGlzYWJsZWQgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygiaW5wdXQiLCBtZXJnZVByb3BzKHsKICAgIGtleTogMCwKICAgIHR5cGU6ICRwcm9wcy5pbnB1dFR5cGUsCiAgICBtb2RlbFZhbHVlOiBfY3R4LnNlYXJjaCwKICAgIHZhbHVlOiBfY3R4LnNlYXJjaCwKICAgIGNsYXNzOiBfY3R4LmNsYXNzTGlzdC50YWdzU2VhcmNoLAogICAgaWQ6ICRwcm9wcy5zZWFyY2hhYmxlID8gJHByb3BzLmlkIDogdW5kZWZpbmVkLAogICAgYXV0b2NvbXBsZXRlOiAkcHJvcHMuYXV0b2NvbXBsZXRlLAogICAgb25JbnB1dDogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSAoLi4uYXJncykgPT4gX2N0eC5oYW5kbGVTZWFyY2hJbnB1dCAmJiBfY3R4LmhhbmRsZVNlYXJjaElucHV0KC4uLmFyZ3MpKSwKICAgIG9uS2V5cHJlc3M6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gKC4uLmFyZ3MpID0+IF9jdHguaGFuZGxlS2V5cHJlc3MgJiYgX2N0eC5oYW5kbGVLZXlwcmVzcyguLi5hcmdzKSksCiAgICBvblBhc3RlOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9IHdpdGhNb2RpZmllcnMoKC4uLmFyZ3MpID0+IF9jdHguaGFuZGxlUGFzdGUgJiYgX2N0eC5oYW5kbGVQYXN0ZSguLi5hcmdzKSwgWyJzdG9wIl0pKSwKICAgIHJlZjogImlucHV0IiwKICAgICJhcmlhLW93bnMiOiBfY3R4LmFyaWFPd25zLAogICAgImFyaWEtcGxhY2Vob2xkZXIiOiBfY3R4LmFyaWFQbGFjZWhvbGRlciwKICAgICJhcmlhLWV4cGFuZGVkIjogX2N0eC5pc09wZW4sCiAgICAiYXJpYS1hY3RpdmVkZXNjZW5kYW50IjogX2N0eC5hcmlhQWN0aXZlRGVzY2VuZGFudCwKICAgICJhcmlhLW11bHRpc2VsZWN0YWJsZSI6IF9jdHguYXJpYU11bHRpc2VsZWN0YWJsZSwKICAgIHJvbGU6ICJsaXN0Ym94IgogIH0sIHsKICAgIC4uLiRwcm9wcy5hdHRycywKICAgIC4uLiRwcm9wcy5hcmlhCiAgfSksIG51bGwsIDE2IC8qIEZVTExfUFJPUFMgKi8sIF9ob2lzdGVkXzUpKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSwgMiAvKiBDTEFTUyAqLyldLCAyIC8qIENMQVNTICovKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgY3JlYXRlQ29tbWVudFZOb2RlKCIgU2luZ2xlIGxhYmVsICIpLCAkcHJvcHMubW9kZSA9PSAnc2luZ2xlJyAmJiBfY3R4Lmhhc1NlbGVjdGVkICYmICFfY3R4LnNlYXJjaCAmJiBfY3R4Lml2ID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgInNpbmdsZWxhYmVsIiwgewogICAga2V5OiAyLAogICAgdmFsdWU6IF9jdHguaXYKICB9LCAoKSA9PiBbY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoX2N0eC5jbGFzc0xpc3Quc2luZ2xlTGFiZWwpLAogICAgImFyaWEtaGlkZGVuIjogInRydWUiCiAgfSwgW2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5zaW5nbGVMYWJlbFRleHQpLAogICAgaW5uZXJIVE1MOiBfY3R4Lml2WyRwcm9wcy5sYWJlbF0KICB9LCBudWxsLCAxMCAvKiBDTEFTUywgUFJPUFMgKi8sIF9ob2lzdGVkXzYpXSwgMiAvKiBDTEFTUyAqLyldKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBjcmVhdGVDb21tZW50Vk5vZGUoIiBNdWx0aXBsZSBsYWJlbCAiKSwgJHByb3BzLm1vZGUgPT0gJ211bHRpcGxlJyAmJiBfY3R4Lmhhc1NlbGVjdGVkICYmICFfY3R4LnNlYXJjaCA/IHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJtdWx0aXBsZWxhYmVsIiwgewogICAga2V5OiAzLAogICAgdmFsdWVzOiBfY3R4Lml2CiAgfSwgKCkgPT4gW2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0Lm11bHRpcGxlTGFiZWwpLAogICAgaW5uZXJIVE1MOiBfY3R4Lm11bHRpcGxlTGFiZWxUZXh0LAogICAgImFyaWEtaGlkZGVuIjogInRydWUiCiAgfSwgbnVsbCwgMTAgLyogQ0xBU1MsIFBST1BTICovLCBfaG9pc3RlZF83KV0pIDogY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIFBsYWNlaG9sZGVyICIpLCAkcHJvcHMucGxhY2Vob2xkZXIgJiYgIV9jdHguaGFzU2VsZWN0ZWQgJiYgIV9jdHguc2VhcmNoID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgInBsYWNlaG9sZGVyIiwgewogICAga2V5OiA0CiAgfSwgKCkgPT4gW2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0LnBsYWNlaG9sZGVyKSwKICAgICJhcmlhLWhpZGRlbiI6ICJ0cnVlIgogIH0sIHRvRGlzcGxheVN0cmluZygkcHJvcHMucGxhY2Vob2xkZXIpLCAzIC8qIFRFWFQsIENMQVNTICovKV0pIDogY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIFNwaW5uZXIgIiksICRwcm9wcy5sb2FkaW5nIHx8IF9jdHgucmVzb2x2aW5nID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgInNwaW5uZXIiLCB7CiAgICBrZXk6IDUKICB9LCAoKSA9PiBbY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0LnNwaW5uZXIpLAogICAgImFyaWEtaGlkZGVuIjogInRydWUiCiAgfSwgbnVsbCwgMiAvKiBDTEFTUyAqLyldKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBjcmVhdGVDb21tZW50Vk5vZGUoIiBDbGVhciAiKSwgX2N0eC5oYXNTZWxlY3RlZCAmJiAhJHByb3BzLmRpc2FibGVkICYmICRwcm9wcy5jYW5DbGVhciAmJiAhX2N0eC5idXN5ID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgImNsZWFyIiwgewogICAga2V5OiA2LAogICAgY2xlYXI6IF9jdHguY2xlYXIKICB9LCAoKSA9PiBbY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgdGFiaW5kZXg6ICIwIiwKICAgIHJvbGU6ICJidXR0b24iLAogICAgImFyaWEtbGFiZWwiOiAi4p2OIiwKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5jbGVhciksCiAgICBvbkNsaWNrOiBfY2FjaGVbNl0gfHwgKF9jYWNoZVs2XSA9ICguLi5hcmdzKSA9PiBfY3R4LmNsZWFyICYmIF9jdHguY2xlYXIoLi4uYXJncykpLAogICAgb25LZXl1cDogX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSB3aXRoS2V5cygoLi4uYXJncykgPT4gX2N0eC5jbGVhciAmJiBfY3R4LmNsZWFyKC4uLmFyZ3MpLCBbImVudGVyIl0pKQogIH0sIFtjcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoX2N0eC5jbGFzc0xpc3QuY2xlYXJJY29uKQogIH0sIG51bGwsIDIgLyogQ0xBU1MgKi8pXSwgMzQgLyogQ0xBU1MsIEhZRFJBVEVfRVZFTlRTICovKV0pIDogY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIENhcmV0ICIpLCAkcHJvcHMuY2FyZXQgJiYgJHByb3BzLnNob3dPcHRpb25zID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgImNhcmV0IiwgewogICAga2V5OiA3CiAgfSwgKCkgPT4gW2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5jYXJldCksCiAgICBvbkNsaWNrOiBfY2FjaGVbOF0gfHwgKF9jYWNoZVs4XSA9ICguLi5hcmdzKSA9PiBfY3R4LmhhbmRsZUNhcmV0Q2xpY2sgJiYgX2N0eC5oYW5kbGVDYXJldENsaWNrKC4uLmFyZ3MpKSwKICAgICJhcmlhLWhpZGRlbiI6ICJ0cnVlIgogIH0sIG51bGwsIDIgLyogQ0xBU1MgKi8pXSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgY3JlYXRlQ29tbWVudFZOb2RlKCIgT3B0aW9ucyAiKSwgY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoX2N0eC5jbGFzc0xpc3QuZHJvcGRvd24pLAogICAgdGFiaW5kZXg6ICItMSIKICB9LCBbcmVuZGVyU2xvdChfY3R4LiRzbG90cywgImJlZm9yZWxpc3QiLCB7CiAgICBvcHRpb25zOiBfY3R4LmZvCiAgfSksIGNyZWF0ZUVsZW1lbnRWTm9kZSgidWwiLCB7CiAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoX2N0eC5jbGFzc0xpc3Qub3B0aW9ucyksCiAgICBpZDogX2N0eC5hcmlhT3ducwogIH0sIFskcHJvcHMuZ3JvdXBzID8gKG9wZW5CbG9jayh0cnVlKSwgY3JlYXRlRWxlbWVudEJsb2NrKEZyYWdtZW50LCB7CiAgICBrZXk6IDAKICB9LCByZW5kZXJMaXN0KF9jdHguZmcsIChncm91cCwgaSwga2V5KSA9PiB7CiAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygibGkiLCB7CiAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5ncm91cCksCiAgICAgIGtleToga2V5LAogICAgICBpZDogX2N0eC5hcmlhR3JvdXBJZChncm91cCksCiAgICAgICJhcmlhLWxhYmVsIjogX2N0eC5hcmlhR3JvdXBMYWJlbChncm91cCksCiAgICAgICJhcmlhLXNlbGVjdGVkIjogX2N0eC5pc1NlbGVjdGVkKGdyb3VwKSwKICAgICAgcm9sZTogIm9wdGlvbiIKICAgIH0sIFtjcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0Lmdyb3VwTGFiZWwoZ3JvdXApKSwKICAgICAgImRhdGEtcG9pbnRlZCI6IF9jdHguaXNQb2ludGVkKGdyb3VwKSwKICAgICAgb25Nb3VzZWVudGVyOiAkZXZlbnQgPT4gX2N0eC5zZXRQb2ludGVyKGdyb3VwLCBpKSwKICAgICAgb25DbGljazogJGV2ZW50ID0+IF9jdHguaGFuZGxlR3JvdXBDbGljayhncm91cCkKICAgIH0sIFtyZW5kZXJTbG90KF9jdHguJHNsb3RzLCAiZ3JvdXBsYWJlbCIsIHsKICAgICAgZ3JvdXA6IGdyb3VwLAogICAgICBpc1NlbGVjdGVkOiBfY3R4LmlzU2VsZWN0ZWQsCiAgICAgIGlzUG9pbnRlZDogX2N0eC5pc1BvaW50ZWQKICAgIH0sICgpID0+IFtjcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgIGlubmVySFRNTDogZ3JvdXBbJHByb3BzLmdyb3VwTGFiZWxdCiAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF8xMSldKV0sIDQyIC8qIENMQVNTLCBQUk9QUywgSFlEUkFURV9FVkVOVFMgKi8sIF9ob2lzdGVkXzEwKSwgY3JlYXRlRWxlbWVudFZOb2RlKCJ1bCIsIHsKICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0Lmdyb3VwT3B0aW9ucyksCiAgICAgICJhcmlhLWxhYmVsIjogX2N0eC5hcmlhR3JvdXBMYWJlbChncm91cCksCiAgICAgIHJvbGU6ICJncm91cCIKICAgIH0sIFsob3BlbkJsb2NrKHRydWUpLCBjcmVhdGVFbGVtZW50QmxvY2soRnJhZ21lbnQsIG51bGwsIHJlbmRlckxpc3QoZ3JvdXAuX19WSVNJQkxFX18sIChvcHRpb24sIGksIGtleSkgPT4gewogICAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygibGkiLCB7CiAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0Lm9wdGlvbihvcHRpb24sIGdyb3VwKSksCiAgICAgICAgImRhdGEtcG9pbnRlZCI6IF9jdHguaXNQb2ludGVkKG9wdGlvbiksCiAgICAgICAgImRhdGEtc2VsZWN0ZWQiOiBfY3R4LmlzU2VsZWN0ZWQob3B0aW9uKSB8fCB1bmRlZmluZWQsCiAgICAgICAga2V5OiBrZXksCiAgICAgICAgb25Nb3VzZWVudGVyOiAkZXZlbnQgPT4gX2N0eC5zZXRQb2ludGVyKG9wdGlvbiksCiAgICAgICAgb25DbGljazogJGV2ZW50ID0+IF9jdHguaGFuZGxlT3B0aW9uQ2xpY2sob3B0aW9uKSwKICAgICAgICBpZDogX2N0eC5hcmlhT3B0aW9uSWQob3B0aW9uKSwKICAgICAgICAiYXJpYS1zZWxlY3RlZCI6IF9jdHguaXNTZWxlY3RlZChvcHRpb24pLAogICAgICAgICJhcmlhLWxhYmVsIjogX2N0eC5hcmlhT3B0aW9uTGFiZWwob3B0aW9uKSwKICAgICAgICByb2xlOiAib3B0aW9uIgogICAgICB9LCBbcmVuZGVyU2xvdChfY3R4LiRzbG90cywgIm9wdGlvbiIsIHsKICAgICAgICBvcHRpb246IG9wdGlvbiwKICAgICAgICBpc1NlbGVjdGVkOiBfY3R4LmlzU2VsZWN0ZWQsCiAgICAgICAgaXNQb2ludGVkOiBfY3R4LmlzUG9pbnRlZCwKICAgICAgICBzZWFyY2g6IF9jdHguc2VhcmNoCiAgICAgIH0sICgpID0+IFtjcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgaW5uZXJIVE1MOiBvcHRpb25bJHByb3BzLmxhYmVsXQogICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF8xNCldKV0sIDQyIC8qIENMQVNTLCBQUk9QUywgSFlEUkFURV9FVkVOVFMgKi8sIF9ob2lzdGVkXzEzKTsKICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0sIDEwIC8qIENMQVNTLCBQUk9QUyAqLywgX2hvaXN0ZWRfMTIpXSwgMTAgLyogQ0xBU1MsIFBST1BTICovLCBfaG9pc3RlZF85KTsKICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSkgOiAob3BlbkJsb2NrKHRydWUpLCBjcmVhdGVFbGVtZW50QmxvY2soRnJhZ21lbnQsIHsKICAgIGtleTogMQogIH0sIHJlbmRlckxpc3QoX2N0eC5mbywgKG9wdGlvbiwgaSwga2V5KSA9PiB7CiAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygibGkiLCB7CiAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5vcHRpb24ob3B0aW9uKSksCiAgICAgICJkYXRhLXBvaW50ZWQiOiBfY3R4LmlzUG9pbnRlZChvcHRpb24pLAogICAgICAiZGF0YS1zZWxlY3RlZCI6IF9jdHguaXNTZWxlY3RlZChvcHRpb24pIHx8IHVuZGVmaW5lZCwKICAgICAga2V5OiBrZXksCiAgICAgIG9uTW91c2VlbnRlcjogJGV2ZW50ID0+IF9jdHguc2V0UG9pbnRlcihvcHRpb24pLAogICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gX2N0eC5oYW5kbGVPcHRpb25DbGljayhvcHRpb24pLAogICAgICBpZDogX2N0eC5hcmlhT3B0aW9uSWQob3B0aW9uKSwKICAgICAgImFyaWEtc2VsZWN0ZWQiOiBfY3R4LmlzU2VsZWN0ZWQob3B0aW9uKSwKICAgICAgImFyaWEtbGFiZWwiOiBfY3R4LmFyaWFPcHRpb25MYWJlbChvcHRpb24pLAogICAgICByb2xlOiAib3B0aW9uIgogICAgfSwgW3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJvcHRpb24iLCB7CiAgICAgIG9wdGlvbjogb3B0aW9uLAogICAgICBpc1NlbGVjdGVkOiBfY3R4LmlzU2VsZWN0ZWQsCiAgICAgIGlzUG9pbnRlZDogX2N0eC5pc1BvaW50ZWQsCiAgICAgIHNlYXJjaDogX2N0eC5zZWFyY2gKICAgIH0sICgpID0+IFtjcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgIGlubmVySFRNTDogb3B0aW9uWyRwcm9wcy5sYWJlbF0KICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzE2KV0pXSwgNDIgLyogQ0xBU1MsIFBST1BTLCBIWURSQVRFX0VWRU5UUyAqLywgX2hvaXN0ZWRfMTUpOwogIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0sIDEwIC8qIENMQVNTLCBQUk9QUyAqLywgX2hvaXN0ZWRfOCksIF9jdHgubm9PcHRpb25zID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgIm5vb3B0aW9ucyIsIHsKICAgIGtleTogMAogIH0sICgpID0+IFtjcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5ub09wdGlvbnMpLAogICAgaW5uZXJIVE1MOiAkcHJvcHMubm9PcHRpb25zVGV4dAogIH0sIG51bGwsIDEwIC8qIENMQVNTLCBQUk9QUyAqLywgX2hvaXN0ZWRfMTcpXSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2N0eC5ub1Jlc3VsdHMgPyByZW5kZXJTbG90KF9jdHguJHNsb3RzLCAibm9yZXN1bHRzIiwgewogICAga2V5OiAxCiAgfSwgKCkgPT4gW2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0Lm5vUmVzdWx0cyksCiAgICBpbm5lckhUTUw6ICRwcm9wcy5ub1Jlc3VsdHNUZXh0CiAgfSwgbnVsbCwgMTAgLyogQ0xBU1MsIFBST1BTICovLCBfaG9pc3RlZF8xOCldKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkcHJvcHMuaW5maW5pdGUgJiYgX2N0eC5oYXNNb3JlID8gKG9wZW5CbG9jaygpLCBjcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgIGtleTogMiwKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5pbmlmaW5pdGUpLAogICAgcmVmOiAiaW5maW5pdGVMb2FkZXIiCiAgfSwgW3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJpbmZpbml0ZSIsIHt9LCAoKSA9PiBbY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKF9jdHguY2xhc3NMaXN0LmluaWZpbml0ZVNwaW5uZXIpCiAgfSwgbnVsbCwgMiAvKiBDTEFTUyAqLyldKV0sIDIgLyogQ0xBU1MgKi8pKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCByZW5kZXJTbG90KF9jdHguJHNsb3RzLCAiYWZ0ZXJsaXN0IiwgewogICAgb3B0aW9uczogX2N0eC5mbwogIH0pXSwgMiAvKiBDTEFTUyAqLyksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIEhhY2t5IGlucHV0IGVsZW1lbnQgdG8gc2hvdyBIVE1MNSByZXF1aXJlZCB3YXJuaW5nICIpLCAkcHJvcHMucmVxdWlyZWQgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygiaW5wdXQiLCB7CiAgICBrZXk6IDgsCiAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoX2N0eC5jbGFzc0xpc3QuZmFrZUlucHV0KSwKICAgIHRhYmluZGV4OiAiLTEiLAogICAgdmFsdWU6IF9jdHgudGV4dFZhbHVlLAogICAgcmVxdWlyZWQ6ICIiCiAgfSwgbnVsbCwgMTAgLyogQ0xBU1MsIFBST1BTICovLCBfaG9pc3RlZF8xOSkpIDogY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIE5hdGl2ZSBpbnB1dCBzdXBwb3J0ICIpLCAkcHJvcHMubmF0aXZlU3VwcG9ydCA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKEZyYWdtZW50LCB7CiAgICBrZXk6IDkKICB9LCBbJHByb3BzLm1vZGUgPT0gJ3NpbmdsZScgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygiaW5wdXQiLCB7CiAgICBrZXk6IDAsCiAgICB0eXBlOiAiaGlkZGVuIiwKICAgIG5hbWU6ICRwcm9wcy5uYW1lLAogICAgdmFsdWU6IF9jdHgucGxhaW5WYWx1ZSAhPT0gdW5kZWZpbmVkID8gX2N0eC5wbGFpblZhbHVlIDogJycKICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF8yMCkpIDogKG9wZW5CbG9jayh0cnVlKSwgY3JlYXRlRWxlbWVudEJsb2NrKEZyYWdtZW50LCB7CiAgICBrZXk6IDEKICB9LCByZW5kZXJMaXN0KF9jdHgucGxhaW5WYWx1ZSwgKHYsIGkpID0+IHsKICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKCJpbnB1dCIsIHsKICAgICAgdHlwZTogImhpZGRlbiIsCiAgICAgIG5hbWU6IGAkeyRwcm9wcy5uYW1lfVtdYCwKICAgICAgdmFsdWU6IHYsCiAgICAgIGtleTogaQogICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgX2hvaXN0ZWRfMjEpOwogIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0sIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpIDogY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIGNyZWF0ZUNvbW1lbnRWTm9kZSgiIENyZWF0ZSBoZWlnaHQgZm9yIGVtcHR5IGlucHV0ICIpLCBjcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhfY3R4LmNsYXNzTGlzdC5zcGFjZXIpCiAgfSwgbnVsbCwgMiAvKiBDTEFTUyAqLyldLCAxNiAvKiBGVUxMX1BST1BTICovLCBfaG9pc3RlZF8xKTsKfQpzY3JpcHQucmVuZGVyID0gcmVuZGVyOwpzY3JpcHQuX19maWxlID0gInNyYy9NdWx0aXNlbGVjdC52dWUiOwpleHBvcnQgeyBzY3JpcHQgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["toRefs","getCurrentInstance","ref","computed","watch","nextTick","onMounted","openBlock","createElementBlock","mergeProps","createCommentVNode","withModifiers","normalizeClass","Fragment","renderList","renderSlot","withKeys","createTextVNode","toDisplayString","createElementVNode","isNullish","val","undefined","indexOf","useData","props","context","dep","object","valueProp","mode","$this","proxy","iv","update","value","makeInternal","externalVal","makeExternal","emit","Array","isArray","map","v","useValue","modelValue","ev","plainValue","textValue","join","internalValue","externalValue","useSearch","regex","isOpen","open","search","input","clearSearch","handleSearchInput","e","target","handleKeypress","regexp","RegExp","key","match","preventDefault","handlePaste","clipboardData","window","pastedData","getData","split","every","c","usePointer$1","groupSelect","groups","disabledProp","pointer","setPointer","option","group","clearPointer","normalize","str","strict","String","toLowerCase","trim","replace","isObject","variable","Object","prototype","toString","call","arraysEqual","array1","array2","array2Sorted","slice","sort","length","index","useOptions","options","trackBy","trackBy_","limit","hideSelected","createTag","createOption","createOption_","label","appendNewTag","appendNewOption","appendNewOption_","multipleLabel","loading","delay","resolveOnLoad","minChars","filterResults","clearOnSearch","clearOnSelect","canDeselect","max","closeOnSelect","groupped","reverse","infinite","groupOptions","groupHideEmpty","onCreate","searchStart","focus","deactivate","close","ap","ro","resolving","searchWatcher","offset","eo","forEach","optionsToArray","push","assign","concat","fg","filterGroups","arrayOptions","filterOptions","o","__VISIBLE__","pfo","createdOption","fo","hasSelected","multipleLabelText","noOptions","noResults","getOptionByTrackBy","__CREATE__","nullValue","busy","select","getOption","finalValue","deselect","clear","filter","remove","handleTagRemove","button","isSelected","areAllSelected","isDisabled","isMax","handleOptionClick","Promise","then","result","handleOptionSelect","handleOptionAppend","handleGroupClick","areAllEnabledSelected","k","appendOption","selectAll","find","norm","parseInt","shouldHideOption","g","excludeHideSelected","startsWith","uo","keys","initInternalValue","resolveOptions","callback","resolve","reject","response","catch","console","error","finally","refreshLabels","newLabel","i","refreshOptions","initSearchWatcher","query","setTimeout","flush","Error","old","newValue","deep","n","filteredOptions","extendedOptions","filteredGroups","usePointer","showOptions","searchable","groupLabel","multiselect","canPointGroups","isPointerGroup","currentGroup","getParentGroup","prevGroup","groupIndex","lastGroup","nextGroup","nextIndex","currentGroupFirstEnabledOption","currentGroupPrevEnabledOption","currentGroupNextEnabledOption","prevGroupLastEnabledOption","lastGroupLastEnabledOption","isPointed","setPointerFirst","selectPointer","forwardPointer","nextPointer","next","adjustWrapperScrollToPointer","backwardPointer","prevPointer","prevIndex","pointedOption","querySelector","wrapper","parentElement","offsetTop","offsetHeight","clientHeight","scrollTop","firstSelected","querySelectorAll","useDropdown","disabled","useMultiselect","tags","isActive","mouseClicked","tabindex","blur","activate","shouldOpen","handleFocusIn","handleFocusOut","handleCaretClick","handleMousedown","isEqualNode","document","activeElement","useKeyboard","addTagOn","openDirection","addOptionOn","addOptionOn_","preparePointer","handleKeydown","tagList","activeIndex","findIndex","selectionStart","shiftKey","handleKeyup","useClasses","dependencies","classes","classes_","container","containerDisabled","containerOpen","containerOpenTop","containerActive","singleLabel","singleLabelText","tag","tagDisabled","tagRemove","tagRemoveIcon","tagsSearchWrapper","tagsSearch","tagsSearchCopy","placeholder","caret","caretOpen","clearIcon","spinner","inifinite","inifiniteSpinner","dropdown","dropdownTop","dropdownHidden","optionsTop","groupLabelPointable","groupLabelPointed","groupLabelSelected","groupLabelDisabled","groupLabelSelectedPointed","groupLabelSelectedDisabled","optionPointed","optionSelected","optionDisabled","optionSelectedPointed","optionSelectedDisabled","fakeInput","spacer","showDropdown","classList","useScroll$1","observer","infiniteLoader","hasMore","handleIntersectionObserver","entries","isIntersecting","parent","offsetParent","observe","disconnect","immediate","IntersectionObserver","useScroll","id","labelProp","ariaOwns","texts","ariaActiveDescendant","ariaPlaceholder","ariaMultiselectable","ariaOptionId","ariaGroupId","ariaOptionLabel","ariaGroupLabel","ariaTagLabel","forTag","innerText","resolveDeps","features","deps","composable","script","name","emits","required","type","Function","default","Number","Boolean","noOptionsText","noResultsText","canClear","nativeSupport","autocomplete","inputType","attrs","rtl","aria","setup","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","render","_ctx","_cache","$props","$setup","$data","$options","class","dir","onFocusin","args","onFocusout","onKeydown","onKeyup","onMousedown","role","onInput","onKeypress","onPaste","$slots","$event","onClick","innerHTML","values","onMouseenter","__file"],"sources":["C:/Apps/Velson/conixi/node_modules/@vueform/multiselect/dist/multiselect.js"],"sourcesContent":["import { toRefs, getCurrentInstance, ref, computed, watch, nextTick, onMounted, openBlock, createElementBlock, mergeProps, createCommentVNode, withModifiers, normalizeClass, Fragment, renderList, renderSlot, withKeys, createTextVNode, toDisplayString, createElementVNode } from 'vue';\n\nfunction isNullish (val) {\n  return [null, undefined].indexOf(val) !== -1\n}\n\nfunction useData (props, context, dep)\n{\n  const { object, valueProp, mode } = toRefs(props);\n\n  const $this = getCurrentInstance().proxy;\n\n  // ============ DEPENDENCIES ============\n\n  const iv = dep.iv;\n\n  // =============== METHODS ==============\n\n  const update = (val) => {\n    // Setting object(s) as internal value\n    iv.value = makeInternal(val);\n\n    // Setting object(s) or plain value as external \n    // value based on `option` setting\n    const externalVal = makeExternal(val);\n\n    context.emit('change', externalVal, $this);\n    context.emit('input', externalVal);\n    context.emit('update:modelValue', externalVal);\n  }; \n\n  // no export\n  const makeExternal = (val) => {\n    // If external value should be object\n    // no transformation is required\n    if (object.value) {\n      return val\n    }\n\n    // No need to transform if empty value\n    if (isNullish(val)) {\n      return val\n    }\n\n    // If external should be plain transform\n    // value object to plain values\n    return !Array.isArray(val) ? val[valueProp.value] : val.map(v => v[valueProp.value])\n  };\n\n  // no export\n  const makeInternal = (val) => {\n    if (isNullish(val)) {\n      return mode.value === 'single' ? {} : []\n    }\n\n    return val\n  };\n\n  return {\n    update,\n  }\n}\n\nfunction useValue (props, context)\n{\n  const { value, modelValue, mode, valueProp } = toRefs(props);\n\n  // ================ DATA ================\n\n  // internalValue\n  const iv = ref(mode.value !== 'single' ? [] : {});\n\n  // ============== COMPUTED ==============\n\n  /* istanbul ignore next */\n  // externalValue\n  const ev = modelValue && modelValue.value !== undefined ? modelValue : value;\n\n  const plainValue = computed(() => {\n    return mode.value === 'single' ? iv.value[valueProp.value] : iv.value.map(v=>v[valueProp.value])\n  });\n\n  const textValue = computed(() => {\n    return mode.value !== 'single' ? iv.value.map(v=>v[valueProp.value]).join(',') : iv.value[valueProp.value]\n  });\n\n  return {\n    iv,\n    internalValue: iv,\n    ev,\n    externalValue: ev,\n    textValue,\n    plainValue,\n  }\n}\n\nfunction useSearch (props, context, dep)\n{  const { regex } = toRefs(props);\n\n  const $this = getCurrentInstance().proxy;\n\n  // ============ DEPENDENCIES ============\n\n  const isOpen = dep.isOpen;\n  const open = dep.open;\n\n  // ================ DATA ================\n\n  const search = ref(null);\n\n  const input = ref(null);\n\n  // =============== METHODS ==============\n\n  const clearSearch = () => {\n    search.value = '';\n  };\n\n  const handleSearchInput = (e) => {\n    search.value = e.target.value;\n  };\n\n  const handleKeypress = (e) => {\n    if (regex && regex.value) {\n      let regexp = regex.value;\n\n      if (typeof regexp === 'string') {\n        regexp = new RegExp(regexp);\n      }\n\n      if (!e.key.match(regexp)) {\n        e.preventDefault();\n      }\n    }\n  };\n\n  const handlePaste = (e) => {\n    if (regex && regex.value) {\n      let clipboardData = e.clipboardData || /* istanbul ignore next */ window.clipboardData;\n      let pastedData = clipboardData.getData('Text');\n\n      let regexp = regex.value;\n\n      if (typeof regexp === 'string') {\n        regexp = new RegExp(regexp);\n      }\n      \n      if (!pastedData.split('').every(c => !!c.match(regexp))) {\n        e.preventDefault();\n      }\n    }\n\n    context.emit('paste', e, $this);\n  };\n\n  // ============== WATCHERS ==============\n\n  watch(search, (val) => {\n    if (!isOpen.value && val) {\n      open();\n    }\n\n    context.emit('search-change', val, $this);\n  });\n\n  return {\n    search,\n    input,\n    clearSearch,\n    handleSearchInput,\n    handleKeypress,\n    handlePaste,\n  }\n}\n\nfunction usePointer$1 (props, context, dep)\n{\n  const { groupSelect, mode, groups, disabledProp } = toRefs(props);\n\n  // ================ DATA ================\n\n  const pointer = ref(null);\n\n  // =============== METHODS ==============\n\n  const setPointer = (option) => {\n    if (option === undefined || (option !== null && option[disabledProp.value])) {\n      return\n    }\n\n    if (groups.value && option && option.group && (mode.value === 'single' || !groupSelect.value)) {\n      return\n    }\n\n    pointer.value = option;\n  };\n\n  const clearPointer = () => {\n    setPointer(null);\n  };\n\n  return {\n    pointer,\n    setPointer,\n    clearPointer,\n  }\n}\n\nfunction normalize (str, strict = true) {\n  return strict\n    ? String(str).toLowerCase().trim()\n    : String(str).normalize('NFD').replace(/\\p{Diacritic}/gu, '').toLowerCase().trim()\n}\n\nfunction isObject (variable) {\n  return Object.prototype.toString.call(variable) === '[object Object]'\n}\n\nfunction arraysEqual (array1, array2) {\n  const array2Sorted = array2.slice().sort();\n\n  return array1.length === array2.length && array1.slice().sort().every(function(value, index) {\n      return value === array2Sorted[index];\n  })\n}\n\nfunction useOptions (props, context, dep)\n{\n  const { \n    options, mode, trackBy: trackBy_, limit, hideSelected, createTag, createOption: createOption_, label,\n    appendNewTag, appendNewOption: appendNewOption_, multipleLabel, object, loading, delay, resolveOnLoad,\n    minChars, filterResults, clearOnSearch, clearOnSelect, valueProp,\n    canDeselect, max, strict, closeOnSelect, groups: groupped, reverse, infinite,\n    groupOptions, groupHideEmpty, groupSelect, onCreate, disabledProp, searchStart,\n  } = toRefs(props);\n\n  const $this = getCurrentInstance().proxy;\n\n  // ============ DEPENDENCIES ============\n\n  const iv = dep.iv;\n  const ev = dep.ev;\n  const search = dep.search;\n  const clearSearch = dep.clearSearch;\n  const update = dep.update;\n  const pointer = dep.pointer;\n  const clearPointer = dep.clearPointer;\n  const focus = dep.focus;\n  const deactivate = dep.deactivate;\n  const close = dep.close;\n\n  // ================ DATA ================\n\n  // no export\n  // appendedOptions\n  const ap = ref([]);\n\n  // no export\n  // resolvedOptions\n  const ro = ref([]);\n\n  const resolving = ref(false);\n\n  // no export\n  const searchWatcher = ref(null);\n\n  const offset = ref(infinite.value && limit.value === -1 ? 10 : limit.value);\n\n  // ============== COMPUTED ==============\n\n  // no export\n  const createOption = computed(() => {\n    return createTag.value || createOption_.value || false\n  });\n\n  // no export\n  const appendNewOption = computed(() => {\n    if (appendNewTag.value !== undefined) {\n      return appendNewTag.value\n    } else if (appendNewOption_.value !== undefined) {\n      return appendNewOption_.value\n    }\n\n    return true\n  });\n\n  // no export\n  // extendedOptions\n  const eo = computed(() => {\n    if (groupped.value) {\n      let groups = ro.value || /* istanbul ignore next */ [];\n\n      let eo = [];\n\n      groups.forEach((group) => {\n        optionsToArray(group[groupOptions.value]).forEach((option) => {\n          eo.push(Object.assign({}, option, group[disabledProp.value] ? { [disabledProp.value]: true } : {}));\n        });\n      });\n\n      return eo\n    } else {\n      let eo = optionsToArray(ro.value || /* istanbul ignore next */ []);\n\n      if (ap.value.length) {\n        eo = eo.concat(ap.value);\n      }\n\n      return eo\n    }\n  });\n\n  const fg = computed(() => {\n    if (!groupped.value) {\n      return []\n    }\n\n    return filterGroups((ro.value || /* istanbul ignore next */ []).map((group, index) => {\n      const arrayOptions = optionsToArray(group[groupOptions.value]);\n\n      return {\n        ...group,\n        index,\n        group: true,\n        [groupOptions.value]: filterOptions(arrayOptions, false).map(o => Object.assign({}, o, group[disabledProp.value] ? { [disabledProp.value]: true } : {})),\n        __VISIBLE__: filterOptions(arrayOptions).map(o => Object.assign({}, o, group[disabledProp.value] ? { [disabledProp.value]: true } : {})),\n      }\n      // Difference between __VISIBLE__ and {groupOptions}: visible does not contain selected options when hideSelected=true\n    }))\n  });\n\n  // preFilteredOptions\n  const pfo = computed(() => {\n    let options = eo.value;\n\n    if (reverse.value) {\n      options = options.reverse();\n    }\n\n    if (createdOption.value.length) {\n      options = createdOption.value.concat(options);\n    }\n\n    return filterOptions(options)\n  });\n\n  // filteredOptions\n  const fo = computed(() => {\n    let options = pfo.value;\n\n    if (offset.value > 0) {\n      options = options.slice(0, offset.value);\n    }\n\n    return options\n  });\n\n  const hasSelected = computed(() => {\n    switch (mode.value) {\n      case 'single':\n        return !isNullish(iv.value[valueProp.value])\n\n      case 'multiple':\n      case 'tags':\n        return !isNullish(iv.value) && iv.value.length > 0\n    }\n  });\n\n  const multipleLabelText = computed(() => {\n    return multipleLabel !== undefined && multipleLabel.value !== undefined\n      ? multipleLabel.value(iv.value, $this)\n      : (iv.value && iv.value.length > 1 ? `${iv.value.length} options selected` : `1 option selected`)\n  });\n\n  const noOptions = computed(() => {\n    return !eo.value.length && !resolving.value && !createdOption.value.length\n  });\n\n\n  const noResults = computed(() => {\n    return eo.value.length > 0 && fo.value.length == 0 && ((search.value && groupped.value) || !groupped.value)\n  });\n\n  // no export\n  const createdOption = computed(() => {\n    if (createOption.value === false || !search.value) {\n      return []\n    }\n\n    return getOptionByTrackBy(search.value) !== -1 ? [] : [{\n      [valueProp.value]: search.value,\n      [label.value]: search.value,\n      [trackBy.value]: search.value,\n      __CREATE__: true,\n    }]\n  });\n\n  const trackBy = computed(() => {\n    return trackBy_.value || label.value\n  });\n\n  // no export\n  const nullValue = computed(() => {\n    switch (mode.value) {\n      case 'single':\n        return null\n\n      case 'multiple':\n      case 'tags':\n        return []\n    }\n  });\n\n  const busy = computed(() => {\n    return loading.value || resolving.value\n  });\n\n  // =============== METHODS ==============\n\n  /**\n   * @param {array|object|string|number} option \n   */\n  const select = (option) => {\n    if (typeof option !== 'object') {\n      option = getOption(option);\n    }\n\n    switch (mode.value) {\n      case 'single':\n        update(option);\n        break\n\n      case 'multiple':\n      case 'tags':\n        update((iv.value).concat(option));\n        break\n    }\n\n    context.emit('select', finalValue(option), option, $this);\n  };\n\n  const deselect = (option) => {\n    if (typeof option !== 'object') {\n      option = getOption(option);\n    }\n\n    switch (mode.value) {\n      case 'single':\n        clear();\n        break\n\n      case 'tags':\n      case 'multiple':\n        update(Array.isArray(option)\n          ? iv.value.filter(v => option.map(o => o[valueProp.value]).indexOf(v[valueProp.value]) === -1)\n          : iv.value.filter(v => v[valueProp.value] != option[valueProp.value]));\n        break\n    }\n\n    context.emit('deselect', finalValue(option), option, $this);\n  };\n\n  // no export\n  const finalValue = (option) => {\n    return object.value ? option : option[valueProp.value]\n  };\n\n  const remove = (option) => {\n    deselect(option);\n  };\n\n  const handleTagRemove = (option, e) => {\n    if (e.button !== 0) {\n      e.preventDefault();\n      return\n    }\n\n    remove(option);\n  };\n\n  const clear = () => {\n    context.emit('clear', $this);\n    update(nullValue.value);\n  };\n\n  const isSelected = (option) => {\n    if (option.group !== undefined) {\n      return mode.value === 'single' ? false : areAllSelected(option[groupOptions.value]) && option[groupOptions.value].length\n    }\n\n    switch (mode.value) {\n      case 'single':\n        return !isNullish(iv.value) && iv.value[valueProp.value] == option[valueProp.value]\n\n      case 'tags':\n      case 'multiple':\n        return !isNullish(iv.value) && iv.value.map(o => o[valueProp.value]).indexOf(option[valueProp.value]) !== -1\n    }\n  };\n\n  const isDisabled = (option) => {\n    return option[disabledProp.value] === true\n  };\n\n  const isMax = () => {\n    if (max === undefined || max.value === -1 || (!hasSelected.value && max.value > 0)) {\n      return false\n    }\n    \n    return iv.value.length >= max.value\n  };\n\n  const handleOptionClick = (option) => {\n    if (isDisabled(option)) {\n      return\n    }\n\n    if (onCreate && onCreate.value && !isSelected(option) && option.__CREATE__) {\n      option = { ...option };\n      delete option.__CREATE__;\n\n      option = onCreate.value(option, $this);\n      \n      if (option instanceof Promise) {\n        resolving.value = true;\n        option.then((result) => {\n          resolving.value = false;\n          handleOptionSelect(result);\n        });\n\n        return\n      } \n    }\n\n    handleOptionSelect(option);\n  };\n\n  const handleOptionSelect = (option) => {\n    if (option.__CREATE__) {\n      option = { ...option };\n      delete option.__CREATE__;\n    }\n    \n    switch (mode.value) {\n      case 'single':\n        if (option && isSelected(option)) {\n          if (canDeselect.value) {\n            deselect(option);\n          }\n          return\n        }\n\n        if (option) {\n          handleOptionAppend(option);\n        }\n\n        /* istanbul ignore else */\n        if (clearOnSelect.value) {\n          clearSearch();\n        }\n\n        if (closeOnSelect.value) {\n          clearPointer();\n          close();\n        }\n\n        if (option) {\n          select(option);\n        }\n        break\n\n      case 'multiple':\n        if (option && isSelected(option)) {\n          deselect(option);\n          return\n        }\n\n        if (isMax()) {\n          return\n        }\n\n        if (option) {\n          handleOptionAppend(option);\n          select(option);\n        }\n\n        if (clearOnSelect.value) {\n          clearSearch();\n        }\n\n        if (hideSelected.value) {\n          clearPointer();\n        }\n\n        if (closeOnSelect.value) {\n          close();\n        }\n        break\n\n      case 'tags':\n        if (option && isSelected(option)) {\n          deselect(option);\n          return\n        }\n\n        if (isMax()) {\n          return\n        }\n\n        if (option) {\n          handleOptionAppend(option);\n        }\n\n        if (clearOnSelect.value) {\n          clearSearch();\n        }\n\n        if (option) {\n          select(option);\n        }\n\n        if (hideSelected.value) {\n          clearPointer();\n        }\n\n        if (closeOnSelect.value) {\n          close();\n        }\n        break\n    }\n\n    if (!closeOnSelect.value) {\n      focus();\n    }\n  };\n\n  const handleGroupClick = (group) => {\n    if (isDisabled(group) || mode.value === 'single' || !groupSelect.value) {\n      return\n    }\n\n    switch (mode.value) {\n      case 'multiple':\n      case 'tags':\n        if (areAllEnabledSelected(group[groupOptions.value])) {\n          deselect(group[groupOptions.value]);\n        } else {\n          select(group[groupOptions.value]\n            .filter(o => iv.value.map(v => v[valueProp.value]).indexOf(o[valueProp.value]) === -1)\n            .filter(o => !o[disabledProp.value])\n            .filter((o, k) => iv.value.length + 1 + k <= max.value || max.value === -1)\n          );\n        }\n        break\n    }\n\n    if (closeOnSelect.value) {\n      deactivate();\n    }\n  };\n\n  const handleOptionAppend = (option) => {\n    if (getOption(option[valueProp.value]) === undefined && createOption.value) {\n      context.emit('tag', option[valueProp.value], $this);\n      context.emit('option', option[valueProp.value], $this);\n\n      if (appendNewOption.value) {\n        appendOption(option);\n      }\n\n      clearSearch();\n    }\n  };\n\n  const selectAll = () => {\n    if (mode.value === 'single') {\n      return\n    }\n\n    select(fo.value);\n  };\n\n  // no export\n  const areAllEnabledSelected = (options) => {\n    return options.find(o => !isSelected(o) && !o[disabledProp.value]) === undefined\n  };\n\n  // no export\n  const areAllSelected = (options) => {\n    return options.find(o => !isSelected(o)) === undefined\n  };\n\n  const getOption = (val) => {\n    return eo.value[eo.value.map(o => String(o[valueProp.value])).indexOf(String(val))]\n  };\n\n  // no export\n  const getOptionByTrackBy = (val, norm = true) => {\n    return eo.value.map(o => parseInt(o[trackBy.value]) == o[trackBy.value] ? parseInt(o[trackBy.value]) : o[trackBy.value]).indexOf(\n      parseInt(val) == val ? parseInt(val) : val\n    )\n  };\n\n  // no export\n  const shouldHideOption = (option) => {\n    return ['tags', 'multiple'].indexOf(mode.value) !== -1 && hideSelected.value && isSelected(option)\n  };\n\n  // no export\n  const appendOption = (option) => {\n    ap.value.push(option);\n  };\n\n  // no export\n  const filterGroups = (groups) => {\n    // If the search has value we need to filter among \n    // he ones that are visible to the user to avoid\n    // displaying groups which technically have options\n    // based on search but that option is already selected.\n    return groupHideEmpty.value\n      ? groups.filter(g => search.value\n          ? g.__VISIBLE__.length\n          : g[groupOptions.value].length\n        )\n      : groups.filter(g => search.value ? g.__VISIBLE__.length : true)\n  };\n\n  // no export\n  const filterOptions = (options, excludeHideSelected = true) => {\n    let fo = options;\n    \n    if (search.value && filterResults.value) {\n      fo = fo.filter((option) => {\n        return searchStart.value\n          ? normalize(option[trackBy.value], strict.value).startsWith(normalize(search.value, strict.value))\n          : normalize(option[trackBy.value], strict.value).indexOf(normalize(search.value, strict.value)) !== -1\n      });\n    }\n\n    if (hideSelected.value && excludeHideSelected) {\n      fo = fo.filter((option) => !shouldHideOption(option));\n    }\n\n    return fo\n  };\n\n  // no export\n  const optionsToArray = (options) => {\n    let uo = options;\n    \n    // Transforming an object to an array of objects\n    if (isObject(uo)) {\n      uo = Object.keys(uo).map((key) => {\n        let val = uo[key];\n\n        return { [valueProp.value]: key, [trackBy.value]: val, [label.value]: val}\n      });\n    }\n\n    // Transforming an plain arrays to an array of objects\n    uo = uo.map((val) => {\n      return typeof val === 'object' ? val : { [valueProp.value]: val, [trackBy.value]: val, [label.value]: val}\n    });\n\n    return uo\n  };\n\n  // no export\n  const initInternalValue = () => {\n    if (!isNullish(ev.value)) {\n      iv.value = makeInternal(ev.value);\n    }\n  };\n\n  const resolveOptions = (callback) => {\n    resolving.value = true;\n\n    return new Promise((resolve, reject) => {\n      options.value(search.value, $this).then((response) => {\n        ro.value = response || [];\n\n        if (typeof callback == 'function') {\n          callback(response);\n        }\n\n        resolving.value = false;\n      }).catch((e) => {\n        console.error(e);\n\n        ro.value = [];\n\n        resolving.value = false;\n      }).finally(() => {\n        resolve();\n      });\n    })\n  };\n\n  // no export\n  const refreshLabels = () => {\n    if (!hasSelected.value) {\n      return\n    }\n\n    if (mode.value === 'single') {\n      let option = getOption(iv.value[valueProp.value]);\n\n      /* istanbul ignore else */\n      if (option !== undefined) {\n        let newLabel = option[label.value];\n\n        iv.value[label.value] = newLabel;\n\n        if (object.value) {\n          ev.value[label.value] = newLabel;\n        }\n      }\n    } else {\n      iv.value.forEach((val, i) => {\n        let option = getOption(iv.value[i][valueProp.value]);\n\n        /* istanbul ignore else */\n        if (option !== undefined) {\n          let newLabel = option[label.value];\n\n          iv.value[i][label.value] = newLabel;\n\n          if (object.value) {\n            ev.value[i][label.value] = newLabel;\n          }\n        }\n      });\n    }\n  };\n\n  const refreshOptions = (callback) => {\n    resolveOptions(callback);\n  };\n\n  // no export\n  const makeInternal = (val) => {\n    if (isNullish(val)) {\n      return mode.value === 'single' ? {} : []\n    }\n\n    if (object.value) {\n      return val\n    }\n\n    // If external should be plain transform\n    // value object to plain values\n    return mode.value === 'single' ? getOption(val) || {} : val.filter(v => !! getOption(v)).map(v => getOption(v))\n  };\n\n  // no export\n  const initSearchWatcher = () => {\n    searchWatcher.value = watch(search, (query) => {\n      if (query.length < minChars.value || (!query && minChars.value !== 0)) {\n        return\n      }\n\n      resolving.value = true;\n\n      if (clearOnSearch.value) {\n        ro.value = [];\n      }\n      setTimeout(() => {\n        if (query != search.value) {\n          return\n        }\n\n        options.value(search.value, $this).then((response) => {\n          if (query == search.value || !search.value) {\n            ro.value = response;\n            pointer.value = fo.value.filter(o => o[disabledProp.value] !== true)[0] || null;\n            resolving.value = false;\n          }\n        }).catch( /* istanbul ignore next */ (e) => {\n          console.error(e);\n        });\n      }, delay.value);\n\n    }, { flush: 'sync' });\n  };\n\n  // ================ HOOKS ===============\n\n  if (mode.value !== 'single' && !isNullish(ev.value) && !Array.isArray(ev.value)) {\n    throw new Error(`v-model must be an array when using \"${mode.value}\" mode`)\n  }\n\n  if (options && typeof options.value == 'function') {\n    if (resolveOnLoad.value) {\n      resolveOptions(initInternalValue);\n    } else if (object.value == true) {\n      initInternalValue();\n    }\n  }\n  else {\n    ro.value = options.value;\n\n    initInternalValue();\n  }\n  \n  // ============== WATCHERS ==============\n\n  if (delay.value > -1) {\n    initSearchWatcher();\n  }\n\n  watch(delay, (value, old) => {\n    /* istanbul ignore else */\n    if (searchWatcher.value) {\n      searchWatcher.value();\n    }\n\n    if (value >= 0) {\n      initSearchWatcher();\n    }\n  });\n\n  watch(ev, (newValue) => {\n    if (isNullish(newValue)) {\n      iv.value = makeInternal(newValue);\n      return\n    }\n\n    switch (mode.value) {\n      case 'single':\n        if (object.value ? newValue[valueProp.value] != iv.value[valueProp.value] : newValue != iv.value[valueProp.value]) {\n          iv.value = makeInternal(newValue);\n        }\n        break\n\n      case 'multiple':\n      case 'tags':\n        if (!arraysEqual(object.value ? newValue.map(o => o[valueProp.value]) : newValue, iv.value.map(o => o[valueProp.value]))) {\n          iv.value = makeInternal(newValue);\n        }\n        break\n    }\n  }, { deep: true });\n\n  watch(options, (n, o) => {\n    if (typeof props.options === 'function') {\n      if (resolveOnLoad.value && (!o || (n && n.toString() !== o.toString()))) {\n        resolveOptions();\n      }\n    } else {\n      ro.value = props.options;\n\n      if (!Object.keys(iv.value).length) {\n        initInternalValue();\n      }\n\n      refreshLabels();\n    }\n  });\n\n  watch(label, refreshLabels);\n\n  return {\n    pfo,\n    fo,\n    filteredOptions: fo,\n    hasSelected,\n    multipleLabelText,\n    eo,\n    extendedOptions: eo,\n    fg,\n    filteredGroups: fg,\n    noOptions,\n    noResults,\n    resolving,\n    busy,\n    offset,\n    select,\n    deselect,\n    remove,\n    selectAll,\n    clear,\n    isSelected,\n    isDisabled,\n    isMax,\n    getOption,\n    handleOptionClick,\n    handleGroupClick,\n    handleTagRemove,\n    refreshOptions,\n    resolveOptions,\n    refreshLabels,\n  }\n}\n\nfunction usePointer (props, context, dep)\n{\n  const {\n    valueProp, showOptions, searchable, groupLabel,\n    groups: groupped, mode, groupSelect, disabledProp,\n  } = toRefs(props);\n\n  // ============ DEPENDENCIES ============\n\n  const fo = dep.fo;\n  const fg = dep.fg;\n  const handleOptionClick = dep.handleOptionClick;\n  const handleGroupClick = dep.handleGroupClick;\n  const search = dep.search;\n  const pointer = dep.pointer;\n  const setPointer = dep.setPointer;\n  const clearPointer = dep.clearPointer;\n  const multiselect = dep.multiselect;\n  const isOpen = dep.isOpen;\n\n  // ============== COMPUTED ==============\n\n  // no export\n  const options = computed(() => {\n    return fo.value.filter(o => !o[disabledProp.value])\n  });\n\n  const groups = computed(() => {\n    return fg.value.filter(o => !o[disabledProp.value])\n  });\n\n  const canPointGroups = computed(() => {\n    return mode.value !== 'single' && groupSelect.value\n  });\n\n  const isPointerGroup = computed(() => {\n    return pointer.value && pointer.value.group\n  });\n\n  const currentGroup = computed(() => {\n    return getParentGroup(pointer.value)\n  });\n\n  const prevGroup = computed(() => {\n    const group = isPointerGroup.value ? pointer.value : /* istanbul ignore next */ getParentGroup(pointer.value);\n    const groupIndex = groups.value.map(g => g[groupLabel.value]).indexOf(group[groupLabel.value]);\n    let prevGroup = groups.value[groupIndex - 1];\n\n    if (prevGroup === undefined) {\n      prevGroup = lastGroup.value;\n    }\n\n    return prevGroup\n  });\n  \n  const nextGroup = computed(() => {\n    let nextIndex = groups.value.map(g => g.label).indexOf(isPointerGroup.value\n      ? pointer.value[groupLabel.value]\n      : getParentGroup(pointer.value)[groupLabel.value]) + 1;\n\n    if (groups.value.length <= nextIndex) {\n      nextIndex = 0;\n    }\n\n    return groups.value[nextIndex]\n  });\n\n  const lastGroup = computed(() => {\n    return [...groups.value].slice(-1)[0]\n  });\n  \n  const currentGroupFirstEnabledOption = computed(() => {\n    return pointer.value.__VISIBLE__.filter(o => !o[disabledProp.value])[0]\n  });\n\n  const currentGroupPrevEnabledOption = computed(() => {\n    const options = currentGroup.value.__VISIBLE__.filter(o => !o[disabledProp.value]);\n    return options[options.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) - 1]\n  });\n  \n  const currentGroupNextEnabledOption = computed(() => {\n    const options = getParentGroup(pointer.value).__VISIBLE__.filter(o => !o[disabledProp.value]);\n    return options[options.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) + 1]\n  });\n\n  const prevGroupLastEnabledOption = computed(() => {\n    return [...prevGroup.value.__VISIBLE__.filter(o => !o[disabledProp.value])].slice(-1)[0]\n  });\n\n  const lastGroupLastEnabledOption = computed(() => {\n    return [...lastGroup.value.__VISIBLE__.filter(o => !o[disabledProp.value])].slice(-1)[0]\n  });\n\n  // =============== METHODS ==============\n\n  const isPointed = (option) => {\n    return (!!pointer.value && (\n      (!option.group && pointer.value[valueProp.value] == option[valueProp.value]) ||\n      (option.group !== undefined && pointer.value[groupLabel.value] == option[groupLabel.value])\n    )) ? true : undefined\n  };\n\n  const setPointerFirst = () => {\n    setPointer(options.value[0] || null);\n  };\n\n  const selectPointer = () => {\n    if (!pointer.value || pointer.value[disabledProp.value] === true) {\n      return\n    }\n\n    if (isPointerGroup.value) {\n      handleGroupClick(pointer.value);\n    } else {\n      handleOptionClick(pointer.value);\n    }\n  };\n\n  const forwardPointer = () => {\n    if (pointer.value === null) {\n      setPointer((groupped.value && canPointGroups.value ? groups.value[0] : options.value[0]) || null);\n    }\n    else if (groupped.value && canPointGroups.value) {\n      let nextPointer = isPointerGroup.value ? currentGroupFirstEnabledOption.value : currentGroupNextEnabledOption.value;\n\n      if (nextPointer === undefined) {\n        nextPointer = nextGroup.value;\n      }\n\n      setPointer(nextPointer || /* istanbul ignore next */ null);\n    } else {\n      let next = options.value.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) + 1;\n\n      if (options.value.length <= next) {\n        next = 0;\n      }\n\n      setPointer(options.value[next] || null);\n    }\n\n    nextTick(() => {\n      adjustWrapperScrollToPointer();\n    });\n  };\n\n  const backwardPointer = () => {\n    if (pointer.value === null) {\n      let prevPointer = options.value[options.value.length - 1];\n\n      if (groupped.value && canPointGroups.value) {\n        prevPointer = lastGroupLastEnabledOption.value;\n\n        if (prevPointer === undefined) {\n          prevPointer = lastGroup.value;\n        }\n      }\n\n      setPointer(prevPointer  || null);\n    }\n    else if (groupped.value && canPointGroups.value) {\n      let prevPointer = isPointerGroup.value ? prevGroupLastEnabledOption.value : currentGroupPrevEnabledOption.value;\n\n      if (prevPointer === undefined) {\n        prevPointer = isPointerGroup.value ? prevGroup.value : currentGroup.value;\n      }\n\n      setPointer(prevPointer || /* istanbul ignore next */ null);\n    } else {\n      let prevIndex = options.value.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) - 1;\n\n      if (prevIndex < 0) {\n        prevIndex = options.value.length - 1;\n      }\n\n      setPointer(options.value[prevIndex] || null);\n    }\n\n    nextTick(() => {\n      adjustWrapperScrollToPointer();\n    });\n  };\n\n  const getParentGroup = (option) => {\n    return groups.value.find((group) => {\n      return group.__VISIBLE__.map(o => o[valueProp.value]).indexOf(option[valueProp.value]) !== -1\n    })\n  };\n\n  // no export\n  /* istanbul ignore next */\n  const adjustWrapperScrollToPointer = () => {\n    let pointedOption = multiselect.value.querySelector(`[data-pointed]`);\n\n    if (!pointedOption) {\n      return\n    }\n\n    let wrapper = pointedOption.parentElement.parentElement;\n\n    if (groupped.value) {\n      wrapper = isPointerGroup.value\n        ? pointedOption.parentElement.parentElement.parentElement\n        : pointedOption.parentElement.parentElement.parentElement.parentElement;\n    }\n\n    if (pointedOption.offsetTop + pointedOption.offsetHeight > wrapper.clientHeight + wrapper.scrollTop) {\n      wrapper.scrollTop = pointedOption.offsetTop + pointedOption.offsetHeight - wrapper.clientHeight;\n    }\n    \n    if (pointedOption.offsetTop < wrapper.scrollTop) {\n      wrapper.scrollTop = pointedOption.offsetTop;\n    }\n  };\n\n  // ============== WATCHERS ==============\n\n  watch(search, (val) => {\n    if (searchable.value) {\n      if (val.length && showOptions.value) {\n        setPointerFirst();\n      } else {\n        clearPointer();\n      }\n    }\n  });\n\n  watch(isOpen, (val) => {\n    if (val) {\n      let firstSelected = multiselect.value.querySelectorAll(`[data-selected]`)[0];\n\n      if (!firstSelected) {\n        return\n      }\n\n      let wrapper = firstSelected.parentElement.parentElement;\n      \n      nextTick(() => {\n        /* istanbul ignore next */\n        if (wrapper.scrollTop > 0) {\n          return\n        }\n\n        wrapper.scrollTop = firstSelected.offsetTop;\n      });\n    }\n  });\n\n  return {\n    pointer,\n    canPointGroups,\n    isPointed,\n    setPointerFirst,\n    selectPointer,\n    forwardPointer,\n    backwardPointer,\n  }\n}\n\nfunction useDropdown (props, context, dep)\n{\n  const { disabled } = toRefs(props);\n\n  const $this = getCurrentInstance().proxy;\n\n  // ================ DATA ================\n\n  const isOpen = ref(false);\n\n  // =============== METHODS ==============\n\n  const open = () => {\n    if (isOpen.value || disabled.value) {\n      return\n    }\n\n    isOpen.value = true;\n    context.emit('open', $this);\n  };\n\n  const close = () => {\n    if (!isOpen.value) {\n      return\n    }\n\n    isOpen.value = false;\n    context.emit('close', $this);\n  };\n\n  return {\n    isOpen,\n    open,\n    close,\n  }\n}\n\nfunction useMultiselect (props, context, dep)\n{\n  const { searchable, disabled } = toRefs(props);\n\n  // ============ DEPENDENCIES ============\n\n  const input = dep.input;\n  const open = dep.open;\n  const close = dep.close;\n  const clearSearch = dep.clearSearch;\n  const isOpen = dep.isOpen;\n\n  // ================ DATA ================\n\n  const multiselect = ref(null);\n\n  const tags = ref(null);\n\n  const isActive = ref(false);\n\n  const mouseClicked = ref(false);\n\n  // ============== COMPUTED ==============\n\n  const tabindex = computed(() => {\n    return searchable.value || disabled.value ? -1 : 0\n  });\n\n  // =============== METHODS ==============\n\n  const blur = () => {\n    if (searchable.value) {\n      input.value.blur();\n    }\n\n    multiselect.value.blur();\n  };\n\n  const focus = () => {\n    if (searchable.value && !disabled.value) {\n      input.value.focus();\n    }\n  };\n\n  const activate = (shouldOpen = true) => {\n    if (disabled.value) {\n      return\n    }\n\n    isActive.value = true;\n\n    if (shouldOpen) {\n      open();\n    }\n  };\n\n  const deactivate = () => {\n    isActive.value = false;\n\n    setTimeout(() => {\n      if (!isActive.value) {\n        close();\n        clearSearch();\n      }\n    }, 1);\n  };\n\n  const handleFocusIn = () => {\n    activate(mouseClicked.value);\n  };\n\n  const handleFocusOut = () => {\n    deactivate();\n  };\n\n  const handleCaretClick = () => {\n    deactivate();\n    blur();\n  };\n\n  /* istanbul ignore next */\n  const handleMousedown = (e) => {\n    mouseClicked.value = true;\n\n    if (isOpen.value && (e.target.isEqualNode(multiselect.value) || e.target.isEqualNode(tags.value))) {\n      setTimeout(() => {\n        deactivate();\n      }, 0);\n    } else if (document.activeElement.isEqualNode(multiselect.value) && !isOpen.value) {\n      activate();    \n    }\n\n    setTimeout(() => {\n      mouseClicked.value = false;\n    }, 0);\n  };\n\n  return {\n    multiselect,\n    tags,\n    tabindex,\n    isActive,\n    mouseClicked,\n    blur,\n    focus,\n    activate,\n    deactivate,\n    handleFocusIn,\n    handleFocusOut,\n    handleCaretClick,\n    handleMousedown,\n  }\n}\n\nfunction useKeyboard (props, context, dep)\n{\n  const {\n    mode, addTagOn, openDirection, searchable,\n    showOptions, valueProp, groups: groupped,\n    addOptionOn: addOptionOn_, createTag, createOption: createOption_,\n    reverse,\n  } = toRefs(props);\n\n  const $this = getCurrentInstance().proxy;\n\n  // ============ DEPENDENCIES ============\n\n  const iv = dep.iv;\n  const update = dep.update;\n  const search = dep.search;\n  const setPointer = dep.setPointer;\n  const selectPointer = dep.selectPointer;\n  const backwardPointer = dep.backwardPointer;\n  const forwardPointer = dep.forwardPointer;\n  const multiselect = dep.multiselect;\n  const tags = dep.tags;\n  const isOpen = dep.isOpen;\n  const open = dep.open;\n  const blur = dep.blur;\n  const fo = dep.fo;\n\n  // ============== COMPUTED ==============\n\n  // no export\n  const createOption = computed(() => {\n    return createTag.value || createOption_.value || false\n  });\n\n  // no export\n  const addOptionOn = computed(() => {\n    if (addTagOn.value !== undefined) {\n      return addTagOn.value\n    }\n    else if (addOptionOn_.value !== undefined) {\n      return addOptionOn_.value\n    }\n\n    return ['enter']\n  });\n\n  // =============== METHODS ==============\n\n  // no export\n  const preparePointer = () => {\n    // When options are hidden and creating tags is allowed\n    // no pointer will be set (because options are hidden).\n    // In such case we need to set the pointer manually to the \n    // first option, which equals to the option created from\n    // the search value.\n    if (mode.value === 'tags' && !showOptions.value && createOption.value && searchable.value && !groupped.value) {\n      setPointer(fo.value[fo.value.map(o => o[valueProp.value]).indexOf(search.value)]);\n    }\n  };\n\n  const handleKeydown = (e) => {\n    context.emit('keydown', e, $this);\n\n    let tagList;\n    let activeIndex;\n\n    if (['ArrowLeft', 'ArrowRight', 'Enter'].indexOf(e.key) !== -1 && mode.value === 'tags') {\n      tagList = [...(multiselect.value.querySelectorAll(`[data-tags] > *`))].filter(e => e !== tags.value);\n      activeIndex = tagList.findIndex(e => e === document.activeElement);\n    }\n\n    switch (e.key) {\n      case 'Backspace':\n        if (mode.value === 'single') {\n          return\n        }\n\n        if (searchable.value && [null, ''].indexOf(search.value) === -1) {\n          return\n        }\n\n        if (iv.value.length === 0) {\n          return\n        }\n        \n        update([...iv.value].slice(0,-1));\n        break\n\n      case 'Enter':\n        e.preventDefault();\n\n        if (activeIndex !== -1 && activeIndex !== undefined) {\n          update([...iv.value].filter((v, k) => k !== activeIndex));\n\n          if (activeIndex === tagList.length - 1) {\n            if (tagList.length - 1) {\n              tagList[tagList.length - 2].focus();\n            } else if (searchable.value) {\n              tags.value.querySelector('input').focus();\n            } else {\n              multiselect.value.focus();\n            }\n          }\n          return\n        }\n\n        if (addOptionOn.value.indexOf('enter') === -1 && createOption.value) {\n          return\n        }\n        \n        preparePointer();\n        selectPointer();\n        break\n\n      case ' ':\n        if (!createOption.value && !searchable.value) {\n          e.preventDefault();\n          \n          preparePointer();\n          selectPointer();\n          return\n        }\n\n        if (!createOption.value) {\n          return false\n        } \n\n        if (addOptionOn.value.indexOf('space') === -1 && createOption.value) {\n          return\n        }\n\n        e.preventDefault();\n        \n        preparePointer();\n        selectPointer();\n        break\n      \n      case 'Tab':\n      case ';':\n      case ',':\n        if (addOptionOn.value.indexOf(e.key.toLowerCase()) === -1 || !createOption.value) {\n          return\n        }\n\n        preparePointer();\n        selectPointer();\n        e.preventDefault();\n        break\n\n      case 'Escape':\n        blur();\n        break\n\n      case 'ArrowUp':\n        e.preventDefault();\n\n        if (!showOptions.value) {\n          return\n        }\n\n        /* istanbul ignore else */\n        if (!isOpen.value) {\n          open();\n        }\n        \n        backwardPointer();\n        break\n\n      case 'ArrowDown':\n        e.preventDefault();\n\n        if (!showOptions.value) {\n          return\n        }\n\n        /* istanbul ignore else */\n        if (!isOpen.value) {\n          open();\n        }\n\n        forwardPointer();\n        break\n\n      case 'ArrowLeft':\n        if ((searchable.value && tags.value.querySelector('input').selectionStart) || e.shiftKey || mode.value !== 'tags' || !iv.value || !iv.value.length) {\n          return\n        }\n\n        e.preventDefault();\n\n        if (activeIndex === -1) {\n          tagList[tagList.length-1].focus();\n        }\n        else if (activeIndex > 0) {\n          tagList[activeIndex-1].focus();\n        }\n        break\n\n      case 'ArrowRight':\n        if (activeIndex === -1 || e.shiftKey || mode.value !== 'tags' || !iv.value || !iv.value.length) {\n          return\n        }\n\n        e.preventDefault();\n        \n        /* istanbul ignore else */\n        if (tagList.length > activeIndex + 1) {\n          tagList[activeIndex+1].focus();\n        }\n        else if (searchable.value) {\n          tags.value.querySelector('input').focus();\n        }\n        else if (!searchable.value) {\n          multiselect.value.focus();\n        }\n        \n        break\n    }\n  };\n\n  const handleKeyup = (e) => {\n    context.emit('keyup', e, $this);\n  };\n\n  return {\n    handleKeydown,\n    handleKeyup,\n    preparePointer,\n  }\n}\n\nfunction useClasses (props, context, dependencies)\n{const { \n    classes: classes_, disabled, openDirection, showOptions\n  } = toRefs(props);\n\n  // ============ DEPENDENCIES ============\n\n  const isOpen = dependencies.isOpen;\n  const isPointed = dependencies.isPointed;\n  const isSelected = dependencies.isSelected;\n  const isDisabled = dependencies.isDisabled;\n  const isActive = dependencies.isActive;\n  const canPointGroups = dependencies.canPointGroups;\n  const resolving = dependencies.resolving;\n  const fo = dependencies.fo;\n\n  const classes = computed(() => ({\n    container: 'multiselect',\n    containerDisabled: 'is-disabled',\n    containerOpen: 'is-open',\n    containerOpenTop: 'is-open-top',\n    containerActive: 'is-active',\n    singleLabel: 'multiselect-single-label',\n    singleLabelText: 'multiselect-single-label-text',\n    multipleLabel: 'multiselect-multiple-label',\n    search: 'multiselect-search',\n    tags: 'multiselect-tags',\n    tag: 'multiselect-tag',\n    tagDisabled: 'is-disabled',\n    tagRemove: 'multiselect-tag-remove',\n    tagRemoveIcon: 'multiselect-tag-remove-icon',\n    tagsSearchWrapper: 'multiselect-tags-search-wrapper',\n    tagsSearch: 'multiselect-tags-search',\n    tagsSearchCopy: 'multiselect-tags-search-copy',\n    placeholder: 'multiselect-placeholder',\n    caret: 'multiselect-caret',\n    caretOpen: 'is-open',\n    clear: 'multiselect-clear',\n    clearIcon: 'multiselect-clear-icon',\n    spinner: 'multiselect-spinner',\n    inifinite: 'multiselect-inifite',\n    inifiniteSpinner: 'multiselect-inifite-spinner',\n    dropdown: 'multiselect-dropdown',\n    dropdownTop: 'is-top',\n    dropdownHidden: 'is-hidden',\n    options: 'multiselect-options',\n    optionsTop: 'is-top',\n    group: 'multiselect-group',\n    groupLabel: 'multiselect-group-label',\n    groupLabelPointable: 'is-pointable',\n    groupLabelPointed: 'is-pointed',\n    groupLabelSelected: 'is-selected',\n    groupLabelDisabled: 'is-disabled',\n    groupLabelSelectedPointed: 'is-selected is-pointed',\n    groupLabelSelectedDisabled: 'is-selected is-disabled',\n    groupOptions: 'multiselect-group-options',\n    option: 'multiselect-option',\n    optionPointed: 'is-pointed',\n    optionSelected: 'is-selected',\n    optionDisabled: 'is-disabled',\n    optionSelectedPointed: 'is-selected is-pointed',\n    optionSelectedDisabled: 'is-selected is-disabled',\n    noOptions: 'multiselect-no-options',\n    noResults: 'multiselect-no-results',\n    fakeInput: 'multiselect-fake-input',\n    spacer: 'multiselect-spacer',\n    ...classes_.value,\n  }));\n\n  // ============== COMPUTED ==============\n\n  const showDropdown = computed(() => {\n    return !!(isOpen.value && showOptions.value && (!resolving.value || (resolving.value && fo.value.length)))\n  });\n\n  const classList = computed(() => {\n    const c = classes.value;\n\n    return {\n      container: [c.container]\n        .concat(disabled.value ? c.containerDisabled : [])\n        .concat(showDropdown.value && openDirection.value === 'top'  ? c.containerOpenTop : [])\n        .concat(showDropdown.value && openDirection.value !== 'top' ? c.containerOpen : [])\n        .concat(isActive.value ? c.containerActive : []),\n      spacer: c.spacer,\n      singleLabel: c.singleLabel,\n      singleLabelText: c.singleLabelText,\n      multipleLabel: c.multipleLabel,\n      search: c.search,\n      tags: c.tags,\n      tag: [c.tag]\n        .concat(disabled.value ? c.tagDisabled : []),\n      tagRemove: c.tagRemove,\n      tagRemoveIcon: c.tagRemoveIcon,\n      tagsSearchWrapper: c.tagsSearchWrapper,\n      tagsSearch: c.tagsSearch,\n      tagsSearchCopy: c.tagsSearchCopy,\n      placeholder: c.placeholder,\n      caret: [c.caret]\n        .concat(isOpen.value ? c.caretOpen : []),\n      clear: c.clear,\n      clearIcon: c.clearIcon,\n      spinner: c.spinner,\n      inifinite: c.inifinite,\n      inifiniteSpinner: c.inifiniteSpinner,\n      dropdown: [c.dropdown]\n        .concat(openDirection.value === 'top' ? c.dropdownTop : [])\n        .concat(!isOpen.value || !showOptions.value || !showDropdown.value ? c.dropdownHidden : []),\n      options: [c.options]\n        .concat(openDirection.value === 'top' ? c.optionsTop : []),\n      group: c.group,\n      groupLabel: (g) => {\n        let groupLabel = [c.groupLabel];\n\n        if (isPointed(g)) {\n          groupLabel.push(isSelected(g) ? c.groupLabelSelectedPointed : c.groupLabelPointed);\n        } else if (isSelected(g) && canPointGroups.value) {\n          groupLabel.push(isDisabled(g) ? c.groupLabelSelectedDisabled : c.groupLabelSelected);\n        } else if (isDisabled(g)) {\n          groupLabel.push(c.groupLabelDisabled);\n        }\n\n        if (canPointGroups.value) {\n          groupLabel.push(c.groupLabelPointable);\n        }\n\n        return groupLabel\n      },\n      groupOptions: c.groupOptions,\n      option: (o, g) => {\n        let option = [c.option];\n\n        if (isPointed(o)) {\n          option.push(isSelected(o) ? c.optionSelectedPointed : c.optionPointed);\n        } else if (isSelected(o)) {\n          option.push(isDisabled(o) ? c.optionSelectedDisabled : c.optionSelected);\n        } else if (isDisabled(o) || (g && isDisabled(g))) {\n          option.push(c.optionDisabled);\n        }\n\n        return option\n      },\n      noOptions: c.noOptions,\n      noResults: c.noResults,\n      fakeInput: c.fakeInput,\n    }\n  });\n\n  return {\n    classList,\n    showDropdown,\n  }\n}\n\nfunction useScroll$1 (props, context, dep)\n{\n  const {\n    limit, infinite,\n  } = toRefs(props);\n\n  // ============ DEPENDENCIES ============\n\n  const isOpen = dep.isOpen;\n  const offset = dep.offset;\n  const search = dep.search;\n  const pfo = dep.pfo;\n  const eo = dep.eo;\n\n  // ================ DATA ================\n\n  // no export\n  const observer = ref(null);\n\n  const infiniteLoader = ref(null);\n\n  // ============== COMPUTED ==============\n\n  const hasMore = computed(() => {\n    return offset.value < pfo.value.length\n  });\n\n  // =============== METHODS ==============\n\n  // no export\n  /* istanbul ignore next */\n  const handleIntersectionObserver = (entries) => {\n    const { isIntersecting, target } = entries[0];\n\n    if (isIntersecting) {\n      const parent = target.offsetParent;\n      const scrollTop = parent.scrollTop;\n\n      offset.value += limit.value == -1 ? 10 : limit.value;\n\n      nextTick(() => {\n        parent.scrollTop = scrollTop;\n      });\n    }\n  };\n\n  const observe = () => {\n    /* istanbul ignore else */\n    if (isOpen.value && offset.value < pfo.value.length) {\n      observer.value.observe(infiniteLoader.value);\n    } else if (!isOpen.value && observer.value) {\n      observer.value.disconnect();\n    }\n  };\n\n  // ============== WATCHERS ==============\n\n  watch(isOpen, () => {\n    if (!infinite.value) {\n      return\n    }\n\n    observe();\n  });\n\n  watch(search, () => {\n    if (!infinite.value) {\n      return\n    }\n\n    offset.value = limit.value;\n\n    observe();\n  }, { flush: 'post' });\n\n  watch(eo, () => {\n    if (!infinite.value) {\n      return\n    }\n\n    observe();\n  }, { immediate: false, flush: 'post' });\n\n  // ================ HOOKS ===============\n\n  onMounted(() => {\n    /* istanbul ignore else */\n    if (window && window.IntersectionObserver) {\n      observer.value = new IntersectionObserver(handleIntersectionObserver);\n    }\n  });\n\n  return {\n    hasMore,\n    infiniteLoader,\n  }\n}\n\nfunction useScroll (props, context, dep)\n{\n  const { placeholder, id, valueProp, label: labelProp, mode, groupLabel } = toRefs(props);\n\n  // ============ DEPENDENCIES ============\n\n  const pointer = dep.pointer;\n  dep.iv;\n  dep.hasSelected;\n  dep.multipleLabelText;\n  dep.isOpen;\n\n  // ================ DATA ================\n\n  const label = ref(null);\n\n  // ============== COMPUTED ==============\n\n  const ariaOwns = computed(() => {\n    let texts = [];\n\n    if (id && id.value) {\n      texts.push(id.value);\n    }\n\n    texts.push('multiselect-options');\n\n    return texts.join('-')\n  });\n\n  const ariaActiveDescendant = computed(() => {\n    let texts = [];\n\n    if (id && id.value) {\n      texts.push(id.value);\n    }\n\n    if (pointer.value) {\n      texts.push(pointer.value.group ? 'multiselect-group' : 'multiselect-option');\n\n      texts.push(pointer.value.group ? pointer.value.index : pointer.value[valueProp.value]);\n\n      return texts.join('-')\n    }\n  });\n\n\n\n  const ariaPlaceholder = computed(() => {\n    return placeholder.value\n  });\n\n  const ariaMultiselectable = computed(() => {\n    return mode.value !== 'single'\n  });\n\n  // =============== METHODS ==============\n\n  const ariaOptionId = (option) => {\n    let texts = [];\n\n    if (id && id.value) {\n      texts.push(id.value);\n    }\n\n    texts.push('multiselect-option');\n\n    texts.push(option[valueProp.value]);\n\n    return texts.join('-')\n  };\n\n  const ariaGroupId = (option) => {\n    let texts = [];\n\n    if (id && id.value) {\n      texts.push(id.value);\n    }\n\n    texts.push('multiselect-group');\n\n    texts.push(option.index);\n\n    return texts.join('-')\n  };\n\n  const ariaOptionLabel = (option) => {\n    let texts = [];\n\n    texts.push(option[labelProp.value]);\n\n    return texts.join(' ')\n  };\n\n  const ariaGroupLabel = (group) => {\n    let texts = [];\n\n    texts.push(group[groupLabel.value]);\n\n    return texts.join(' ')\n  };\n\n  const ariaTagLabel = (label) => {\n    return `${label} ❎`\n  };\n\n  // =============== HOOKS ================\n\n  onMounted(() => {\n    /* istanbul ignore next */\n    if (id && id.value && document && document.querySelector) {\n      let forTag = document.querySelector(`[for=\"${id.value}\"]`);\n      label.value = forTag ? forTag.innerText : null;\n    }\n  });\n\n  return {\n    ariaOwns,\n    ariaPlaceholder,\n    ariaMultiselectable,\n    ariaActiveDescendant,\n    ariaOptionId,\n    ariaOptionLabel,\n    ariaGroupId,\n    ariaGroupLabel,\n    ariaTagLabel,\n  }\n}\n\nfunction resolveDeps (props, context, features, deps = {}) {\n  features.forEach((composable) => {\n    /* istanbul ignore else */\n    if (composable) {\n      deps = {\n        ...deps,\n        ...composable(props, context, deps)\n      };\n    }\n\n  });\n  \n  return deps\n}\n\nvar script = {\n    name: 'Multiselect',\n    emits: [\n      'paste', 'open', 'close', 'select', 'deselect', \n      'input', 'search-change', 'tag', 'option', 'update:modelValue',\n      'change', 'clear', 'keydown', 'keyup',\n    ],\n    props: {\n      value: {\n        required: false,\n      },\n      modelValue: {\n        required: false,\n      },\n      options: {\n        type: [Array, Object, Function],\n        required: false,\n        default: () => ([])\n      },\n      id: {\n        type: [String, Number],\n        required: false,\n      },\n      name: {\n        type: [String, Number],\n        required: false,\n        default: 'multiselect',\n      },\n      disabled: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      label: {\n        type: String,\n        required: false,\n        default: 'label',\n      },\n      trackBy: {\n        type: String,\n        required: false,\n        default: undefined,\n      },\n      valueProp: {\n        type: String,\n        required: false,\n        default: 'value',\n      },\n      placeholder: {\n        type: String,\n        required: false,\n        default: null,\n      },\n      mode: {\n        type: String,\n        required: false,\n        default: 'single', // single|multiple|tags\n      },\n      searchable: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      limit: {\n        type: Number,\n        required: false,\n        default: -1,\n      },\n      hideSelected: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      createTag: {\n        type: Boolean,\n        required: false,\n        default: undefined,\n      },\n      createOption: {\n        type: Boolean,\n        required: false,\n        default: undefined,\n      },\n      appendNewTag: {\n        type: Boolean,\n        required: false,\n        default: undefined,\n      },\n      appendNewOption: {\n        type: Boolean,\n        required: false,\n        default: undefined,\n      },\n      addTagOn: {\n        type: Array,\n        required: false,\n        default: undefined,\n      },\n      addOptionOn: {\n        type: Array,\n        required: false,\n        default: undefined,\n      },\n      caret: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      loading: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      noOptionsText: {\n        type: String,\n        required: false,\n        default: 'The list is empty',\n      },\n      noResultsText: {\n        type: String,\n        required: false,\n        default: 'No results found',\n      },\n      multipleLabel: {\n        type: Function,\n        required: false,\n      },\n      object: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      delay: {\n        type: Number,\n        required: false,\n        default: -1,\n      },\n      minChars: {\n        type: Number,\n        required: false,\n        default: 0,\n      },\n      resolveOnLoad: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      filterResults: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      clearOnSearch: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      clearOnSelect: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      canDeselect: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      canClear: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      max: {\n        type: Number,\n        required: false,\n        default: -1,\n      },\n      showOptions: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      required: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      openDirection: {\n        type: String,\n        required: false,\n        default: 'bottom',\n      },\n      nativeSupport: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      classes: {\n        type: Object,\n        required: false,\n        default: () => ({})\n      },\n      strict: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      closeOnSelect: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      autocomplete: {\n        type: String,\n        required: false,\n      },\n      groups: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      groupLabel: {\n        type: String,\n        required: false,\n        default: 'label',\n      },\n      groupOptions: {\n        type: String,\n        required: false,\n        default: 'options',\n      },\n      groupHideEmpty: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      groupSelect: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      inputType: {\n        type: String,\n        required: false,\n        default: 'text',\n      },\n      attrs: {\n        required: false,\n        type: Object,\n        default: () => ({}),\n      },\n      onCreate: {\n        required: false,\n        type: Function,\n      },\n      disabledProp: {\n        type: String,\n        required: false,\n        default: 'disabled',\n      },\n      searchStart: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      reverse: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      regex: {\n        type: [Object, String, RegExp],\n        required: false,\n        default: undefined,\n      },\n      rtl: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      infinite: {\n        type: Boolean,\n        required: false,\n        default: false,\n      },\n      aria: {\n        required: false,\n        type: Object,\n        default: () => ({}),\n      },\n    },\n    setup(props, context)\n    { \n      return resolveDeps(props, context, [\n        useValue,\n        usePointer$1,\n        useDropdown,\n        useSearch,\n        useData,\n        useMultiselect,\n        useOptions,\n        useScroll$1,\n        usePointer,\n        useKeyboard,\n        useClasses,\n        useScroll,\n      ])\n    }\n  };\n\nconst _hoisted_1 = [\"tabindex\", \"id\", \"dir\", \"aria-owns\", \"aria-placeholder\", \"aria-expanded\", \"aria-activedescendant\", \"aria-multiselectable\", \"role\"];\nconst _hoisted_2 = [\"type\", \"modelValue\", \"value\", \"autocomplete\", \"id\", \"aria-owns\", \"aria-placeholder\", \"aria-expanded\", \"aria-activedescendant\", \"aria-multiselectable\"];\nconst _hoisted_3 = [\"onKeyup\", \"aria-label\"];\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"type\", \"modelValue\", \"value\", \"id\", \"autocomplete\", \"aria-owns\", \"aria-placeholder\", \"aria-expanded\", \"aria-activedescendant\", \"aria-multiselectable\"];\nconst _hoisted_6 = [\"innerHTML\"];\nconst _hoisted_7 = [\"innerHTML\"];\nconst _hoisted_8 = [\"id\"];\nconst _hoisted_9 = [\"id\", \"aria-label\", \"aria-selected\"];\nconst _hoisted_10 = [\"data-pointed\", \"onMouseenter\", \"onClick\"];\nconst _hoisted_11 = [\"innerHTML\"];\nconst _hoisted_12 = [\"aria-label\"];\nconst _hoisted_13 = [\"data-pointed\", \"data-selected\", \"onMouseenter\", \"onClick\", \"id\", \"aria-selected\", \"aria-label\"];\nconst _hoisted_14 = [\"innerHTML\"];\nconst _hoisted_15 = [\"data-pointed\", \"data-selected\", \"onMouseenter\", \"onClick\", \"id\", \"aria-selected\", \"aria-label\"];\nconst _hoisted_16 = [\"innerHTML\"];\nconst _hoisted_17 = [\"innerHTML\"];\nconst _hoisted_18 = [\"innerHTML\"];\nconst _hoisted_19 = [\"value\"];\nconst _hoisted_20 = [\"name\", \"value\"];\nconst _hoisted_21 = [\"name\", \"value\"];\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (openBlock(), createElementBlock(\"div\", mergeProps({\n    ref: \"multiselect\",\n    tabindex: _ctx.tabindex,\n    class: _ctx.classList.container,\n    id: $props.searchable ? undefined : $props.id,\n    dir: $props.rtl ? 'rtl' : undefined,\n    onFocusin: _cache[9] || (_cache[9] = (...args) => (_ctx.handleFocusIn && _ctx.handleFocusIn(...args))),\n    onFocusout: _cache[10] || (_cache[10] = (...args) => (_ctx.handleFocusOut && _ctx.handleFocusOut(...args))),\n    onKeydown: _cache[11] || (_cache[11] = (...args) => (_ctx.handleKeydown && _ctx.handleKeydown(...args))),\n    onKeyup: _cache[12] || (_cache[12] = (...args) => (_ctx.handleKeyup && _ctx.handleKeyup(...args))),\n    onMousedown: _cache[13] || (_cache[13] = (...args) => (_ctx.handleMousedown && _ctx.handleMousedown(...args))),\n    \"aria-owns\": !$props.searchable ? _ctx.ariaOwns : undefined,\n    \"aria-placeholder\": !$props.searchable ? _ctx.ariaPlaceholder : undefined,\n    \"aria-expanded\": !$props.searchable ? _ctx.isOpen : undefined,\n    \"aria-activedescendant\": !$props.searchable ? _ctx.ariaActiveDescendant : undefined,\n    \"aria-multiselectable\": !$props.searchable ? _ctx.ariaMultiselectable : undefined,\n    role: !$props.searchable ? 'listbox' : undefined\n  }, !$props.searchable ? $props.aria : {}), [\n    createCommentVNode(\" Search \"),\n    ($props.mode !== 'tags' && $props.searchable && !$props.disabled)\n      ? (openBlock(), createElementBlock(\"input\", mergeProps({\n          key: 0,\n          type: $props.inputType,\n          modelValue: _ctx.search,\n          value: _ctx.search,\n          class: _ctx.classList.search,\n          autocomplete: $props.autocomplete,\n          id: $props.searchable ? $props.id : undefined,\n          onInput: _cache[0] || (_cache[0] = (...args) => (_ctx.handleSearchInput && _ctx.handleSearchInput(...args))),\n          onKeypress: _cache[1] || (_cache[1] = (...args) => (_ctx.handleKeypress && _ctx.handleKeypress(...args))),\n          onPaste: _cache[2] || (_cache[2] = withModifiers((...args) => (_ctx.handlePaste && _ctx.handlePaste(...args)), [\"stop\"])),\n          ref: \"input\",\n          \"aria-owns\": _ctx.ariaOwns,\n          \"aria-placeholder\": _ctx.ariaPlaceholder,\n          \"aria-expanded\": _ctx.isOpen,\n          \"aria-activedescendant\": _ctx.ariaActiveDescendant,\n          \"aria-multiselectable\": _ctx.ariaMultiselectable,\n          role: \"listbox\"\n        }, {\n          ...$props.attrs,\n          ...$props.aria,\n        }), null, 16 /* FULL_PROPS */, _hoisted_2))\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Tags (with search) \"),\n    ($props.mode == 'tags')\n      ? (openBlock(), createElementBlock(\"div\", {\n          key: 1,\n          class: normalizeClass(_ctx.classList.tags),\n          \"data-tags\": \"\"\n        }, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.iv, (option, i, key) => {\n            return renderSlot(_ctx.$slots, \"tag\", {\n              option: option,\n              handleTagRemove: _ctx.handleTagRemove,\n              disabled: $props.disabled\n            }, () => [\n              (openBlock(), createElementBlock(\"span\", {\n                class: normalizeClass(_ctx.classList.tag),\n                tabindex: \"-1\",\n                onKeyup: withKeys($event => (_ctx.handleTagRemove(option, $event)), [\"enter\"]),\n                key: key,\n                \"aria-label\": _ctx.ariaTagLabel(option[$props.label])\n              }, [\n                createTextVNode(toDisplayString(option[$props.label]) + \" \", 1 /* TEXT */),\n                (!$props.disabled)\n                  ? (openBlock(), createElementBlock(\"span\", {\n                      key: 0,\n                      class: normalizeClass(_ctx.classList.tagRemove),\n                      onClick: $event => (_ctx.handleTagRemove(option, $event))\n                    }, [\n                      createElementVNode(\"span\", {\n                        class: normalizeClass(_ctx.classList.tagRemoveIcon)\n                      }, null, 2 /* CLASS */)\n                    ], 10 /* CLASS, PROPS */, _hoisted_4))\n                  : createCommentVNode(\"v-if\", true)\n              ], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_3))\n            ])\n          }), 256 /* UNKEYED_FRAGMENT */)),\n          createElementVNode(\"div\", {\n            class: normalizeClass(_ctx.classList.tagsSearchWrapper),\n            ref: \"tags\"\n          }, [\n            createCommentVNode(\" Used for measuring search width \"),\n            createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.classList.tagsSearchCopy)\n            }, toDisplayString(_ctx.search), 3 /* TEXT, CLASS */),\n            createCommentVNode(\" Actual search input \"),\n            ($props.searchable && !$props.disabled)\n              ? (openBlock(), createElementBlock(\"input\", mergeProps({\n                  key: 0,\n                  type: $props.inputType,\n                  modelValue: _ctx.search,\n                  value: _ctx.search,\n                  class: _ctx.classList.tagsSearch,\n                  id: $props.searchable ? $props.id : undefined,\n                  autocomplete: $props.autocomplete,\n                  onInput: _cache[3] || (_cache[3] = (...args) => (_ctx.handleSearchInput && _ctx.handleSearchInput(...args))),\n                  onKeypress: _cache[4] || (_cache[4] = (...args) => (_ctx.handleKeypress && _ctx.handleKeypress(...args))),\n                  onPaste: _cache[5] || (_cache[5] = withModifiers((...args) => (_ctx.handlePaste && _ctx.handlePaste(...args)), [\"stop\"])),\n                  ref: \"input\",\n                  \"aria-owns\": _ctx.ariaOwns,\n                  \"aria-placeholder\": _ctx.ariaPlaceholder,\n                  \"aria-expanded\": _ctx.isOpen,\n                  \"aria-activedescendant\": _ctx.ariaActiveDescendant,\n                  \"aria-multiselectable\": _ctx.ariaMultiselectable,\n                  role: \"listbox\"\n                }, {\n              ...$props.attrs,\n              ...$props.aria,\n            }), null, 16 /* FULL_PROPS */, _hoisted_5))\n              : createCommentVNode(\"v-if\", true)\n          ], 2 /* CLASS */)\n        ], 2 /* CLASS */))\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Single label \"),\n    ($props.mode == 'single' && _ctx.hasSelected && !_ctx.search && _ctx.iv)\n      ? renderSlot(_ctx.$slots, \"singlelabel\", {\n          key: 2,\n          value: _ctx.iv\n        }, () => [\n          createElementVNode(\"div\", {\n            class: normalizeClass(_ctx.classList.singleLabel),\n            \"aria-hidden\": \"true\"\n          }, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.classList.singleLabelText),\n              innerHTML: _ctx.iv[$props.label]\n            }, null, 10 /* CLASS, PROPS */, _hoisted_6)\n          ], 2 /* CLASS */)\n        ])\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Multiple label \"),\n    ($props.mode == 'multiple' && _ctx.hasSelected && !_ctx.search)\n      ? renderSlot(_ctx.$slots, \"multiplelabel\", {\n          key: 3,\n          values: _ctx.iv\n        }, () => [\n          createElementVNode(\"div\", {\n            class: normalizeClass(_ctx.classList.multipleLabel),\n            innerHTML: _ctx.multipleLabelText,\n            \"aria-hidden\": \"true\"\n          }, null, 10 /* CLASS, PROPS */, _hoisted_7)\n        ])\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Placeholder \"),\n    ($props.placeholder && !_ctx.hasSelected && !_ctx.search)\n      ? renderSlot(_ctx.$slots, \"placeholder\", { key: 4 }, () => [\n          createElementVNode(\"div\", {\n            class: normalizeClass(_ctx.classList.placeholder),\n            \"aria-hidden\": \"true\"\n          }, toDisplayString($props.placeholder), 3 /* TEXT, CLASS */)\n        ])\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Spinner \"),\n    ($props.loading || _ctx.resolving)\n      ? renderSlot(_ctx.$slots, \"spinner\", { key: 5 }, () => [\n          createElementVNode(\"span\", {\n            class: normalizeClass(_ctx.classList.spinner),\n            \"aria-hidden\": \"true\"\n          }, null, 2 /* CLASS */)\n        ])\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Clear \"),\n    (_ctx.hasSelected && !$props.disabled && $props.canClear && !_ctx.busy)\n      ? renderSlot(_ctx.$slots, \"clear\", {\n          key: 6,\n          clear: _ctx.clear\n        }, () => [\n          createElementVNode(\"span\", {\n            tabindex: \"0\",\n            role: \"button\",\n            \"aria-label\": \"❎\",\n            class: normalizeClass(_ctx.classList.clear),\n            onClick: _cache[6] || (_cache[6] = (...args) => (_ctx.clear && _ctx.clear(...args))),\n            onKeyup: _cache[7] || (_cache[7] = withKeys((...args) => (_ctx.clear && _ctx.clear(...args)), [\"enter\"]))\n          }, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.classList.clearIcon)\n            }, null, 2 /* CLASS */)\n          ], 34 /* CLASS, HYDRATE_EVENTS */)\n        ])\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Caret \"),\n    ($props.caret && $props.showOptions)\n      ? renderSlot(_ctx.$slots, \"caret\", { key: 7 }, () => [\n          createElementVNode(\"span\", {\n            class: normalizeClass(_ctx.classList.caret),\n            onClick: _cache[8] || (_cache[8] = (...args) => (_ctx.handleCaretClick && _ctx.handleCaretClick(...args))),\n            \"aria-hidden\": \"true\"\n          }, null, 2 /* CLASS */)\n        ])\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Options \"),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.classList.dropdown),\n      tabindex: \"-1\"\n    }, [\n      renderSlot(_ctx.$slots, \"beforelist\", { options: _ctx.fo }),\n      createElementVNode(\"ul\", {\n        class: normalizeClass(_ctx.classList.options),\n        id: _ctx.ariaOwns\n      }, [\n        ($props.groups)\n          ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(_ctx.fg, (group, i, key) => {\n              return (openBlock(), createElementBlock(\"li\", {\n                class: normalizeClass(_ctx.classList.group),\n                key: key,\n                id: _ctx.ariaGroupId(group),\n                \"aria-label\": _ctx.ariaGroupLabel(group),\n                \"aria-selected\": _ctx.isSelected(group),\n                role: \"option\"\n              }, [\n                createElementVNode(\"div\", {\n                  class: normalizeClass(_ctx.classList.groupLabel(group)),\n                  \"data-pointed\": _ctx.isPointed(group),\n                  onMouseenter: $event => (_ctx.setPointer(group, i)),\n                  onClick: $event => (_ctx.handleGroupClick(group))\n                }, [\n                  renderSlot(_ctx.$slots, \"grouplabel\", {\n                    group: group,\n                    isSelected: _ctx.isSelected,\n                    isPointed: _ctx.isPointed\n                  }, () => [\n                    createElementVNode(\"span\", {\n                      innerHTML: group[$props.groupLabel]\n                    }, null, 8 /* PROPS */, _hoisted_11)\n                  ])\n                ], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_10),\n                createElementVNode(\"ul\", {\n                  class: normalizeClass(_ctx.classList.groupOptions),\n                  \"aria-label\": _ctx.ariaGroupLabel(group),\n                  role: \"group\"\n                }, [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(group.__VISIBLE__, (option, i, key) => {\n                    return (openBlock(), createElementBlock(\"li\", {\n                      class: normalizeClass(_ctx.classList.option(option, group)),\n                      \"data-pointed\": _ctx.isPointed(option),\n                      \"data-selected\": _ctx.isSelected(option) || undefined,\n                      key: key,\n                      onMouseenter: $event => (_ctx.setPointer(option)),\n                      onClick: $event => (_ctx.handleOptionClick(option)),\n                      id: _ctx.ariaOptionId(option),\n                      \"aria-selected\": _ctx.isSelected(option),\n                      \"aria-label\": _ctx.ariaOptionLabel(option),\n                      role: \"option\"\n                    }, [\n                      renderSlot(_ctx.$slots, \"option\", {\n                        option: option,\n                        isSelected: _ctx.isSelected,\n                        isPointed: _ctx.isPointed,\n                        search: _ctx.search\n                      }, () => [\n                        createElementVNode(\"span\", {\n                          innerHTML: option[$props.label]\n                        }, null, 8 /* PROPS */, _hoisted_14)\n                      ])\n                    ], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_13))\n                  }), 128 /* KEYED_FRAGMENT */))\n                ], 10 /* CLASS, PROPS */, _hoisted_12)\n              ], 10 /* CLASS, PROPS */, _hoisted_9))\n            }), 128 /* KEYED_FRAGMENT */))\n          : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(_ctx.fo, (option, i, key) => {\n              return (openBlock(), createElementBlock(\"li\", {\n                class: normalizeClass(_ctx.classList.option(option)),\n                \"data-pointed\": _ctx.isPointed(option),\n                \"data-selected\": _ctx.isSelected(option) || undefined,\n                key: key,\n                onMouseenter: $event => (_ctx.setPointer(option)),\n                onClick: $event => (_ctx.handleOptionClick(option)),\n                id: _ctx.ariaOptionId(option),\n                \"aria-selected\": _ctx.isSelected(option),\n                \"aria-label\": _ctx.ariaOptionLabel(option),\n                role: \"option\"\n              }, [\n                renderSlot(_ctx.$slots, \"option\", {\n                  option: option,\n                  isSelected: _ctx.isSelected,\n                  isPointed: _ctx.isPointed,\n                  search: _ctx.search\n                }, () => [\n                  createElementVNode(\"span\", {\n                    innerHTML: option[$props.label]\n                  }, null, 8 /* PROPS */, _hoisted_16)\n                ])\n              ], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_15))\n            }), 128 /* KEYED_FRAGMENT */))\n      ], 10 /* CLASS, PROPS */, _hoisted_8),\n      (_ctx.noOptions)\n        ? renderSlot(_ctx.$slots, \"nooptions\", { key: 0 }, () => [\n            createElementVNode(\"div\", {\n              class: normalizeClass(_ctx.classList.noOptions),\n              innerHTML: $props.noOptionsText\n            }, null, 10 /* CLASS, PROPS */, _hoisted_17)\n          ])\n        : createCommentVNode(\"v-if\", true),\n      (_ctx.noResults)\n        ? renderSlot(_ctx.$slots, \"noresults\", { key: 1 }, () => [\n            createElementVNode(\"div\", {\n              class: normalizeClass(_ctx.classList.noResults),\n              innerHTML: $props.noResultsText\n            }, null, 10 /* CLASS, PROPS */, _hoisted_18)\n          ])\n        : createCommentVNode(\"v-if\", true),\n      ($props.infinite && _ctx.hasMore)\n        ? (openBlock(), createElementBlock(\"div\", {\n            key: 2,\n            class: normalizeClass(_ctx.classList.inifinite),\n            ref: \"infiniteLoader\"\n          }, [\n            renderSlot(_ctx.$slots, \"infinite\", {}, () => [\n              createElementVNode(\"span\", {\n                class: normalizeClass(_ctx.classList.inifiniteSpinner)\n              }, null, 2 /* CLASS */)\n            ])\n          ], 2 /* CLASS */))\n        : createCommentVNode(\"v-if\", true),\n      renderSlot(_ctx.$slots, \"afterlist\", { options: _ctx.fo })\n    ], 2 /* CLASS */),\n    createCommentVNode(\" Hacky input element to show HTML5 required warning \"),\n    ($props.required)\n      ? (openBlock(), createElementBlock(\"input\", {\n          key: 8,\n          class: normalizeClass(_ctx.classList.fakeInput),\n          tabindex: \"-1\",\n          value: _ctx.textValue,\n          required: \"\"\n        }, null, 10 /* CLASS, PROPS */, _hoisted_19))\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Native input support \"),\n    ($props.nativeSupport)\n      ? (openBlock(), createElementBlock(Fragment, { key: 9 }, [\n          ($props.mode == 'single')\n            ? (openBlock(), createElementBlock(\"input\", {\n                key: 0,\n                type: \"hidden\",\n                name: $props.name,\n                value: _ctx.plainValue !== undefined ? _ctx.plainValue : ''\n              }, null, 8 /* PROPS */, _hoisted_20))\n            : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(_ctx.plainValue, (v, i) => {\n                return (openBlock(), createElementBlock(\"input\", {\n                  type: \"hidden\",\n                  name: `${$props.name}[]`,\n                  value: v,\n                  key: i\n                }, null, 8 /* PROPS */, _hoisted_21))\n              }), 128 /* KEYED_FRAGMENT */))\n        ], 64 /* STABLE_FRAGMENT */))\n      : createCommentVNode(\"v-if\", true),\n    createCommentVNode(\" Create height for empty input \"),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.classList.spacer)\n    }, null, 2 /* CLASS */)\n  ], 16 /* FULL_PROPS */, _hoisted_1))\n}\n\nscript.render = render;\nscript.__file = \"src/Multiselect.vue\";\n\nexport { script as default };\n"],"mappings":"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"}]}