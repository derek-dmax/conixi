{"remainingRequest":"C:\\Apps\\Velson\\modern\\node_modules\\babel-loader\\lib\\index.js!C:\\Apps\\Velson\\modern\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Apps\\Velson\\modern\\src\\router\\index.js","dependencies":[{"path":"C:\\Apps\\Velson\\modern\\src\\router\\index.js","mtime":1669220587619},{"path":"C:\\Apps\\Velson\\modern\\babel.config.js","mtime":1669220570149},{"path":"C:\\Apps\\Velson\\modern\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669221121540},{"path":"C:\\Apps\\Velson\\modern\\node_modules\\babel-loader\\lib\\index.js","mtime":1669221121449},{"path":"C:\\Apps\\Velson\\modern\\node_modules\\eslint-loader\\index.js","mtime":1669221132004}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyBjcmVhdGVXZWJIaXN0b3J5LCBjcmVhdGVSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7CmltcG9ydCBhcHBDb25maWcgZnJvbSAiLi4vLi4vYXBwLmNvbmZpZyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0YXRlL3N0b3JlJzsKY29uc3Qgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KCksCiAgcm91dGVzLAogIC8vIFVzZSB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgKGkuZS4gbm9ybWFsLWxvb2tpbmcgcm91dGVzKQogIC8vIGluc3RlYWQgb2Ygcm91dGVzIHdpdGggaGFzaGVzIChlLmcuIGV4YW1wbGUuY29tLyMvYWJvdXQpLgogIC8vIFRoaXMgbWF5IHJlcXVpcmUgc29tZSBzZXJ2ZXIgY29uZmlndXJhdGlvbiBpbiBwcm9kdWN0aW9uOgogIC8vIGh0dHBzOi8vcm91dGVyLnZ1ZWpzLm9yZy9lbi9lc3NlbnRpYWxzL2hpc3RvcnktbW9kZS5odG1sI2V4YW1wbGUtc2VydmVyLWNvbmZpZ3VyYXRpb25zCiAgbW9kZTogJ2hpc3RvcnknLAogIC8vIFNpbXVsYXRlIG5hdGl2ZS1saWtlIHNjcm9sbCBiZWhhdmlvciB3aGVuIG5hdmlnYXRpbmcgdG8gYSBuZXcKICAvLyByb3V0ZSBhbmQgdXNpbmcgYmFjay9mb3J3YXJkIGJ1dHRvbnMuCiAgc2Nyb2xsQmVoYXZpb3IodG8sIGZyb20sIHNhdmVkUG9zaXRpb24pIHsKICAgIGlmIChzYXZlZFBvc2l0aW9uKSB7CiAgICAgIHJldHVybiBzYXZlZFBvc2l0aW9uOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMAogICAgICB9OwogICAgfQogIH0KfSk7CgovLyBBUEkgYmFzZWQgQXV0aGVudGljYXRpb24KLy8gQmVmb3JlIGVhY2ggcm91dGUgZXZhbHVhdGVzLi4uCnJvdXRlci5iZWZvcmVFYWNoKGFzeW5jIChyb3V0ZVRvLCByb3V0ZUZyb20sIG5leHQpID0+IHsKICBjb25zdCBhdXRoUmVxdWlyZWQgPSByb3V0ZVRvLm1hdGNoZWQuc29tZShyb3V0ZSA9PiByb3V0ZS5tZXRhLmF1dGhSZXF1aXJlZCk7CiAgaWYgKCFhdXRoUmVxdWlyZWQpIHJldHVybiBuZXh0KCk7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ2F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKTsgLy8gZm9yIGFsbCByZXF1ZXN0cwogIGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9hcGktbm9kZS50aGVtZXNicmFuZC53ZWJzaXRlL3Byb2ZpbGUnKS50aGVuKGRhdGEgPT4gewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJkYXRhJywgSlNPTi5zdHJpbmdpZnkoZGF0YS5kYXRhLnVzZXIpKTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyaWQnLCBkYXRhLmRhdGEudXNlci5faWQpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShkYXRhLmRhdGEudXNlcikpOwogICAgbmV4dCgpOwogIH0pLmNhdGNoKCgpID0+IHsKICAgIG5leHQoewogICAgICBuYW1lOiAnbG9naW4nLAogICAgICBxdWVyeTogewogICAgICAgIHJlZGlyZWN0RnJvbTogcm91dGVUby5mdWxsUGF0aAogICAgICB9CiAgICB9KTsKICB9KTsKfSk7CnJvdXRlci5iZWZvcmVFYWNoKChyb3V0ZVRvLCByb3V0ZUZyb20sIG5leHQpID0+IHsKICBpZiAocHJvY2Vzcy5lbnYuVlVFX0FQUF9ERUZBVUxUX0FVVEggPT09ICJmaXJlYmFzZSIpIHsKICAgIC8vIENoZWNrIGlmIGF1dGggaXMgcmVxdWlyZWQgb24gdGhpcyByb3V0ZQogICAgLy8gKGluY2x1ZGluZyBuZXN0ZWQgcm91dGVzKS4KICAgIGNvbnN0IGF1dGhSZXF1aXJlZCA9IHJvdXRlVG8ubWF0Y2hlZC5zb21lKHJvdXRlID0+IHJvdXRlLm1ldGEuYXV0aFJlcXVpcmVkKTsKCiAgICAvLyBJZiBhdXRoIGlzbid0IHJlcXVpcmVkIGZvciB0aGUgcm91dGUsIGp1c3QgY29udGludWUuCiAgICBpZiAoIWF1dGhSZXF1aXJlZCkgcmV0dXJuIG5leHQoKTsKCiAgICAvLyBJZiBhdXRoIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBpcyBsb2dnZWQgaW4uLi4KICAgIGlmIChzdG9yZS5nZXR0ZXJzWydhdXRoL2xvZ2dlZEluJ10pIHsKICAgICAgLy8gVmFsaWRhdGUgdGhlIGxvY2FsIHVzZXIgdG9rZW4uLi4KICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdhdXRoL3ZhbGlkYXRlJykudGhlbih2YWxpZFVzZXIgPT4gewogICAgICAgIC8vIFRoZW4gY29udGludWUgaWYgdGhlIHRva2VuIHN0aWxsIHJlcHJlc2VudHMgYSB2YWxpZCB1c2VyLAogICAgICAgIC8vIG90aGVyd2lzZSByZWRpcmVjdCB0byBsb2dpbi4KICAgICAgICB2YWxpZFVzZXIgPyBuZXh0KCkgOiByZWRpcmVjdFRvTG9naW4oKTsKICAgICAgfSk7CiAgICB9CgogICAgLy8gSWYgYXV0aCBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgaXMgTk9UIGN1cnJlbnRseSBsb2dnZWQgaW4sCiAgICAvLyByZWRpcmVjdCB0byBsb2dpbi4KICAgIHJlZGlyZWN0VG9Mb2dpbigpOwoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWlubmVyLWRlY2xhcmF0aW9ucwogICAgZnVuY3Rpb24gcmVkaXJlY3RUb0xvZ2luKCkgewogICAgICAvLyBQYXNzIHRoZSBvcmlnaW5hbCByb3V0ZSB0byB0aGUgbG9naW4gY29tcG9uZW50CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICdsb2dpbicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlZGlyZWN0RnJvbTogcm91dGVUby5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGNvbnN0IHB1YmxpY1BhZ2VzID0gWycvbG9naW4nLCAnL3JlZ2lzdGVyJywgJy9mb3Jnb3QtcGFzc3dvcmQnXTsKICAgIGNvbnN0IGF1dGhwYWdlID0gIXB1YmxpY1BhZ2VzLmluY2x1ZGVzKHJvdXRlVG8ucGF0aCk7CiAgICBjb25zdCBsb2dnZWR1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTsKICAgIGlmIChhdXRocGFnZSAmJiAhbG9nZ2VkdXNlcikgewogICAgICByZXR1cm4gbmV4dCgnL2xvZ2luJyk7CiAgICB9CiAgICBuZXh0KCk7CiAgfQp9KTsKcm91dGVyLmJlZm9yZVJlc29sdmUoYXN5bmMgKHJvdXRlVG8sIHJvdXRlRnJvbSwgbmV4dCkgPT4gewogIC8vIENyZWF0ZSBhIGBiZWZvcmVSZXNvbHZlYCBob29rLCB3aGljaCBmaXJlcyB3aGVuZXZlcgogIC8vIGBiZWZvcmVSb3V0ZUVudGVyYCBhbmQgYGJlZm9yZVJvdXRlVXBkYXRlYCB3b3VsZC4gVGhpcwogIC8vIGFsbG93cyB1cyB0byBlbnN1cmUgZGF0YSBpcyBmZXRjaGVkIGV2ZW4gd2hlbiBwYXJhbXMgY2hhbmdlLAogIC8vIGJ1dCB0aGUgcmVzb2x2ZWQgcm91dGUgZG9lcyBub3QuIFdlIHB1dCBpdCBpbiBgbWV0YWAgdG8KICAvLyBpbmRpY2F0ZSB0aGF0IGl0J3MgYSBob29rIHdlIGNyZWF0ZWQsIHJhdGhlciB0aGFuIHBhcnQgb2YKICAvLyBWdWUgUm91dGVyICh5ZXQ/KS4KICB0cnkgewogICAgLy8gRm9yIGVhY2ggbWF0Y2hlZCByb3V0ZS4uLgogICAgZm9yIChjb25zdCByb3V0ZSBvZiByb3V0ZVRvLm1hdGNoZWQpIHsKICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIC8vIElmIGEgYGJlZm9yZVJlc29sdmVgIGhvb2sgaXMgZGVmaW5lZCwgY2FsbCBpdCB3aXRoCiAgICAgICAgLy8gdGhlIHNhbWUgYXJndW1lbnRzIGFzIHRoZSBgYmVmb3JlRW50ZXJgIGhvb2suCiAgICAgICAgaWYgKHJvdXRlLm1ldGEgJiYgcm91dGUubWV0YS5iZWZvcmVSZXNvbHZlKSB7CiAgICAgICAgICByb3V0ZS5tZXRhLmJlZm9yZVJlc29sdmUocm91dGVUbywgcm91dGVGcm9tLCAoLi4uYXJncykgPT4gewogICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBjaG9zZSB0byByZWRpcmVjdC4uLgogICAgICAgICAgICBpZiAoYXJncy5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyBJZiByZWRpcmVjdGluZyB0byB0aGUgc2FtZSByb3V0ZSB3ZSdyZSBjb21pbmcgZnJvbS4uLgogICAgICAgICAgICAgIC8vIENvbXBsZXRlIHRoZSByZWRpcmVjdC4KICAgICAgICAgICAgICBuZXh0KC4uLmFyZ3MpOwogICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlZGlyZWN0ZWQnKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjb250aW51ZSByZXNvbHZpbmcgdGhlIHJvdXRlLgogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICAvLyBJZiBhIGBiZWZvcmVSZXNvbHZlYCBob29rIGNob3NlIHRvIHJlZGlyZWN0LCBqdXN0IHJldHVybi4KICB9IGNhdGNoIChlcnJvcikgewogICAgcmV0dXJuOwogIH0KICBkb2N1bWVudC50aXRsZSA9IHJvdXRlVG8ubWV0YS50aXRsZSArICcgfCAnICsgYXBwQ29uZmlnLnRpdGxlOwogIC8vIElmIHdlIHJlYWNoIHRoaXMgcG9pbnQsIGNvbnRpbnVlIHJlc29sdmluZyB0aGUgcm91dGUuCiAgbmV4dCgpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"names":["createWebHistory","createRouter","axios","routes","appConfig","store","router","history","mode","scrollBehavior","to","from","savedPosition","top","left","beforeEach","routeTo","routeFrom","next","authRequired","matched","some","route","meta","defaults","headers","common","localStorage","getItem","get","then","data","setItem","JSON","stringify","user","_id","catch","name","query","redirectFrom","fullPath","process","env","VUE_APP_DEFAULT_AUTH","getters","dispatch","validUser","redirectToLogin","publicPages","authpage","includes","path","loggeduser","beforeResolve","Promise","resolve","reject","args","length","Error","error","document","title"],"sources":["C:/Apps/Velson/modern/src/router/index.js"],"sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\nimport axios from 'axios';\nimport routes from './routes';\nimport appConfig from \"../../app.config\";\nimport store from '@/state/store';\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n  // Use the HTML5 history API (i.e. normal-looking routes)\n  // instead of routes with hashes (e.g. example.com/#/about).\n  // This may require some server configuration in production:\n  // https://router.vuejs.org/en/essentials/history-mode.html#example-server-configurations\n  mode: 'history',\n  // Simulate native-like scroll behavior when navigating to a new\n  // route and using back/forward buttons.\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    } else {\n      return { top: 0, left: 0 };\n    }\n  },\n});\n\n// API based Authentication\n// Before each route evaluates...\nrouter.beforeEach(async (routeTo, routeFrom, next) => {\n\n  const authRequired = routeTo.matched.some((route) => route.meta.authRequired);\n\n  if (!authRequired) return next();\n\n  axios.defaults.headers.common['authorization'] = 'Bearer ' + localStorage.getItem('jwt'); // for all requests\n  await axios.get('https://api-node.themesbrand.website/profile').then((data) => {\n    localStorage.setItem('userdata', JSON.stringify(data.data.user));\n    localStorage.setItem('userid', data.data.user._id);\n    localStorage.setItem('user', JSON.stringify(data.data.user));\n    next();\n  }).catch(() => {\n    next({ name: 'login', query: { redirectFrom: routeTo.fullPath } });\n  });\n});\n\nrouter.beforeEach((routeTo, routeFrom, next) => {\n  if (process.env.VUE_APP_DEFAULT_AUTH === \"firebase\") {\n\n    // Check if auth is required on this route\n    // (including nested routes).\n    const authRequired = routeTo.matched.some((route) => route.meta.authRequired);\n\n    // If auth isn't required for the route, just continue.\n    if (!authRequired) return next();\n\n    // If auth is required and the user is logged in...\n    if (store.getters['auth/loggedIn']) {\n      // Validate the local user token...\n      return store.dispatch('auth/validate').then((validUser) => {\n        // Then continue if the token still represents a valid user,\n        // otherwise redirect to login.\n        validUser ? next() : redirectToLogin();\n      });\n    }\n\n    // If auth is required and the user is NOT currently logged in,\n    // redirect to login.\n    redirectToLogin();\n\n    // eslint-disable-next-line no-unused-vars\n    // eslint-disable-next-line no-inner-declarations\n    function redirectToLogin() {\n      // Pass the original route to the login component\n      next({ name: 'login', query: { redirectFrom: routeTo.fullPath } });\n    }\n  } else {\n    const publicPages = ['/login', '/register', '/forgot-password'];\n    const authpage = !publicPages.includes(routeTo.path);\n    const loggeduser = localStorage.getItem('user');\n\n    if (authpage && !loggeduser) {\n      return next('/login');\n    }\n\n    next();\n  }\n});\n\nrouter.beforeResolve(async (routeTo, routeFrom, next) => {\n  // Create a `beforeResolve` hook, which fires whenever\n  // `beforeRouteEnter` and `beforeRouteUpdate` would. This\n  // allows us to ensure data is fetched even when params change,\n  // but the resolved route does not. We put it in `meta` to\n  // indicate that it's a hook we created, rather than part of\n  // Vue Router (yet?).\n  try {\n    // For each matched route...\n    for (const route of routeTo.matched) {\n      await new Promise((resolve, reject) => {\n        // If a `beforeResolve` hook is defined, call it with\n        // the same arguments as the `beforeEnter` hook.\n        if (route.meta && route.meta.beforeResolve) {\n          route.meta.beforeResolve(routeTo, routeFrom, (...args) => {\n            // If the user chose to redirect...\n            if (args.length) {\n              // If redirecting to the same route we're coming from...\n              // Complete the redirect.\n              next(...args);\n              reject(new Error('Redirected'));\n            } else {\n              resolve();\n            }\n          });\n        } else {\n          // Otherwise, continue resolving the route.\n          resolve();\n        }\n      });\n    }\n    // If a `beforeResolve` hook chose to redirect, just return.\n  } catch (error) {\n    return;\n  }\n  document.title = routeTo.meta.title + ' | ' + appConfig.title;\n  // If we reach this point, continue resolving the route.\n  next();\n});\n\nexport default router;\n"],"mappings":"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"}]}